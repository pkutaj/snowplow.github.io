<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159566509-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M24XMJD"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-M24XMJD",{anonymize_ip:!0})</script><title data-rh="true">iOS Tracker (1.7.0) | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplowanalytics.com/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="iOS Tracker (1.7.0) | Snowplow Documentation"><meta data-rh="true" name="description" content="The iOS tracker supports iOS 8.0+, macOS 10.9+, tvOS 9.0+ and watchOS 2.0+"><meta data-rh="true" property="og:description" content="The iOS tracker supports iOS 8.0+, macOS 10.9+, tvOS 9.0+ and watchOS 2.0+"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplowanalytics.com/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.cb54eed0.css">
<link rel="preload" href="/assets/js/runtime~main.96240d76.js" as="script">
<link rel="preload" href="/assets/js/main.82ee80ee.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link nav-link__first customized_AOMy navbar__link--active" href="/docs">Docs</a><a href="https://discourse.snowplowanalytics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://try.snowplowanalytics.com/?utm_content=hero-cta&amp;utm_campaign=snowplow-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Try Snowplow</a><a href="https://go.snowplowanalytics.com/l/571483/2021-02-19/3sn5nml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Book a demo</a><div class="toggle_vylO extraSpace_k8HL"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG extraPadding_YQbj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-on-snowplow-open-source">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/collecting-data">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications">Trackers - collecting data from your own applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trackers - collecting data from your own applications&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracker-protocol">Snowplow Tracker Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/tracker-maintenance-classification">Tracker Maintenance Classification</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/javascript-trackers">JavaScript Trackers (Web and Node.js)</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript Trackers (Web and Node.js)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers">Mobile Native Trackers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Native Trackers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/mobile-trackers-v3-0">Mobile Trackers v3.0</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Trackers v3.0&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/migration-guides">Migration guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migration guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions">Previous versions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Previous versions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/mobile-trackers-v2-x">Mobile Trackers v2.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile Trackers v2.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker">Android Tracker v1.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Android Tracker v1.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker">iOS Tracker v1.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;iOS Tracker v1.x&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0">iOS Tracker (1.7.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-6-0">iOS Tracker (1.6.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-5-0">iOS Tracker (1.5.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-4-0">iOS Tracker (1.4.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker">iOS Tracker (1.3.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-2-0">Objective-C (iOS) (1.2.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-1-5">Objective-C (iOS) (1.1.5)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-1-4">Objective-C (iOS) (1.1.4)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-1-3">Objective-C (iOS) (1.1.3)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-1-2">Objective-C (iOS) (1.1.2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-1-1">Objective-C (iOS) (1.1.1)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-1-0">Objective-C (iOS) (1.1.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-1-0-0">Objective-C (iOS) (1.0.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-9-0">Objective-C (iOS) (0.9.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-8-0">Objective-C (iOS) (0.8.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-7-0">Objective-C (iOS) (0.7.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-6-0">Objective-C (iOS) (0.6.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-5-0">Objective-C (iOS) (0.5.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-4-0">Objective-C (iOS) (0.4.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-3-0">Objective-C (iOS) (0.3.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-2-0">Objective-C (iOS) (0.2.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/objective-c-0-1-0">Objective-C (iOS) (0.1.0)</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/android-google-play-data-safety">Android - Google Play Data Safety</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/react-native-tracker">React Native Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;React Native Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/flutter-tracker">Flutter Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flutter Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/roku-tracker">Roku Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Roku Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/google-amp-tracker">Google AMP Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Google AMP Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/pixel-tracker">Pixel Tracker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/golang-tracker">Golang Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Golang Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/net-tracker">.NET Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;.NET Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/java-tracker">Java Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/python-tracker">Python Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/scala-tracker">Scala Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scala Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/ruby-tracker">Ruby Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ruby Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/php-tracker">PHP Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;PHP Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/c-tracker">C++ Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;C++ Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/unity-tracker">Unity Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracking-cli">Tracking CLI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tracking CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/lua-tracker">Lua Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lua Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/google-analytics-plugin">Google Analytics Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/arduino-tracker">Arduino Tracker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-from-own-applications/actionscript3-tracker">ActionScript3 Tracker</a><button aria-label="Toggle the collapsible sidebar category &#x27;ActionScript3 Tracker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collecting-data/collecting-data-from-third-parties">Webhooks - collecting data from third parties</a><button aria-label="Toggle the collapsible sidebar category &#x27;Webhooks - collecting data from third parties&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/managing-data-quality">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pipeline-components-and-applications">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data"><span itemprop="name">Collecting data with Trackers and Webhooks</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications"><span itemprop="name">Trackers - collecting data from your own applications</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers"><span itemprop="name">Mobile Native Trackers</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions"><span itemprop="name">Previous versions</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker"><span itemprop="name">iOS Tracker v1.x</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">iOS Tracker (1.7.0)</span><meta itemprop="position" content="6"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>iOS Tracker (1.7.0)</h1></header><p>The iOS tracker supports <strong>iOS 8.0+</strong>, <strong>macOS 10.9+</strong>, <strong>tvOS 9.0+</strong> and <strong>watchOS 2.0+</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p>Dependencies are needed in order to use the iOS tracker library in your application. These can be installed manually, or through package managers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-managers">Package Managers<a class="hash-link" href="#package-managers" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cocoapods">Cocoapods<a class="hash-link" href="#cocoapods" title="Direct link to heading">​</a></h4><p>First make sure that Cocoapods is installed on your system.</p><p>For instructions, refer to the official Cocoapods guide <a href="https://guides.cocoapods.org/using/getting-started.html" target="_blank" rel="noopener noreferrer">here</a>.</p><p>The tracker can be used in your project by adding <code>SnowplowTracker</code> to your project&#x27;s <code>Podfile</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    pod &#x27;SnowplowTracker&#x27;, &#x27;~&gt; 1.6&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you can install the dependency in your project with the command: <code>pod install</code>.</p><p>Make sure to always open the Xcode workspace instead of the project file when building your project:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $ open App.xcworkspace</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you can import classes in order to use the tracker e.g.:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SPPayload.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SPTracker.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SPSelfDescribingJson.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SPEvent.h&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="carthage">Carthage<a class="hash-link" href="#carthage" title="Direct link to heading">​</a></h4><p>In order to add the tracker to a project that uses Carthage, add the line to your <code>Cartfile</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    github &quot;snowplow/snowplow-objc-tracker&quot; ~&gt; 1.6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run <code>carthage update</code> and drag the appropriate frameworks to your project from the <code>Carthage/build</code> folder found in the project&#x27;s folder.</p><p>The tracker can be imported like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    import &lt;SnowplowTracker/SPTracker.h&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="swift-package-manager">Swift Package Manager<a class="hash-link" href="#swift-package-manager" title="Direct link to heading">​</a></h4><p><em>[<!-- -->Available from v.1.3.0<!-- -->]</em></p><p><strong>Note</strong>: At the moment it supports only the iOS platform due to technical limitations.</p><p>To install Snowplow Tracker with SPM:</p><ol><li>In Xcode, select File &gt; Swift Packages &gt; Add Package Dependency</li><li>Add the repository of: <a href="https://github.com/snowplow/snowplow-objc-tracker" target="_blank" rel="noopener noreferrer">https://github.com/snowplow/snowplow-objc-tracker</a></li><li>Go to your project&#x27;s targets in the General tab &gt; <em>Frameworks, Libraries &amp; Embedded Content</em> section</li><li>Click the + button. In the <em>Choose frameworks and libraries to add</em> dialog, select <em>Add Other</em>, and choose <em>Add Package Dependency</em>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="demo-apps">Demo apps<a class="hash-link" href="#demo-apps" title="Direct link to heading">​</a></h3><p>With the tracker we&#x27;ve included few demo apps that can be used to demonstrate working iOS apps that integrate the tracker and allow you to send events to a collector.</p><p>They can be found in the <code>Examples</code> folder:</p><ul><li><code>SnowplowDemo</code>: an Objective-C app;</li><li><code>SnowplowSwiftCarthageDemo</code>: a Swift app which imports dependencies using Carthage;</li><li><code>SnowplowSwiftCocoapodsDemo</code>: a Swift app which imports dependencies using Cocoapods.</li></ul><p>The two Swift apps share the same codebase. The unique difference is in the configuration for the dependency managers.</p><p>For general testing, <a href="https://github.com/snowplow/snowplow-mini" target="_blank" rel="noopener noreferrer">Snowplow Mini</a> can be used as an easily deployable collector with a live web interface for viewing received events.</p><p>The apps can be run in an emulator or on an actual Apple device through Xcode.</p><p>Simply enter the endpoint of the collector in the app&#x27;s interface once it&#x27;s launched and press <code>&quot;send events&quot;</code>!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a class="hash-link" href="#implementation" title="Direct link to heading">​</a></h2><p>The Tracker is designed to be used as a Singleton object, meaning that you should have only one instance of Tracker within your application. Without setting this up:</p><ul><li>Multiple Emitters could become active resulting in the same events being sent multiple times.</li><li>Thrashing of the database.</li><li>Hogging of resources for sending HTTP requests which can slow your application.</li></ul><p>For a basic example of the Singleton pattern:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // --- Header File &#x27;SnowplowManager.h&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @class SPTracker;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @interface SnowplowManager : NSObject {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        SPTracker *tracker;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @property (nonatomic, retain) SPTracker *tracker;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + (id) snowplowManager;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // --- Method File &#x27;SnowplowManager.m&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SnowplowManager.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SPTracker.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #import &quot;SPEmitter.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @implementation SnowplowManager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @synthesize tracker;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #pragma mark Singleton Methods</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + (id) snowplowManager {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        static SnowplowManager *sharedSnowplowManager = nil;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        static dispatch_once_t onceToken;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        dispatch_once(&amp;onceToken, ^{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            sharedSnowplowManager = [[self alloc] init];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return sharedSnowplowManager;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    - (id) init {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      self = [super init];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      if (self) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            [builder setUrlEndpoint:@&quot;com.acme&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return self;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can then access your Tracker via <code>SnowplowManager *snowplowManager = [SnowplowManager snowplowManager]</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-start">Quick Start<a class="hash-link" href="#quick-start" title="Direct link to heading">​</a></h2><p>Here&#x27;s the minimum code needed to create a tracker and send an event to a collector.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:@&quot;example.com&quot;]; // Required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter]; // Required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    NSDictionary * data = @{@&quot;level&quot;: @23, @&quot;score&quot;: @56473};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPSelfDescribingJson * sdj = [[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.acme/save_game/jsonschema/1-0-0&quot; andData:data];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPUnstructured *event = [SPUnstructured build:^(id&lt;SPUnstructuredBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [builder setEventData:sdj];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker track:event];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracker-structure">Tracker structure<a class="hash-link" href="#tracker-structure" title="Direct link to heading">​</a></h2><p>Here we&#x27;ll explain the purpose of the classes provided in the tracker.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spemitter">SPEmitter<a class="hash-link" href="#spemitter" title="Direct link to heading">​</a></h3><p>Responsible for all the storage, networking and scheduling required to ensure events are sent to a collector.</p><p>Details like the collector endpoint and sending timeout lengths are set here.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sptracker">SPTracker<a class="hash-link" href="#sptracker" title="Direct link to heading">​</a></h3><p><code>SPTracker</code> is the class where you can find the methods available for tracking events. This is also where all parts of the tracker are brought together, i.e. within <code>SPTracker</code> you must set the associated emitter, subject, etc.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sppayload">SPPayload<a class="hash-link" href="#sppayload" title="Direct link to heading">​</a></h3><p><code>SPPayload</code> is simply a key-value store used for constructing events.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spselfdescribingjson">SPSelfDescribingJson<a class="hash-link" href="#spselfdescribingjson" title="Direct link to heading">​</a></h3><p><code>SPSelfDescribingJson</code> is a class used for constructing self-describing JSONs (SDJs).</p><p>An SDJ has two fields: <code>schema</code> and <code>data</code>. The <code>schema</code> field is a URI that specifies where to find the schema that defines the structure of the data nested in the <code>data</code> field.</p><p>A self-describing JSON is sent directly to the collector. All events are self-describing JSONs.</p><p>Generally speaking, when sending your own custom events, you will want to create a <code>SPSelfDescribingJson</code> object instantiated with two arguments: the schema, and a <code>SPPayload</code> or <code>NSDictionary</code> that holds the structured data you&#x27;d like to track.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spsubject">SPSubject<a class="hash-link" href="#spsubject" title="Direct link to heading">​</a></h3><p>A &quot;subject&quot; represents an individual user that is being tracked. It is used to track data that persists with a user like timezone, user ID, platform, etc.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spevent">SPEvent<a class="hash-link" href="#spevent" title="Direct link to heading">​</a></h3><p>This is where all events are found, the available classes are:</p><ul><li>SPPageView</li><li>SPStructured</li><li>SPUnstructured</li><li>SPScreenView</li><li>SPConsentWithdrawn</li><li>SPConsentGranted</li><li>SPConsentDocument</li><li>SPTiming</li><li>SPEcommTransaction</li><li>SPEcommTransactionItem</li><li>SPNotificationContent</li><li>SPPushNotification</li></ul><p>Events are sent by providing them as arguments to the tracking methods found in <code>SPTracker</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sprequestcallback">SPRequestCallback<a class="hash-link" href="#sprequestcallback" title="Direct link to heading">​</a></h3><p>This is a class that defines callbacks that are called when an emitter either fails or succeeds to send requests.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-basic-methods">Tracking basic methods<a class="hash-link" href="#tracking-basic-methods" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-emitter">Creating an emitter<a class="hash-link" href="#creating-an-emitter" title="Direct link to heading">​</a></h3><p>Every tracker must have an emitter, so an emitter must be created first.</p><p>The URL endpoint must be defined.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:_url];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setProtocol:SPHttp];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-a-user-identifier">Setting a User Identifier<a class="hash-link" href="#setting-a-user-identifier" title="Direct link to heading">​</a></h3><p>You can set the user ID to any string:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [subject setUserId:userId];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [subject setUserId:@&quot;alexd&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-tracker">Creating a tracker<a class="hash-link" href="#creating-a-tracker" title="Direct link to heading">​</a></h3><p>To instantiate a tracker in your code simply instantiate the <code>SPTracker</code> class with the following builder pattern:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default iOS app sets automatically the parameter <code>p</code> (platform) as <code>mob</code> and desktop app sets it to <code>pc</code>. However, there are cases where you want to specify that differently by the default option.</p><p>On the tracker setup you can override the device platform entry calling:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker setDevicePlatform: SPDevicePlatformGameConsole];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It resets the parameter <code>p</code> (platform) to the new value.</p><p><a href="https://github.com/snowplow/snowplow/wiki/snowplow-tracker-protocol#1-common-parameters-platform-and-event-independent" target="_blank" rel="noopener noreferrer">Here</a> a full list of the supported platform values.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sending-events">Sending events<a class="hash-link" href="#sending-events" title="Direct link to heading">​</a></h3><p>In order to send an event, an event must first be made, and then supplied to a tracking method.</p><p>Here&#x27;s an example of constructing and sending a custom event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    NSDictionary * data = @{@&quot;level&quot;: @23, @&quot;score&quot;: @56473};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPSelfDescribingJson * sdj = [[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.acme/save_game/jsonschema/1-0-0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                                                      andData:data];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPUnstructured *event = [SPUnstructured build:^(id&lt;SPUnstructuredBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [builder setEventData:sdj];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker track:event];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="screenview-event">Screenview event<a class="hash-link" href="#screenview-event" title="Direct link to heading">​</a></h4><p>A screenview event can be manually tracked like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPScreenView *event = [SPScreenView build:^(id&lt;SPScreenViewBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [builder setName:@&quot;Home screen&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [builder setType:@&quot;Navigation bar&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [builder setTransitionType:@&quot;swipe&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker track:event];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="attaching-contexts-to-events">Attaching contexts to events<a class="hash-link" href="#attaching-contexts-to-events" title="Direct link to heading">​</a></h3><p>Contexts augment events with additional information. The tracker has standard contexts for automatically attaching useful information like geolocation, session, or app version/build to every event.</p><p>Each event has an argument for custom contexts in order to attach information that isn&#x27;t covered by standard contexts.</p><p>The custom context argument should consist of a NSMutableArray of NSDictionary representing an array of one or more contexts. The format of each individual context element is the same as for an unstructured event (referring to the fact that it consists of a schema and data field - they&#x27;re all self-describing JSONs).</p><p>If a visitor arrives on a page advertising a movie, the context dictionary might look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;schema&quot;: &quot;iglu:com.acme_company/movie_poster/jsonschema/2-1-1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;movieName&quot;: &quot;The Guns of Navarone&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;posterCountry&quot;: &quot;US&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;posterYear&quot;: &quot;1961&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The corresponding NSDictionary would look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    NSDictionary *poster =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            @&quot;schema&quot;:@&quot;iglu:com.acme_company/movie_poster/jsonschema/1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            @&quot;data&quot;: @{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                @&quot;movieName&quot;: @&quot;The Guns of Navarone&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                @&quot;posterCountry&quot;: @&quot;US&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                @&quot;posterYear&quot;: @&quot;1961&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        };</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Sending the movie poster context with an event looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    event = [SPStructured build:^(id&lt;SPStructuredBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setCategory:@&quot;DemoCategory&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setAction:@&quot;DemoAction&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setContexts:[NSMutableArray arrayWithArray:@[poster]]];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker track:event];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: even if there is only one custom context attached to the event, it still needs to be placed in an array.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="more-advanced-methods">More advanced methods<a class="hash-link" href="#more-advanced-methods" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-features">Tracking features<a class="hash-link" href="#tracking-features" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="session-tracking">Session tracking<a class="hash-link" href="#session-tracking" title="Direct link to heading">​</a></h4><p>By default, no client session tracking is activated. Once enabled the tracker will start appending a <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-1" target="_blank" rel="noopener noreferrer">client<!-- -->_<!-- -->session</a> context to each event it sends and it will maintain this session information for the life of the application, i.e. as long as the application is installed on the device.</p><p>Sessions correspond to tracked user activity. A session expires when no tracking events have occurred for the amount of time defined in a timeout. When a session expires, the session ID is incremented and session checking will stop. There are two timeouts since a session can timeout in the foreground (while the app is visible) or in the background (when the app has been suspended, but not closed).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setForegroundTimeout:600]; // 10 minutes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setBackgroundTimeout:300]; // 5 minutes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="foreground-and-background-events">Foreground and background events<a class="hash-link" href="#foreground-and-background-events" title="Direct link to heading">​</a></h5><p>In order to enable these events, use the method <code>setLifecycleEvents</code> during initialization of the tracker:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setLifecycleEvents:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/application_foreground/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Foreground events</a> are sent whenever an app is opened or resumed.</p><p><a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/application_background/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">Background events</a> are sent whenever an app is moved to the background.</p><p>Events are not sent on app close since the OS cannot guarantee advance notice of app closing.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="screen-view-tracking">Screen view tracking<a class="hash-link" href="#screen-view-tracking" title="Direct link to heading">​</a></h5><p>Auto-tracking can be enabled to send screen view events whenever a screen is changed in the app (a screen change corresponds to when <code>viewDidAppear()</code> is called on a view controller).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setScreenViewEvents:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="exception-tracking">Exception tracking<a class="hash-link" href="#exception-tracking" title="Direct link to heading">​</a></h5><p>Auto-tracking can be enabled to send an event for exceptions that are raised. The only caveat is that the exception event will be sent when the tracker is restarted.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setExceptionEvents:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="install-tracking">Install tracking<a class="hash-link" href="#install-tracking" title="Direct link to heading">​</a></h5><p>Auto-tracking can be enabled to send an install event whenever the tracker is used for the first time in an app. The tracker will record when it&#x27;s first been installed, so deleting and reinstalling an app will trigger another install event.</p><p>If install auto-tracking is not enabled, the tracker will still keep track of when the app was first installed, so that when enabled, the tracker will send the recorded install event with a timestamp reflecting when it was first installed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setInstallEvents:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-contexts">Standard contexts<a class="hash-link" href="#standard-contexts" title="Direct link to heading">​</a></h4><p>These are out-of-the-box tracker options that when enabled will attach useful contexts to every event.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="session-context">Session context<a class="hash-link" href="#session-context" title="Direct link to heading">​</a></h5><p>The <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-1" target="_blank" rel="noopener noreferrer">session context</a> includes sessionization information like user ID and session ID that can be used to relate user activity patterns to events.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setSessionContext:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="application-context">Application context<a class="hash-link" href="#application-context" title="Direct link to heading">​</a></h5><p>The <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.mobile/application/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">application context</a> includes app build and version number.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setApplicationContext:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="screen-context">Screen Context<a class="hash-link" href="#screen-context" title="Direct link to heading">​</a></h5><p>The <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.mobile/screen/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">screen context</a> contains information related to the current screen being viewed on the device when the event is created.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setScreenContext:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="platform-context">Platform context<a class="hash-link" href="#platform-context" title="Direct link to heading">​</a></h5><p>The platform context will either be a <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/mobile_context/jsonschema/1-0-1" target="_blank" rel="noopener noreferrer">mobile</a> or <!-- -->[<a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/desktop_context/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">desktop</a> context depending on which platform sends the event. It is enabled by adding an <code>SPSubject</code> to the tracker.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setPlatformContext:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPSubject *subject = [[SPSubject alloc] initWithPlatformContext:YES andGeoContext:NO];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker setSubject:subject];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="geolocation-context">Geolocation context<a class="hash-link" href="#geolocation-context" title="Direct link to heading">​</a></h5><p>The <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/geolocation_context/jsonschema/1-1-0" target="_blank" rel="noopener noreferrer">geolocation context</a> is enabled by adding an <code>SPSubject</code> to the tracker.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setPlatformContext:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPSubject *subject = [[SPSubject alloc] initWithPlatformContext:NO andGeoContext:YES];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [tracker setSubject:subject];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="global-contexts">Global contexts<a class="hash-link" href="#global-contexts" title="Direct link to heading">​</a></h3><p><em>[<!-- -->Available from v.1.3.0<!-- -->]</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started-with-global-contexts">Getting started with Global Contexts<a class="hash-link" href="#getting-started-with-global-contexts" title="Direct link to heading">​</a></h4><p>As explained above, the <em>global contexts</em> are particularly helpful when the developer wants to associate specific contexts to all the events or a subset of them, rather than adding the contexts manually to each event tracked.<br>
<!-- -->This can be done at tracker setup declaring the contexts generator and the suitable subset of events.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Instance a global contexts generator</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPSelfDescribingJson *staticContext =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.snowplowanalytics.snowplow/test_sdj/jsonschema/1-0-1&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                         andData:@{@&quot;key&quot;: @&quot;value&quot;}];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *globalContext1 =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [[SPGlobalContext alloc] initWithStaticContexts:@[staticContext];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setGlobalContextGenerators:@{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        @&quot;tag1&quot;: globalContext1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        @&quot;tag2&quot;: globalContext2,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The method <code>setGlobalContextGenerators:</code> can be used to set up the generators which are able to create contexts. Each context generator is associated to a tag string.<br>
<!-- -->The tag string can be used to remove a generator at runtime using the method <code>removeGlobalContext</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *globalContext = [tracker removeGlobalContext:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It returns <code>nil</code> in case there aren&#x27;t global contexts stored with the specified tag, otherwise it returns the removed SPGlobalContext instance.</p><p>It&#x27;s possible to add global contexts at runtime with the method <code>addGlobalContext</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">BOOL isAdded = [tracker addGlobalContext:globalContext tag:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="context-primitives">Context primitives<a class="hash-link" href="#context-primitives" title="Direct link to heading">​</a></h4><p>Context primitive is a term for anything that can be used as a context. A context primitive is a self-describing JSON, or a callback that creates a self-describing JSON.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="self-describing-json">Self-describing JSON<a class="hash-link" href="#self-describing-json" title="Direct link to heading">​</a></h5><p>This is useful in cases where the context is static and it&#x27;s always the same.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *staticGC = [[SPGlobalContext alloc] initWithStaticContexts:@[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.snowplowanalytics.snowplow/test_sdj/jsonschema/1-0-1&quot; andData:@{@&quot;key&quot;: @&quot;value&quot;}]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">]];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[tracker addGlobalContext:staticGC tag:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="context-generator-callback">Context Generator Callback<a class="hash-link" href="#context-generator-callback" title="Direct link to heading">​</a></h5><p>A context generator callback returns an array of self describing JSONs, representing contexts.<br>
<!-- -->They are evaluated each time an event is sent, hence they meet the case where we would like to send a context based on event information.<br>
<code>SPInspectableEvent</code> is an interface that exposes internal data of the event processed: event name, schema and payload.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *blockGC = [[SPGlobalContext alloc] initWithGenerator:^NSArray&lt;SPSelfDescribingJson *&gt; *(id&lt;SPInspectableEvent&gt; event) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ... Computing using event informations ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return @[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.snowplowanalytics.snowplow/test_sdj/jsonschema/1-0-1&quot; andData:@{@&quot;key&quot;: @&quot;value&quot;}],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[tracker addGlobalContext:blockGC tag:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conditional-context-providers">Conditional Context Providers<a class="hash-link" href="#conditional-context-providers" title="Direct link to heading">​</a></h4><p>The previous examples described the generation of contexts that are associated to every event.<br>
<!-- -->However, there are cases where the contexts should only be applied to certain events.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="filter-callback">Filter Callback<a class="hash-link" href="#filter-callback" title="Direct link to heading">​</a></h5><p>A filter callback is used to discriminate between events so we can attach global contexts only to certain events.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *filteredGC = [[SPGlobalContext alloc] initWithStaticContexts:@[[[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.snowplowanalytics.snowplow/test_sdj/jsonschema/1-0-1&quot; andData:@{@&quot;key&quot;: @&quot;value&quot;}]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    filter:^BOOL(id&lt;SPInspectableEvent&gt; event) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return [&quot;se&quot; isEqualToString:event.name];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[tracker addGlobalContext:filteredGC tag:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="ruleset-provider">Ruleset Provider<a class="hash-link" href="#ruleset-provider" title="Direct link to heading">​</a></h5><p>A ruleset provider is used when you want to attach a global context to certain events based on the schema URI.</p><p>A ruleset provider has a ruleset which has a list of allowed schemas and a list of denied schemas. Both lists contain Iglu URIs which can be modified based on some syntactic rules.</p><p>In this example, the ruleset provider will attach the generated contexts (as described in the previous section) to events with the schema <code>iglu:com.acme.*/*/jsonschema/*-*-*</code>, but not to <code>iglu:com.acme.marketing/*/jsonschema/*-*-*</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">NSString *allowed = @&quot;iglu:com.snowplowanalytics.*/*/jsonschema/*-*-*&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">NSString *denied = @&quot;iglu:com.snowplowanalytics.mobile/*/jsonschema/*-*-*&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPSchemaRuleset *ruleset = [SPSchemaRuleset rulesetWithAllowedList:@[allowed] andDeniedList:@[denied]];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *rulesetGC =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [[SPGlobalContext alloc] initWithStaticContexts:@[[[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.snowplowanalytics.snowplow/test_sdj/jsonschema/1-0-1&quot; andData:@{@&quot;key&quot;: @&quot;value&quot;}]] ruleset:ruleset];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[tracker addGlobalContext:rulesetGC tag:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="ruleset-format">Ruleset format<a class="hash-link" href="#ruleset-format" title="Direct link to heading">​</a></h5><p>RuleSet&#x27;s rules are the strings used to match against certain schemas, such as <code>iglu:com.acme/*/jsonschema/*-*-*</code>.</p><p>They follow the same five-part format as an Iglu URI:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">protocol:vendor/event_name/format/version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>with the exception that a wildcard can be used to refer to all cases.</p><p>The parts of a rule are wildcarded with certain guidelines:</p><ul><li>asterisks cannot be used for the protocol (i.e. schemas always start with <code>iglu:</code>).</li><li>version matching must be specified like so: <em>-</em>-<em>, where any part of the versioning can be defined, e.g. 1-</em>-<em>, but only sequential parts can be wildcarded, e.g. 1-</em>-<!-- -->1 is invalid but 1-<em>-</em> is valid.</li><li>at least two parts parts: <code>com.acme.*</code> is valid, while <code>com.*</code> is not.</li><li>vendors cannot be defined with non-wildcarded parts between wildcarded parts: com.acme.<em>.marketing.</em> is invalid, while com.acme.<em>.</em> is valid.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="context-generator">Context Generator<a class="hash-link" href="#context-generator" title="Direct link to heading">​</a></h5><p>In case the logic for filter and generator callbacks are too complex, it&#x27;s possible to specify them in a class that implements <code>SPContextGenerator</code> protocol.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@protocol SPContextGenerator &lt;NSObject&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @brief Takes event information and decide if the context needs to be generated.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @param event informations about the event to process.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @return weather the context has to be generated.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (BOOL)filterFromEvent:(id&lt;SPInspectableEvent&gt;)event;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @brief Takes event information and generates a context.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @param event informations about the event to process.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @return a user-generated self-describing JSON.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (nullable NSArray&lt;SPSelfDescribingJson *&gt; *)generatorFromEvent:(id&lt;SPInspectableEvent&gt;)event;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case the logic for filtering and generation is encapsulated behind a context generator class.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@interface GlobalContextGenerator: NSObject &lt;SPContextGenerator&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@implementation GlobalContextGenerator</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (BOOL)filterFromEvent:(id&lt;SPInspectableEvent&gt;)event {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return YES;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (NSArray&lt;SPSelfDescribingJson *&gt; *)generatorFromEvent:(id&lt;SPInspectableEvent&gt;)event {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return @[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [[SPSelfDescribingJson alloc] initWithSchema:@&quot;iglu:com.snowplowanalytics.snowplow/test_sdj/jsonschema/1-0-1&quot; andData:@{@&quot;key&quot;: @&quot;value&quot;}],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It can be passed to the tracker as usual:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPGlobalContext *contextGeneratorGC = [[SPGlobalContext alloc] initWithContextGenerator:[GlobalContextGenerator new]];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[tracker addGlobalContext:rulesetGC tag:@&quot;tag1&quot;];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="emitter-options">Emitter options<a class="hash-link" href="#emitter-options" title="Direct link to heading">​</a></h2><p>These options are used to fine-tune the emitter.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-request-method">Setting the request method<a class="hash-link" href="#setting-the-request-method" title="Direct link to heading">​</a></h4><p>The request method used to connect to the collector, either: <code>SPRequestGet</code>, or <code>SPRequestPost</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:_url];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setHttpMethod:SPRequestPost];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In a GET request, each event is sent in an individual request. In a POST request, events can be bundled together in one request.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-protocol">Setting the protocol<a class="hash-link" href="#setting-the-protocol" title="Direct link to heading">​</a></h4><p>The protocol used to connect to the collector, either: <code>SPHttp</code>, or <code>SPHttps</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:_url];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setProtocol:SPHttps];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-a-callback">Setting a callback<a class="hash-link" href="#setting-a-callback" title="Direct link to heading">​</a></h4><p>An emitter callback can be set which will be called with the count of successful and failed events.</p><p>To implement you will need to:</p><p>Add the RequestCallback protocol to your header file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Example from the SnowplowDemo -&gt; ViewController.h file:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @interface ViewController : UIViewController &lt;UITextFieldDelegate, RequestCallback&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Extra Example</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @interface MyObjcClass : NSObject &lt;RequestCallback&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In your paired .m file add the following functions:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Define Callback Functions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    - (void) onSuccessWithCount:(NSInteger)successCount {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Do something with result</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    - (void) onFailureWithCount:(NSInteger)failureCount successCount:(NSInteger)successCount {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Do something with results</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Construct the SPEmitter like so:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    NSURL *url = [[NSURL alloc] initWithString:@&quot;https://collector.acme.net&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:url];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setCallback:self];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The self will work only if you have declared the callback functions in the same class as you are creating the emitter. Otherwise you will need to pass in the target for the class in which you have defined these functions.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="range">Range<a class="hash-link" href="#range" title="Direct link to heading">​</a></h4><p>The number of events retrieved from storage in the database whenever the emitter needs more to send.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    NSURL *url = [[NSURL alloc] initWithString:@&quot;https://collector.acme.net&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:url];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitRange:200];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="thread-pool-size">Thread pool size<a class="hash-link" href="#thread-pool-size" title="Direct link to heading">​</a></h4><p>This is the number of threads created to make requests for sending events:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    NSURL *url = [[NSURL alloc] initWithString:@&quot;https://collector.acme.net&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:url];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setEmitThreadPoolSize:15];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }]];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-byte-limit">GET byte limit<a class="hash-link" href="#get-byte-limit" title="Direct link to heading">​</a></h4><p>The maximum data size of GET requests made by the emitter to send events.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:_url]; // Required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setByteLimitGet:50000]; // Optional</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="post-byte-limit">POST byte limit<a class="hash-link" href="#post-byte-limit" title="Direct link to heading">​</a></h4><p>The maximum data size of POST requests made by the emitter to send events.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setUrlEndpoint:_url]; // Required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setByteLimitPost:50000]; // Optional</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-buffer">Configure the buffer<a class="hash-link" href="#configure-the-buffer" title="Direct link to heading">​</a></h4><p><em>[<!-- -->Available from v.1.5.0<!-- -->]</em></p><p>A buffer is used to group events together in bulk before sending them. This is especially handy to reduce network usage. By default, the Emitter buffers up to 10 events together before sending them; only available if you are using POST as your request type.</p><p>The emitter sends the events as soon as it receives them. In case some of them haven&#x27;t been sent yet, it sends them in a single emission at most until the number of events configured with the bufferOption setting.</p><p>The buffer can be configured when creating the emitter:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setBufferOption:SPBufferOptionSingle];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>Single</td><td>Events are sent individually</td></tr><tr><td>DefaultGroup</td><td>Sends events in groups of 10 events or less</td></tr><tr><td>HeavyGroup</td><td>Sends events in groups of 25 events or less</td></tr></tbody></table><p><strong>Note:</strong> Buffer options will only ever influence how POST request are sent however. All GET requests will be sent individually.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-emitter-options">Advanced Emitter options<a class="hash-link" href="#advanced-emitter-options" title="Direct link to heading">​</a></h3><p><em>[<!-- -->Available from 1.5.0<!-- -->]</em></p><p>The Emitter can be configured to delegate to separate components the events persistence (EventStore) and the network connection to the collector (NetworkConnection).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-eventstore">Set the EventStore<a class="hash-link" href="#set-the-eventstore" title="Direct link to heading">​</a></h4><p>The EventStore is the component in charge for storing the events before to be sent to the collector. It ensures that no one of the events can be lost in cases where the collector is not reachable or the app suddenly crashes. The default EventStore used by the emitter is the SPSQLiteEventStore based on the SQLite database.</p><p>The Emitter can be configured to use a custom EventStore that implements the protocol SPEventStore.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">id&lt;SPEventStore&gt; customEventStore = [MyCustomEventStore new];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setEventStore:customEventStore];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note:</strong> The EventStore is a key component in the lifecycle of the tracker. If you substitute it with your own EventStore be sure that it works as expected otherwise it can cause loss of events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-networkconnection">Set the NetworkConnection<a class="hash-link" href="#set-the-networkconnection" title="Direct link to heading">​</a></h4><p>The NetworkConnection is the component in charge for sending the events to the collector. The default NetworkConnection used by the emitter is the SPDefaultNetworkConnection.</p><p>The Emitter can be configured to use a custom NetworkConnection that implements the protocol SPNetworkConnection.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">id&lt;SPNetworkConnection&gt; customNetworkConnection = [MyNetworkConnection new];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPEmitter *emitter = [SPEmitter build:^(id&lt;SPEmitterBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setNetworkConnection:customNetworkConnection];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note:</strong> The Emitter settings about the collector endpoint are by-passed in favour of the NetworkConnection when it&#x27;s set in the Emitter configuration.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-gdpr-basis-for-processing-with-the-gdpr-context">Tracking GDPR basis for processing with the GDPR context<a class="hash-link" href="#tracking-gdpr-basis-for-processing-with-the-gdpr-context" title="Direct link to heading">​</a></h2><p><em>[<!-- -->Available from v.1.3.0<!-- -->]</em></p><p>This release introduces the <code>gdprContext</code> and the <code>enableGdprContext</code> methods, which append a GDPR context to all events once enabled.<br>
<!-- -->This allows users to easily record the basis for data collection and relevant documentation, and enables a straightforward audit flow for all events.</p><p>It takes the following arguments:</p><table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Required?</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><code>basis</code></td><td>GDPR Basis for processing</td><td>Yes</td><td>Enum String</td></tr><tr><td><code>documentId</code></td><td>ID of a GDPR basis document</td><td>No</td><td>String</td></tr><tr><td><code>documentVersion</code></td><td>Version of the document</td><td>No</td><td>String</td></tr><tr><td><code>documentDescription</code></td><td>Description of the document</td><td>No</td><td>String</td></tr></tbody></table><p>The required basisForProcessing accepts only the following literals: <code>consent</code>, <code>contract</code>, <code>legal_obligation</code>, <code>vital_interests</code>, <code>public_task</code>, <code>legitimate_interests</code> - in accordance with the <a href="https://ico.org.uk/for-organisations/guide-to-data-protection/guide-to-the-general-data-protection-regulation-gdpr/lawful-basis-for-processing/" target="_blank" rel="noopener noreferrer">five legal basis for processing</a>.</p><p>The GDPR context is enabled by calling the <code>setGdprContextWithBasis:documentId:documentVersion:documentDescription:</code> method of the tracker builder or by calling the <code>enableGdprContextWithBasis:documentId:documentVersion:documentDescription:</code> method once the tracker has been initialised.</p><p>It is called as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setEmitter:emitter];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setGdprContextWithBasis:SPGdprProcessingBasisConsent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          documentId:@&quot;someId&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                     documentVersion:@&quot;0.1.0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                 documentDescription:@&quot;a demo document description&quot;];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="idfa-tracking">IDFA tracking<a class="hash-link" href="#idfa-tracking" title="Direct link to heading">​</a></h2><p>IDFA allows advertisers to track a user&#x27;s device among reinstalls and apps. Obviously Apple has introduced way to limit the trackability in order to keep high level of privacy for the user. Users can choose to limit ad-tracking by preventing the IDFA being passed to advertisers.</p><p>The tracker allow to get the IDFA sending it as part of the <code>mobile_context</code> JSON which is attached to each mobile event.</p><p>If you want to track the IDFA you need to follow the guidelines of <a href="https://developer.apple.com/documentation/apptrackingtransparency?language=objc" target="_blank" rel="noopener noreferrer">AppTrackingTransparency</a> and enable IDFA tracking on Snowplow iOS tracker:</p><ul><li>Add <code>AdSupport</code> framework to your app. If it&#x27;s not added the tracker will not send the IDFA with the events.</li><li>Go to <em>Build Settings</em> of the imported Snowplow iOS Tracker:<ul><li>Search for Preprocessor Macros</li><li>Add a macro defined as <code>SNOWPLOW_IDFA_ENABLED=1</code></li><li><strong>Remember</strong>: it must be added in the Build Settings of the SnowplowTracker framework. If you set it in the app&#x27;s Build Settings it won&#x27;t work.</li></ul></li></ul><p><strong>Note</strong>: The simulators can’t generate a proper IDFA, instead they generate a sequence of zeros. If you want to test IDFA with a real code, please, use the physical device.</p><p><strong>Note</strong>: The previous versions of the tracker (before v.1.7.0) used a different flag <code>SNOWPLOW_NO_IFA</code> needed to disable IDFA feature. Instead, since the version 1.7.0 the IDFA will be enabled <strong>only</strong> if the <code>SNOWPLOW_IDFA_ENABLED</code> is set.</p><p><strong>Note</strong>: The user has the ability to limit ad-tracking from the device&#x27;s Settings. If the user enable the limitations the tracker will not be able to track the IDFA.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h2><p><em>[<!-- -->Available from v.1.5.0<!-- -->]</em></p><p>The tracker is tested with different platforms and versions but there are rare situations where an error can be generated. The tracker will manage these errors to avoid crashes of the app and assure that the events are not lost.</p><p>However, it can be useful to observe logs and errors from the tracker in order to narrow down a possible issue. Perhaps due to a mistake in the instrumentation of the tracker in the app or other unexpected behaviour.</p><p>We allow the developer to have a full visibility of the tracker logs. <em>Please, take care to avoid sharing of sensitive information through the logs when in production environment</em>.</p><p>At tracker configuration you can decide which log level you want to filter logs to:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setLogLevel:SPLogLevelVerbose];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are four levels of logging: off (log disabled), error, debug, verbose.</p><p>In the example above, all logs will be sent to the system logs. Usually visible through Logcat, which is a system log module. It contains all the device errors and warnings.</p><p>It&#x27;s also possible to handle the tracker logs directly in the app for troubleshooting purposes. You need to implement the interface <code>LoggerDelegate</code> where you will receive all the log messages based on the log level selected.<br>
<!-- -->In the tracker configuration you have to set the log level and register the logger delegate. Pass a reference of a class instance that implements the LoggerDelegate interface.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@interface MyApp () &lt;SPLoggerDelegate&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@implements MyApp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (void)setupMyTracker {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setLogLevel:SPLogLevelError];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        [builder setLoggerDelegate:self];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/// - LoggerDelegate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (void)error:(NSString *)tag message:(NSString *)message { ... }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (void)debug:(NSString *)tag message:(NSString *)message { ... }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- (void)verbose:(NSString *)tag message:(NSString *)message { ... }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="diagnostic-tracking">Diagnostic tracking<a class="hash-link" href="#diagnostic-tracking" title="Direct link to heading">​</a></h3><p>A third option, suitable for issues happening in a production environment, is diagnostic tracking.<br>
<!-- -->Errors happening in the tracker can be reported to the collector as <code>diagnostic_error</code> events.<br>
<!-- -->If you enable the diagnostic feature the log level will be automatically set to error level.</p><p>To activate this feature you only need to enable <code>trackerDiagnostic</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPTracker *tracker = [SPTracker build:^(id&lt;SPTrackerBuilder&gt; builder) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [builder setDiagnosticLogger:self];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-reference">API Reference<a class="hash-link" href="#api-reference" title="Direct link to heading">​</a></h2><p>For documentation detailing the entire iOS tracking SDK, please refer to the API reference found <a href="https://snowplow.github.io/snowplow-objc-tracker/" target="_blank" rel="noopener noreferrer">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-7-0/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-26T15:15:03.000Z">Aug 26, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">iOS Tracker v1.x</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/objective-c-tracker/ios-tracker-1-6-0"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">iOS Tracker (1.6.0)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#package-managers" class="table-of-contents__link toc-highlight">Package Managers</a></li><li><a href="#demo-apps" class="table-of-contents__link toc-highlight">Demo apps</a></li></ul></li><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a></li><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick Start</a></li><li><a href="#tracker-structure" class="table-of-contents__link toc-highlight">Tracker structure</a><ul><li><a href="#spemitter" class="table-of-contents__link toc-highlight">SPEmitter</a></li><li><a href="#sptracker" class="table-of-contents__link toc-highlight">SPTracker</a></li><li><a href="#sppayload" class="table-of-contents__link toc-highlight">SPPayload</a></li><li><a href="#spselfdescribingjson" class="table-of-contents__link toc-highlight">SPSelfDescribingJson</a></li><li><a href="#spsubject" class="table-of-contents__link toc-highlight">SPSubject</a></li><li><a href="#spevent" class="table-of-contents__link toc-highlight">SPEvent</a></li><li><a href="#sprequestcallback" class="table-of-contents__link toc-highlight">SPRequestCallback</a></li></ul></li><li><a href="#tracking-basic-methods" class="table-of-contents__link toc-highlight">Tracking basic methods</a><ul><li><a href="#creating-an-emitter" class="table-of-contents__link toc-highlight">Creating an emitter</a></li><li><a href="#setting-a-user-identifier" class="table-of-contents__link toc-highlight">Setting a User Identifier</a></li><li><a href="#creating-a-tracker" class="table-of-contents__link toc-highlight">Creating a tracker</a></li><li><a href="#sending-events" class="table-of-contents__link toc-highlight">Sending events</a></li><li><a href="#attaching-contexts-to-events" class="table-of-contents__link toc-highlight">Attaching contexts to events</a></li></ul></li><li><a href="#more-advanced-methods" class="table-of-contents__link toc-highlight">More advanced methods</a><ul><li><a href="#tracking-features" class="table-of-contents__link toc-highlight">Tracking features</a></li><li><a href="#global-contexts" class="table-of-contents__link toc-highlight">Global contexts</a></li></ul></li><li><a href="#emitter-options" class="table-of-contents__link toc-highlight">Emitter options</a><ul><li><a href="#advanced-emitter-options" class="table-of-contents__link toc-highlight">Advanced Emitter options</a></li></ul></li><li><a href="#tracking-gdpr-basis-for-processing-with-the-gdpr-context" class="table-of-contents__link toc-highlight">Tracking GDPR basis for processing with the GDPR context</a></li><li><a href="#idfa-tracking" class="table-of-contents__link toc-highlight">IDFA tracking</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#diagnostic-tracking" class="table-of-contents__link toc-highlight">Diagnostic tracking</a></li></ul></li><li><a href="#api-reference" class="table-of-contents__link toc-highlight">API Reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/cookie-settings">Change cookie settings</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/terms-and-conditions">Terms and conditions</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.96240d76.js"></script>
<script src="/assets/js/main.82ee80ee.js"></script>
</body>
</html>