<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159566509-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M24XMJD"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-M24XMJD",{anonymize_ip:!0})</script><title data-rh="true">RDB Loader 1.0.0 | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplowanalytics.com/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="RDB Loader 1.0.0 | Snowplow Documentation"><meta data-rh="true" name="description" content="1\. Overview"><meta data-rh="true" property="og:description" content="1\. Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplowanalytics.com/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0deba8e4.css">
<link rel="preload" href="/assets/js/runtime~main.28579c52.js" as="script">
<link rel="preload" href="/assets/js/main.2ac33b6c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-icon-light-purple.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-icon-light-purple.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Snowplow Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/getting-started-on-snowplow-open-source">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/what-is-snowplow-open-source">What is Snowplow Open Source?</a><button aria-label="Toggle the collapsible sidebar category &#x27;What is Snowplow Open Source?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws">Setup Snowplow Open Source on AWS</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setup Snowplow Open Source on AWS&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setting-up-your-aws-environment">Setting up your AWS environment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setting up your AWS environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-the-snowplow-collector">The Snowplow Collector on AWS</a><button aria-label="Toggle the collapsible sidebar category &#x27;The Snowplow Collector on AWS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-trackers">Setup Trackers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-webhooks">Setup Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-validation-enrich">Setup Validation and Enrich</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations">Setup Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setup Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/load-data-to-s3">Load data to S3</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/elastic">Elasticsearch</a><button aria-label="Toggle the collapsible sidebar category &#x27;Elasticsearch&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/indicative">Indicative</a><button aria-label="Toggle the collapsible sidebar category &#x27;Indicative&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift">Redshift</a><button aria-label="Toggle the collapsible sidebar category &#x27;Redshift&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/launch-a-redshift-cluster">Launch a Redshift cluster</a><button aria-label="Toggle the collapsible sidebar category &#x27;Launch a Redshift cluster&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/rdb-loader-1-1-0">RDB Loader 1.1.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35">RDB Loader 1.0.0</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner">Setup EmrEtlRunner (pre-R35)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setup EmrEtlRunner (pre-R35)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/load-event-and-entity-types-that-you-have-defined">Load event and entity types that you have defined</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/snowflakedb">SnowflakeDB</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-data-models">Setup Data Models</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-gcp">Setup Snowplow Open Source on GCP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setup Snowplow Open Source on GCP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/collecting-data">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/managing-data-quality">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pipeline-components-and-applications">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/getting-started-on-snowplow-open-source"><span itemprop="name">Getting started on Snowplow Open Source</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws"><span itemprop="name">Setup Snowplow Open Source on AWS</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations"><span itemprop="name">Setup Destinations</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift"><span itemprop="name">Redshift</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">RDB Loader 1.0.0</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RDB Loader 1.0.0</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-overview">1<!-- -->.<!-- --> Overview<a class="hash-link" href="#1-overview" title="Direct link to heading">​</a></h2><p>Enriched events are loaded from S3 to Redshift by the RDB loader, which is in fact made of 2 applications:</p><ul><li>Shredder: Spark batch job reading enriched events from S3 and writing shredded data to S3. Needs to be orchestrated by an external app (e.g. <a href="/docs/pipeline-components-and-applications/dataflow-runner/guide-for-devops">dataflow-runner</a>). When shredder is done, it writes a message to SQS with the details about shredded data on S3. Each execution writes one message to SQS.</li><li>Loader: long-running app that consumes details about shredded data from SQS and inserts into Redshift</li></ul><p>Upstream of the RDB loader, <a href="/docs/pipeline-components-and-applications/loaders-storage-targets/s3-loader">S3 loader</a> must be setup to write enriched events from Kinesis to S3. It&#x27;s important to <strong>not</strong> partition when doing so (<a href="https://github.com/snowplow/snowplow-s3-loader/blob/1.0.0/examples/config.hocon.sample#L92-L97" target="_blank" rel="noopener noreferrer">these parameters</a> must not be set).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-architecture">2<!-- -->.<!-- --> Architecture<a class="hash-link" href="#2-architecture" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/assets/images/architecture-8198e19ec7758319753a81ae5ff3ed5a.png" width="960" height="403" class="img_ev3q"></p><ol><li>Enriched files copied from <em>enriched/</em> to <em>archive/enriched/</em> with S3DistCp on EMR.</li><li>Shredder is run as an EMR step. It reads the directory from step 1.
Step 1 and 2 are orchestrated by Dataflow Runner (or any other orchestration tool).<br>Shredder is stateless. It knows which data to shred by comparing directories in <em>archive/enriched/</em> and <em>shredded/</em>.</li><li>Shredder writes shredded data to S3.</li><li>When the writing is done, it sends the metadata about shredding data to SQS with <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.storage/shredding_complete/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">this schema</a>.</li><li>Loader in a long-running app running app (e.g. on ECS fargate) that consumes messages from SQS.</li><li>When it receives a message sent by shredder, it knows where shredded data to load is located on S3.</li><li>Loader loads data into Redshift. It uses a manifest table to prevent from double-logging and for better logging.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-setup">3<!-- -->.<!-- --> Setup<a class="hash-link" href="#3-setup" title="Direct link to heading">​</a></h2><p>Steps to get RDB loader up and running:</p><ol><li><a href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader/configuring-rdb-shredder">Configure shredder and loader</a></li><li>Create SQS FIFO queue. Content-based deduplication needs to be enabled.</li><li>Configure <a href="/docs/pipeline-components-and-applications/iglu/setting-up-iglu/step-2-setup-an-iglu-repository/2-4-iglu-server">Iglu Server</a> with the schemas<br><strong>IMPORTANT</strong>: do not forget to add <code>/api</code> at the end of the uri in the resolver configuration for the loader</li><li>Create <code>atomic.events</code> table. Instructions can be found on <a href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/launch-a-redshift-cluster/setup-the-snowplow-database-and-events-table">this page</a></li><li>Run RDB Loader as long-running process with access to message queue:<br><code>docker run snowplow/snowplow-rdb-loader:1.0.0 --config config.hocon.base64 --iglu-config resolver.json.base64</code></li><li><a href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader/configuring-rdb-shredder#dataflow-runner">Schedule EMR jobs with S3DistCp and Shredder</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-shredder-stateless-algorithm">4<!-- -->.<!-- --> Shredder stateless algorithm<a class="hash-link" href="#4-shredder-stateless-algorithm" title="Direct link to heading">​</a></h2><p>Shredder is stateless and infers automatically which data need to get shredded and which data were not successfully shredded in past runs, by comparing the content of enriched and shredded folders on S3.</p><p>How does this work ?</p><p>Inside <em>archive/enriched/,</em> folders are organized by run ids, e.g.</p><p><img loading="lazy" src="data:image/png;base64,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" width="324" height="210" class="img_ev3q"></p><p>When shredder starts, it lists the content of <em>archive/enriched</em>/.</p><p>It then lists the content of <em>shredded/</em> and compares.</p><p>If all enriched events in <em>archive/enriched/</em> have already been successfully shredded, then each folder in <em>archive/</em> must exist in <em>shredded/</em> with the same name and inside each of them, a file <em>shredded<!-- -->_<!-- -->complete.json</em> must exist. The content of this file is a SDJ with <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.storage/shredding_complete/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">this schema</a> and is exactly what is sent to SQS for the loader.</p><p>When a folder exists in <em>archive/enriched/</em> but not in <em>shredded/</em>, it means that the folder needs to get shredded.</p><p>If a folder exists in both <em>archive/</em> and <em>shredded/</em> but there is no <em>shredded<!-- -->_<!-- -->complete.json</em> in <em>shredded/</em>, it means that shredded has failed for this folder in a past run. In this case shredder <a href="https://github.com/snowplow/snowplow-rdb-loader/blob/1.0.0/modules/shredder/src/main/scala/com/snowplowanalytics/snowplow/rdbloader/shredder/batch/ShredJob.scala#L224" target="_blank" rel="noopener noreferrer">logs an error</a>.</p><p><strong>IMPORTANT</strong>: when rolling out to this version, the existing state needs to get &quot;sealed&quot;, by creating <em>shredded<!-- -->_<!-- -->complete.json</em> file (can be empty) inside each folder in <em>shredded/</em>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-rdb-loader-post-r35/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-22T13:13:58.000Z">Aug 22, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/rdb-loader-1-1-0"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RDB Loader 1.1.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup EmrEtlRunner (pre-R35)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-overview" class="table-of-contents__link toc-highlight">1. Overview</a></li><li><a href="#2-architecture" class="table-of-contents__link toc-highlight">2. Architecture</a></li><li><a href="#3-setup" class="table-of-contents__link toc-highlight">3. Setup</a></li><li><a href="#4-shredder-stateless-algorithm" class="table-of-contents__link toc-highlight">4. Shredder stateless algorithm</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/snowplow/snowplow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub for Open Source Snowplow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discourse.snowplowanalytics.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://snowplowanalytics.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.meetup.com/topics/snowplow/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meetups<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://snowplowanalytics.com/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.28579c52.js"></script>
<script src="/assets/js/main.2ac33b6c.js"></script>
</body>
</html>