<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-migrated/understanding-your-pipeline/canonical-event/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Understanding the structure of Snowplow data | Snowplow Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://andy-hay.github.io/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Understanding the structure of Snowplow data | Snowplow Docs"><meta data-rh="true" name="description" content="Overview - Canonical Event Model"><meta data-rh="true" property="og:description" content="Overview - Canonical Event Model"><link data-rh="true" rel="icon" href="/docsite-poc.github.io/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://andy-hay.github.io/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event"><link data-rh="true" rel="alternate" href="https://andy-hay.github.io/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event" hreflang="en"><link data-rh="true" rel="alternate" href="https://andy-hay.github.io/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event" hreflang="x-default"><link rel="stylesheet" href="/docsite-poc.github.io/assets/css/styles.96d61308.css">
<link rel="preload" href="/docsite-poc.github.io/assets/js/runtime~main.70369f61.js" as="script">
<link rel="preload" href="/docsite-poc.github.io/assets/js/main.a8678f5c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docsite-poc.github.io/"><div class="navbar__logo"><img src="/docsite-poc.github.io/img/snowplow-icon-light-purple.svg" alt="SnowPlow Docs Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docsite-poc.github.io/img/snowplow-icon-light-purple.svg" alt="SnowPlow Docs Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Snowplow Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docsite-poc.github.io/docs/migrated">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Andy-Hay/docsite-poc.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docsite-poc.github.io/docs/migrated">Snowplow Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/getting-started-with-snowplow-bdp">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/getting-started-on-snowplow-open-source">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/try-snowplow">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/open-source-quick-start">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/architecture-overview-aws">How your pipeline works</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event">Understanding the structure of Snowplow data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding the structure of Snowplow data&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event/understanding-the-enriched-tsv-format">Understanding the enriched TSV format</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/what-is-snowplow-mini">What is Snowplow Mini?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/what-is-snowplow-micro">What is Snowplow Micro?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/glossary-of-terms">Glossary of Terms</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/understanding-tracking-design">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/collecting-data">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/enriching-your-data">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/modeling-your-data">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/forwarding-events-to-destinations">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/managing-data-quality">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/using-the-snowplow-console">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/pipeline-components-and-applications">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/contributing">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docsite-poc.github.io/docs/migrated/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docsite-poc.github.io/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docsite-poc.github.io/docs/migrated"><span itemprop="name">Snowplow Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline"><span itemprop="name">Understanding your pipeline</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Understanding the structure of Snowplow data</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Understanding the structure of Snowplow data</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview---canonical-event-model">Overview - Canonical Event Model<a class="hash-link" href="#overview---canonical-event-model" title="Direct link to heading">​</a></h2><p>In order to analyze Snowplow data, it is important to understand how it is structured. We have tried to make the structure of Snowplow data as simple, logical, and easy-to-query as possible.</p><ul><li><strong>Each line represents one event</strong>. Each line in the Snowplow events table represents a single <em>event</em>, be that a <em>page view</em>, <em>add to basket</em>, <em>play video</em>, <em>like</em> etc.</li><li><strong>Structured data</strong>. Snowplow data is structured: individual fields are stored in their own columns, making writing sophisticated queries on the data easy, and making it straightforward for analysts to plugin any kind of analysis tool into their Snowplow data to compose and execute queries</li><li><strong>Extensible schema</strong>. Snowplow started life as a web analytics data warehousing platform, and has a basic schema suitable for performing web analytics, with a wide range of web-specific dimensions (related to page URLs, browsers, operating systems, devices, IP addresses, cookie IDs) and web-specfic events (page views, page pings, transactions). All of these fields can be found in the <code>atomic.events</code> table, which is a &quot;fat&quot; (many columns) table. As Snowplow has evolved into a general purpose event analytics platform, we&#x27;ve enabled Snowplow users to define additional event types (we call these <em>custom unstructured events</em>) and define their own entities (we call these <em>custom contexts</em>) so that they can extend the schema to suit their own businesses. For Snowplow users running Amazon Redshift, each custom unstructured event and custom context will be stored in its own dedicated table, again with one line per event. These additional tables can be joined back to the core <code>atomic.events</code> table, by joining on th e <code>root_id</code> field in the custom unstructured event / custom context table with the <code>event_id</code> in the <code>atomic.events</code> table</li><li><strong>Single table</strong>. All the events are effectively stored in a single table, making running queries across the data very easy. Even if you&#x27;re running Snowplow with Redshift and have extended the schema as described above, you can still query the data as if it were in a single fat table. This is because:<ul><li>The joins from the additional tables to the core <code>atomic.events</code> table are one-to-one</li><li>The field joined on is the distribution key for both tables, so queries are as fast as if the data were in a single table</li></ul></li><li><strong>Immutable log</strong>. The Snowplow data table is designed to be immutable: the data in each line should not change over time. Data points that we would expect to change over time (e.g. what cohort a particular user belongs to, how we classify a particular visitor) can be derived from Snowplow data. However, our recommendation is that these derived fields should be defined and calculated at analysis time, stored in a separate table and joined to the <em>Snowplow events table</em> when performing any analysis</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-the-individual-fields">Understanding the individual fields<a class="hash-link" href="#understanding-the-individual-fields" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-fields-platform-and-event-independent">Common fields (platform and event independent)<a class="hash-link" href="#common-fields-platform-and-event-independent" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="application-fields">Application fields<a class="hash-link" href="#application-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>app_id</code></td><td>text</td><td>Application ID</td><td>Yes</td><td>&#x27;angry-birds&#x27;</td></tr><tr><td><code>platform</code></td><td>text</td><td>Platform</td><td>Yes</td><td>&#x27;web&#x27;</td></tr></tbody></table><p>The application ID is used to distinguish different applications that are being tracked by the same Snowplow stack, e.g. <code>production</code> versus <code>dev</code>.</p><p>The platform ID is used to distinguish the same app running on different platforms, e.g. <code>iOS</code> vs <code>web</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="date--time-fields">Date / time fields<a class="hash-link" href="#date--time-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>collector_tstamp</code></td><td>timestamp</td><td>Timestamp for the event recorded by the collector</td><td>Yes</td><td>&#x27;2013-11-26 00:02:05&#x27;</td></tr><tr><td><code>dvce_created_tstamp</code></td><td>timestamp</td><td>Timestamp for the event recorded on the client device</td><td>No</td><td>&#x27;2013-11-26 00:03:57.885&#x27;</td></tr><tr><td><code>dvce_sent_tstamp</code></td><td>timestamp</td><td>When the event was actually sent by the client device</td><td>No</td><td>&#x27;2013-11-26 00:03:58.032&#x27;</td></tr><tr><td><code>etl_tstamp</code></td><td>timestamp</td><td>Timestamp for when the event was validated and enriched. Note: the name is historical and <em>does not mean</em> that the event is loaded at this point (this is further downstream).</td><td>No</td><td>&#x27;2017-01-26 00:01:25.292&#x27;</td></tr><tr><td><code>os_timezone</code></td><td>text</td><td>Client operating system timezone</td><td>No</td><td>&#x27;Europe/London&#x27;</td></tr><tr><td><code>derived_tstamp</code></td><td>timestamp</td><td>Timestamp making allowance for innaccurate device clock</td><td>No</td><td>&#x27;2013-11-26 00:02:04&#x27;</td></tr><tr><td><code>true_tstamp</code></td><td>timestamp</td><td>User-set &quot;true timestamp&quot; for the event</td><td>No</td><td>&#x27;2013-11-26 00:02:04&#x27;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="event--transaction-fields">Event / transaction fields<a class="hash-link" href="#event--transaction-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>event</code></td><td>text</td><td>The type of event recorded</td><td>Yes</td><td>&#x27;page<!-- -->_<!-- -->view&#x27;</td></tr><tr><td><code>event_id</code></td><td>text</td><td>A UUID for each event</td><td>Yes</td><td>&#x27;c6ef3124-b53a-4b13-a233-0088f79dcbcb&#x27;</td></tr><tr><td><code>txn_id</code></td><td>int</td><td>Transaction ID set client-side, used to de-dupe records</td><td>No</td><td>421828</td></tr><tr><td><code>event_fingerprint</code></td><td>text</td><td>Hash client-set event fields</td><td>No</td><td>AADCE520E20C2899F4CED228A79A3083</td></tr></tbody></table><p>A complete list of event types is given <a href="#Event-specific_fields">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="snowplow-version-fields">Snowplow version fields<a class="hash-link" href="#snowplow-version-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>v_tracker</code></td><td>text</td><td>Tracker version</td><td>Yes</td><td>&#x27;js-3.0.0&#x27;</td></tr><tr><td><code>v_collector</code></td><td>text</td><td>Collector version</td><td>Yes</td><td>&#x27;ssc-2.1.0-kinesis&#x27;</td></tr><tr><td><code>v_etl</code></td><td>text</td><td>ETL version</td><td>Yes</td><td>&#x27;snowplow-micro-1.1.0-common-1.4.2&#x27;</td></tr><tr><td><code>name_tracker</code></td><td>text</td><td>Tracker namespace</td><td>No</td><td>&#x27;sp1&#x27;</td></tr><tr><td><code>etl_tags</code></td><td>text</td><td>JSON of tags for this ETL run</td><td>No</td><td>&quot;<!-- -->[<!-- -->&#x27;prod&#x27;<!-- -->]<!-- -->&quot;</td></tr></tbody></table><p>Some Snowplow Trackers allow the user to name each specific Tracker instance. <code>name_tracker</code> corresponds to this name, and can be used to distinguish which tracker generated which events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="user-related-fields">User-related fields<a class="hash-link" href="#user-related-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>user_id</code></td><td>text</td><td>Unique ID set by business</td><td>No</td><td>&#x27;<a href="mailto:jon.doe@email.com" target="_blank" rel="noopener noreferrer">jon.doe@email.com</a>&#x27;</td></tr><tr><td><code>domain_userid</code></td><td>text</td><td>User ID set by Snowplow using 1st party cookie</td><td>No</td><td>&#x27;bc2e92ec6c204a14&#x27;</td></tr><tr><td><code>network_userid</code></td><td>text</td><td>User ID set by Snowplow using 3rd party cookie</td><td>No</td><td>&#x27;ecdff4d0-9175-40ac-a8bb-325c49733607&#x27;</td></tr><tr><td><code>user_ipaddress</code></td><td>text</td><td>User IP address</td><td>No</td><td>&#x27;92.231.54.234&#x27;</td></tr><tr><td><code>domain_sessionidx</code></td><td>int</td><td>A visit / session index</td><td>No</td><td>3</td></tr><tr><td><code>domain_sessionid</code></td><td>text</td><td>A visit / session identifier</td><td>No</td><td>&#x27;c6ef3124-b53a-4b13-a233-0088f79dcbcb&#x27;</td></tr></tbody></table><p><code>domain_sessionidx</code> is the number of the current user session. For example, an event occurring during a user&#x27;s first session would have <code>domain_sessionidx</code> set to 1. The JavaScript Tracker calculates this field by storing a visit count in a first-party cookie. Whenever the Tracker fires an event, if more than 30 minutes have elapsed since the last event, the visitor count is increased by 1. (Whenever an event is fired, a &quot;session cookie&quot; is created and set to expire in 30 minutes. This is how the Tracker can tell whether the visit count should be incremented.) Thirty minutes is the default value and can be changed using the <code>setSessionCookieTimeout</code> method.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="device-and-operating-system-fields">Device and operating system fields<a class="hash-link" href="#device-and-operating-system-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>useragent</code></td><td>text</td><td>Raw useragent</td><td>Yes</td><td></td></tr><tr><td><code>dvce_type</code></td><td>text</td><td>Type of device</td><td>No</td><td>&#x27;Computer&#x27;</td></tr><tr><td><code>dvce_ismobile</code></td><td>boolean</td><td>Is the device mobile?</td><td>No</td><td>1</td></tr><tr><td><code>dvce_screenheight</code></td><td>int</td><td>Screen height in pixels</td><td>No</td><td>1024</td></tr><tr><td><code>dvce_screenwidth</code></td><td>int</td><td>Screen width in pixels</td><td>No</td><td>1900</td></tr><tr><td><code>os_name</code></td><td>text</td><td>Name of operating system</td><td>No</td><td>&#x27;Android&#x27;</td></tr><tr><td><code>os_family</code></td><td>text</td><td>Operating system family</td><td>No</td><td>&#x27;Linux&#x27;</td></tr><tr><td><code>os_manufacturer</code></td><td>text</td><td>Company responsible for OS</td><td>No</td><td>&#x27;Apple&#x27;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="location-fields">Location fields<a class="hash-link" href="#location-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>geo_country</code></td><td>text</td><td>ISO 3166-1 code for the country the visitor is located in</td><td>No</td><td>&#x27;GB&#x27;, &#x27;US&#x27;</td></tr><tr><td><code>geo_region</code></td><td>text</td><td>ISO-3166-2 code for country region the visitor is in</td><td>No</td><td>&#x27;I9&#x27;, &#x27;TX&#x27;</td></tr><tr><td><code>geo_city</code></td><td>text</td><td>City the visitor is in</td><td>No</td><td>&#x27;New York&#x27;, &#x27;London&#x27;</td></tr><tr><td><code>geo_zipcode</code></td><td>text</td><td>Postcode the visitor is in</td><td>No</td><td>&#x27;94109&#x27;</td></tr><tr><td><code>geo_latitude</code></td><td>text</td><td>Visitor location latitude</td><td>No</td><td>37.443604</td></tr><tr><td><code>geo_longitude</code></td><td>text</td><td>Visitor location longitude</td><td>No</td><td>-<!-- -->122.4124</td></tr><tr><td><code>geo_region_name</code></td><td>text</td><td>Visitor region name</td><td>No</td><td>&#x27;Florida&#x27;</td></tr><tr><td><code>geo_timezone</code></td><td>text</td><td>Visitor timezone name</td><td>No</td><td>&#x27;Europe/London&#x27;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ip-address-based-fields">IP address-based fields<a class="hash-link" href="#ip-address-based-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>ip_isp</code></td><td>text</td><td>Visitor&#x27;s ISP</td><td>No</td><td>&#x27;FDN Communications&#x27;</td></tr><tr><td><code>ip_organization</code></td><td>text</td><td>Organization associated with the visitor&#x27;s IP address - defaults to ISP name if none is found</td><td>No</td><td>&#x27;Bouygues Telecom&#x27;</td></tr><tr><td><code>ip_domain</code></td><td>text</td><td>Second level domain name associated with the visitor&#x27;s IP address</td><td>No</td><td>&#x27;nuvox.net&#x27;</td></tr><tr><td><code>ip_netspeed</code></td><td>text</td><td>Visitor&#x27;s connection type</td><td>No</td><td>&#x27;Cable/DSL&#x27;</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-fields">Metadata fields<a class="hash-link" href="#metadata-fields" title="Direct link to heading">​</a></h4><p>Fields containing information about the event type.</p><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>event_vendor</code></td><td>text</td><td>Who defined the event</td><td>No</td><td>&#x27;com.acme&#x27;</td></tr><tr><td><code>event_name</code></td><td>text</td><td>Event name</td><td>No</td><td>&#x27;link<!-- -->_<!-- -->click&#x27;</td></tr><tr><td><code>event_format</code></td><td>text</td><td>Format for event</td><td>No</td><td>&#x27;jsonschema&#x27;</td></tr><tr><td><code>event_version</code></td><td>text</td><td>Version of event schema</td><td>No</td><td>&#x27;1-0-2&#x27;</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="platform-specific-fields">Platform-specific fields<a class="hash-link" href="#platform-specific-fields" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="web-specific-fields">Web-specific fields<a class="hash-link" href="#web-specific-fields" title="Direct link to heading">​</a></h4><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><strong>Page fields</strong></td><td></td><td></td><td></td><td></td></tr><tr><td><code>page_url</code></td><td>text</td><td>The page URL</td><td>Yes</td><td>&#x27;<a href="http://www.example.com&#x27;" target="_blank" rel="noopener noreferrer">http://www.example.com&#x27;</a></td></tr><tr><td><code>page_urlscheme</code></td><td>text</td><td>Scheme aka protocol</td><td>Yes</td><td>&#x27;https&#x27;</td></tr><tr><td><code>page_urlhost</code></td><td>text</td><td>Host aka domain</td><td>Yes</td><td>&#x27;“<a href="http://www.snowplowanalytics.com&#x27;" target="_blank" rel="noopener noreferrer">www.snowplowanalytics.com&#x27;</a></td></tr><tr><td><code>page_urlport</code></td><td>int</td><td>Port if specified, 80 if not</td><td>80</td><td></td></tr><tr><td><code>page_urlpath</code></td><td>text</td><td>Path to page</td><td>No</td><td>&#x27;/product/index.html&#x27;</td></tr><tr><td><code>page_urlquery</code></td><td>text</td><td>Querystring</td><td>No</td><td>&#x27;id=GTM-DLRG&#x27;</td></tr><tr><td><code>page_urlfragment</code></td><td>text</td><td>Fragment aka anchor</td><td>No</td><td>&#x27;4-conclusion&#x27;</td></tr><tr><td><code>page_referrer</code></td><td>text</td><td>URL of the referrer</td><td>No</td><td>&#x27;<a href="http://www.referrer.com&#x27;" target="_blank" rel="noopener noreferrer">http://www.referrer.com&#x27;</a></td></tr><tr><td><code>page_title</code></td><td>text</td><td>Web page title</td><td>No</td><td>&#x27;Snowplow Docs - Understanding the structure of Snowplow data&#x27;</td></tr><tr><td><code>refr_urlscheme</code></td><td>text</td><td>Referer scheme</td><td>No</td><td>&#x27;http&#x27;</td></tr><tr><td><code>refr_urlhost</code></td><td>text</td><td>Referer host</td><td>No</td><td>&#x27;<a href="http://www.bing.com&#x27;" target="_blank" rel="noopener noreferrer">www.bing.com&#x27;</a></td></tr><tr><td><code>refr_urlport</code></td><td>int</td><td>Referer port</td><td>No</td><td>80</td></tr><tr><td><code>refr_urlpath</code></td><td>text</td><td>Referer page path</td><td>No</td><td>&#x27;/images/search&#x27;</td></tr><tr><td><code>refr_urlquery</code></td><td>text</td><td>Referer URL querystring</td><td>No</td><td>&#x27;q=psychic+oracle+cards&#x27;</td></tr><tr><td><code>refr_urlfragment</code></td><td>text</td><td>Referer URL fragment</td><td>No</td><td></td></tr><tr><td><code>refr_medium</code></td><td>text</td><td>Type of referer</td><td>No</td><td>&#x27;search&#x27;, &#x27;internal&#x27;</td></tr><tr><td><code>refr_source</code></td><td>text</td><td>Name of referer if recognised</td><td>No</td><td>&#x27;Bing images&#x27;</td></tr><tr><td><code>refr_term</code></td><td>text</td><td>Keywords if source is a search engine</td><td>No</td><td>&#x27;psychic oracle cards&#x27;</td></tr><tr><td><code>refr_domain_userid</code></td><td>text</td><td>The Snowplow domain<!-- -->_<!-- -->userid of the referring website</td><td>No</td><td>&#x27;bc2e92ec6c204a14&#x27;</td></tr><tr><td><code>refr_dvce_tstamp</code></td><td>timestamp</td><td>The time of attaching the domain<!-- -->_<!-- -->userid to the inbound link</td><td>No</td><td>&#x27;2013-11-26 00:02:05&#x27;</td></tr><tr><td><strong>Document fields</strong></td><td></td><td></td><td></td><td></td></tr><tr><td><code>doc_charset</code></td><td>text</td><td>The page’s character encoding</td><td>No</td><td>, &#x27;UTF-8&#x27;</td></tr><tr><td><code>doc_width</code></td><td>int</td><td>The page&#x27;s width in pixels</td><td>No</td><td>1024</td></tr><tr><td><code>doc_height</code></td><td>int</td><td>The page&#x27;s height in pixels</td><td>No</td><td>3000</td></tr><tr><td><strong>Marketing / traffic source fields</strong></td><td></td><td></td><td></td><td></td></tr><tr><td><code>mkt_medium</code></td><td>text</td><td>Type of traffic source</td><td>No</td><td>&#x27;cpc&#x27;, &#x27;affiliate&#x27;, &#x27;organic&#x27;, &#x27;social&#x27;</td></tr><tr><td><code>mkt_source</code></td><td>text</td><td>The company / website where the traffic came from</td><td>No</td><td>&#x27;Google&#x27;, &#x27;Facebook&#x27;</td></tr><tr><td><code>mkt_term</code></td><td>text</td><td>Any keywords associated with the referrer</td><td>No</td><td>&#x27;new age tarot decks&#x27;</td></tr><tr><td><code>mkt_content</code></td><td>text</td><td>The content of the ad. (Or an ID so that it can be looked up.)</td><td>No</td><td>13894723</td></tr><tr><td><code>mkt_campaign</code></td><td>text</td><td>The campaign ID</td><td>No</td><td>&#x27;diageo-123&#x27;</td></tr><tr><td><code>mkt_clickid</code></td><td>text</td><td>The click ID</td><td>No</td><td>&#x27;ac3d8e459&#x27;</td></tr><tr><td><code>mkt_network</code></td><td>text</td><td>The ad network to which the click ID belongs</td><td>No</td><td>&#x27;DoubleClick&#x27;</td></tr><tr><td><strong>Browser fields</strong></td><td></td><td></td><td></td><td></td></tr><tr><td><code>user_fingerprint</code></td><td>int</td><td>A user fingerprint generated by looking at the individual browser features</td><td>No</td><td>2161814971</td></tr><tr><td><code>connection_type</code></td><td>text</td><td>Type of internet connection</td><td>No</td><td>No</td></tr><tr><td><code>cookie</code></td><td>boolean</td><td>Does the browser support persistent cookies?</td><td>No</td><td>1</td></tr><tr><td><code>br_name</code></td><td>text</td><td>Browser name</td><td>No</td><td>&#x27;Firefox 12&#x27;</td></tr><tr><td><code>br_version</code></td><td>text</td><td>Browser version</td><td>No</td><td>&#x27;12.0&#x27;</td></tr><tr><td><code>br_family</code></td><td>text</td><td>Browser family</td><td>No</td><td>&#x27;Firefox&#x27;</td></tr><tr><td><code>br_type</code></td><td>text</td><td>Browser type</td><td>No</td><td>&#x27;Browser&#x27;</td></tr><tr><td><code>br_renderengine</code></td><td>text</td><td>Browser rendering engine</td><td>No</td><td>&#x27;GECKO&#x27;</td></tr><tr><td><code>br_lang</code></td><td>text</td><td>Language the browser is set to</td><td>No</td><td>&#x27;en-GB&#x27;</td></tr><tr><td><code>br_features_pdf</code></td><td>boolean</td><td>Whether the browser recognizes PDFs</td><td>No</td><td>1</td></tr><tr><td><code>br_features_flash</code></td><td>boolean</td><td>Whether Flash is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_java</code></td><td>boolean</td><td>Whether Java is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_director</code></td><td>boolean</td><td>Whether Adobe Shockwave is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_quicktime</code></td><td>boolean</td><td>Whether QuickTime is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_realplayer</code></td><td>boolean</td><td>Whether RealPlayer is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_windowsmedia</code></td><td>boolean</td><td>Whether mplayer2 is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_gears</code></td><td>boolean</td><td>Whether Google Gears is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_features_silverlight</code></td><td>boolean</td><td>Whether Microsoft Silverlight is installed</td><td>No</td><td>1</td></tr><tr><td><code>br_cookies</code></td><td>boolean</td><td>Whether cookies are enabled</td><td>No</td><td>1</td></tr><tr><td><code>br_colordepth</code></td><td>int</td><td>Bit depth of the browser color palette</td><td>No</td><td>24</td></tr><tr><td><code>br_viewheight</code></td><td>int</td><td>Viewport height</td><td>No</td><td>1000</td></tr><tr><td><code>br_viewwidth</code></td><td>int</td><td>Viewport width</td><td>No</td><td>1000</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-specific-fields">Event-specific fields<a class="hash-link" href="#event-specific-fields" title="Direct link to heading">​</a></h3><p>Snowplow includes specific fields to capture data associated with specific events.</p><p>Note that to date, all event types have been defined by Snowplow. Also note that <code>event_vendor</code> values follow the <a href="http://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html" target="_blank" rel="noopener noreferrer">Java package naming convention</a>.</p><p>Snowplow currently supports (or will support in the near future) the following event types:</p><table><thead><tr><th></th><th><strong>Event type</strong></th><th><strong>Value of <code>event</code> field in model</strong></th></tr></thead><tbody><tr><td>2.3.1</td><td><a href="#Page_views">Page views</a></td><td>&#x27;page<!-- -->_<!-- -->view&#x27;</td></tr><tr><td>2.3.2</td><td><a href="#Page_pings">Page pings</a></td><td>&#x27;page<!-- -->_<!-- -->ping&#x27;</td></tr><tr><td>2.3.3</td><td><a href="#Ecommerce_transactions">Ecommerce transactions</a></td><td>&#x27;transaction&#x27; and &#x27;transaction<!-- -->_<!-- -->item&#x27;</td></tr><tr><td>2.3.4</td><td><a href="#Custom_structured_events">Custom structured events</a></td><td>&#x27;struct&#x27;</td></tr><tr><td>2.3.5</td><td><a href="#Custom_unstructured_events">Custom unstructured events</a></td><td>&#x27;unstruct&#x27;</td></tr></tbody></table><p>Details of which fields are available for which events are given below.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="page-views">Page views<a class="hash-link" href="#page-views" title="Direct link to heading">​</a></h4><p>There are currently no fields that are specific to <code>page_view</code> events: all the fields that are required are part of the standard fields available for any <a href="#Web-specific_fields">web-based event</a> e.g. <code>page_urlscheme</code>, <code>page_title</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="page-pings">Page pings<a class="hash-link" href="#page-pings" title="Direct link to heading">​</a></h4><p>There are four additional fields included with page pings that indicate how a user has scrolled over a web page since the last page ping:</p><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>pp_xoffset_min</code></td><td>integer</td><td>Minimum page x offset seen in the last ping period</td><td>No</td><td>0</td></tr><tr><td><code>pp_xoffset_max</code></td><td>integer</td><td>Maximum page x offset seen in the last ping period</td><td>No</td><td>100</td></tr><tr><td><code>pp_yoffset_min</code></td><td>integer</td><td>Minimum page y offset seen in the last ping period</td><td>No</td><td>0</td></tr><tr><td><code>pp_yoffset_max</code></td><td>integer</td><td>Maximum page y offset seen in the last ping period</td><td>No</td><td>200</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ecommerce-transactions">Ecommerce transactions<a class="hash-link" href="#ecommerce-transactions" title="Direct link to heading">​</a></h4><p>There are a large number of fields specifically for transaction events.</p><p>Fields that start <code>tr_</code> relate to the transaction as a whole. Fields that start <code>ti_</code> refer to the specific item included in the transaction. (E.g. a product in the basket.) Single transactions typically span multiple lines of data: there will be a single line where <code>event</code> = <code>transaction</code>, where the <code>tr_</code> fields are set, and multiple lines (one for each product included) where <code>event</code> = <code>transaction_item</code> and the <code>ti_</code> fields are set.</p><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>tr_orderid</code></td><td>text</td><td>Order ID</td><td>Yes</td><td>&#x27;#134&#x27;</td></tr><tr><td><code>tr_affiliation</code></td><td>text</td><td>Transaction affiliation (e.g. store where sale took place)</td><td>No</td><td>&#x27;web&#x27;</td></tr><tr><td><code>tr_total</code></td><td>decimal</td><td>Total transaction value</td><td>Yes</td><td>12.99</td></tr><tr><td><code>tr_tax</code></td><td>decimal</td><td>Total tax included in transaction value</td><td>No</td><td>3.00</td></tr><tr><td><code>tr_shipping</code></td><td>decimal</td><td>Delivery cost charged</td><td>No</td><td>0.00</td></tr><tr><td><code>tr_total_base</code>*</td><td>decimal</td><td>Total in base currency</td><td>No</td><td>12.99</td></tr><tr><td><code>tr_tax_base</code>*</td><td>decimal</td><td>Total tax in base currency</td><td>No</td><td>3.00</td></tr><tr><td><code>tr_shipping_base</code>*</td><td>decimal</td><td>Delivery cost in base currency</td><td>No</td><td>0.00</td></tr><tr><td><code>tr_city</code></td><td>text</td><td>Delivery address, city</td><td>No</td><td>&#x27;London&#x27;</td></tr><tr><td><code>tr_state</code></td><td>text</td><td>Delivery address, state</td><td>No</td><td>&#x27;Washington&#x27;</td></tr><tr><td><code>tr_country</code></td><td>text</td><td>Delivery address, country</td><td>No</td><td>&#x27;France&#x27;</td></tr><tr><td><code>tr_currency</code></td><td>text</td><td>Currency</td><td>No</td><td>&#x27;USD&#x27;</td></tr><tr><td><code>ti_orderid</code></td><td>text</td><td>Order ID</td><td>Yes</td><td>&#x27;#134&#x27;</td></tr><tr><td><code>ti_sku</code></td><td>text</td><td>Product SKU</td><td>Yes</td><td>&#x27;pbz00123&#x27;</td></tr><tr><td><code>ti_name</code></td><td>text</td><td>Product name</td><td>No</td><td>&#x27;Cone pendulum&#x27;</td></tr><tr><td><code>ti_category</code></td><td>text</td><td>Product category</td><td>No</td><td>&#x27;New Age&#x27;</td></tr><tr><td><code>ti_price</code></td><td>decimal</td><td>Product unit price</td><td>Yes</td><td>9.99</td></tr><tr><td><code>ti_price_base</code>*</td><td>decimal</td><td>Price in base currency</td><td>No</td><td>9.99</td></tr><tr><td><code>ti_quantity</code></td><td>integer</td><td>Number of product in transaction</td><td>Yes</td><td>2</td></tr><tr><td><code>ti_currency</code></td><td>text</td><td>Currency</td><td>No</td><td>&#x27;EUR&#x27;</td></tr><tr><td><code>base_currency</code>*</td><td>text</td><td>Reporting currency</td><td>No</td><td>&#x27;GBP&#x27;</td></tr></tbody></table><p>*<!-- --> Set exclusively by the <a href="/docsite-poc.github.io/docs/migrated/setup-snowplow-on-gcp/setup-validation-and-enrich-beam-enrich/add-additional-enrichments/currency-conversion-enrichment">Currency conversion enrichment</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-structured-events">Custom structured events<a class="hash-link" href="#custom-structured-events" title="Direct link to heading">​</a></h4><p>If you wish to track an event that Snowplow does not recognise as a first class citizen (i.e. one of the events listed above), then you can track them using the generic &#x27;custom structured events&#x27;. There are five fields that are available to store data related to custom events:</p><table><thead><tr><th><strong>Field</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Reqd?</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td><code>se_category</code></td><td>text</td><td>Category of event</td><td>Yes</td><td>&#x27;ecomm&#x27;, &#x27;video&#x27;</td></tr><tr><td><code>se_action</code></td><td>text</td><td>Action performed / event name</td><td>Yes</td><td>&#x27;add-to-basket&#x27;, &#x27;play-video&#x27;</td></tr><tr><td><code>se_label</code></td><td>text</td><td>The object of the action e.g. the ID of the video played or SKU of the product added-to-basket</td><td>No</td><td>&#x27;pbz00123&#x27;</td></tr><tr><td><code>se_property</code></td><td>text</td><td>A property associated with the object of the action</td><td>No</td><td>&#x27;HD&#x27;, &#x27;large&#x27;</td></tr><tr><td><code>se_value</code></td><td>decimal</td><td>A value associated with the event / action e.g. the value of goods added-to-basket</td><td>No</td><td>9.99</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-unstructured-events">Custom unstructured events<a class="hash-link" href="#custom-unstructured-events" title="Direct link to heading">​</a></h4><p>Custom unstructured events are a flexible tool that enable Snowplow users to define their own event types and send them into Snowplow.</p><p>When a user sends in a custom unstructured event, they do so as a JSON of name-value properties that conforms to a JSON schema defined for the event earlier.</p><p>The unstructured event is not part of the <code>atomic.events</code> table; instead, for users running on Redshift, it is shredded into its own table. The fields in this table will be determined by the JSON schema defined for the event in advance. Users can query just the table for that particular unstructured event, if that&#x27;s all that&#x27;s required for their analysis, or join that table back to the <code>atomic.events</code> table by</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">atomic.my_example_unstructured_event_table.root_id = atomic.events.event_id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="contexts">Contexts<a class="hash-link" href="#contexts" title="Direct link to heading">​</a></h4><p>Contexts enable Snowplow users to define their own entities that are related to events, and fields that are related to each of those entities. For example, an online retailer may choose to define a <code>user</code> context, to store information about a particular user, which might include data points like the users Facebook ID, age, membership details etc. In addition, they may also define a <code>product</code> context, with product data e.g. SKU, name, created date, description, tags etc.</p><p>An event can have any number of custom contexts attached. Each context is passed into Snowplow as a JSON. Additionally, the Snowplow Enrichment process can derive additional contexts.</p><p>Contexts are not part of the <code>atomic.events</code> table; instead, for users running on Redshift, Snowplow will shred each context JSON into a dedicated table in the <code>atomic</code> schema, making it much more efficient for analysts to query data passed in in any one of the contexts. Those contexts can be joined back to the core <code>atomic.events</code> table on <code>atomic.my_custom_context_table.root_id = atomic.events.event_id</code>, which is a one-to-one join or a many-to-one join.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="specific-unstructured-events-and-custom-contexts">Specific unstructured events and custom contexts<a class="hash-link" href="#specific-unstructured-events-and-custom-contexts" title="Direct link to heading">​</a></h3><p>These are also a variety of unstructured events and custom contexts defined by Snowplow. You can find their schemas <a href="https://github.com/snowplow/iglu-central/tree/master/schemas/com.snowplowanalytics.snowplow" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-about-storage-data-formats">A note about storage data formats<a class="hash-link" href="#a-note-about-storage-data-formats" title="Direct link to heading">​</a></h2><ul><li>Currently, Snowplow data is stored in S3, Google Cloud Storage (GCS), Redshift, BigQuery, Snowflake and PostgreSQL.</li><li>There are some differences between the structure of data in both formats. These relate to data structures that BigQuery, Snowflake and PostgreSQL support (e.g. JSON/Record columns) that Redshift does not</li><li>Nevertheless, the structure of both is similar: representing a fat table</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-15T12:57:30.000Z">Aug 15, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/architecture-overview-aws"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How your pipeline works</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docsite-poc.github.io/docs/migrated/understanding-your-pipeline/canonical-event/understanding-the-enriched-tsv-format"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Understanding the enriched TSV format</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview---canonical-event-model" class="table-of-contents__link toc-highlight">Overview - Canonical Event Model</a></li><li><a href="#understanding-the-individual-fields" class="table-of-contents__link toc-highlight">Understanding the individual fields</a><ul><li><a href="#common-fields-platform-and-event-independent" class="table-of-contents__link toc-highlight">Common fields (platform and event independent)</a></li><li><a href="#platform-specific-fields" class="table-of-contents__link toc-highlight">Platform-specific fields</a></li><li><a href="#event-specific-fields" class="table-of-contents__link toc-highlight">Event-specific fields</a></li><li><a href="#specific-unstructured-events-and-custom-contexts" class="table-of-contents__link toc-highlight">Specific unstructured events and custom contexts</a></li></ul></li><li><a href="#a-note-about-storage-data-formats" class="table-of-contents__link toc-highlight">A note about storage data formats</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/snowplow/snowplow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub for Open Source Snowplow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discourse.snowplowanalytics.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://snowplowanalytics.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.meetup.com/topics/snowplow/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Meetups<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://snowplowanalytics.com/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Andy-Hay/docsite-poc.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub for these docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docsite-poc.github.io/assets/js/runtime~main.70369f61.js"></script>
<script src="/docsite-poc.github.io/assets/js/main.a8678f5c.js"></script>
</body>
</html>