<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-managing-data-quality/failed-events/understanding-failed-events/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159566509-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M24XMJD"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-M24XMJD",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Snowplow Documentation" href="/opensearch.xml"><title data-rh="true">Understanding failed events | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplowanalytics.com/docs/managing-data-quality/failed-events/understanding-failed-events"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Understanding failed events | Snowplow Documentation"><meta data-rh="true" name="description" content="What is a Failed Event?"><meta data-rh="true" property="og:description" content="What is a Failed Event?"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplowanalytics.com/docs/managing-data-quality/failed-events/understanding-failed-events"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/managing-data-quality/failed-events/understanding-failed-events" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/managing-data-quality/failed-events/understanding-failed-events" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9HS3C2MKTH-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6950f247.css">
<link rel="preload" href="/assets/js/runtime~main.029f753d.js" as="script">
<link rel="preload" href="/assets/js/main.f9862780.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link nav-link__first customized_AOMy navbar__link--active" href="/docs">Docs</a><a href="https://discourse.snowplowanalytics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://try.snowplowanalytics.com/?utm_content=hero-cta&amp;utm_campaign=snowplow-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Try Snowplow</a><a href="https://go.snowplowanalytics.com/l/571483/2021-02-19/3sn5nml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Book a demo</a><div class="toggle_vylO extraSpace_k8HL"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG extraPadding_YQbj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-on-snowplow-open-source">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/collecting-data">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/managing-data-quality">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/managing-data-quality/testing-and-qa-workflows">Testing and QA workflows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Testing and QA workflows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/managing-data-quality/failed-events">Failed Events</a><button aria-label="Toggle the collapsible sidebar category &#x27;Failed Events&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/managing-data-quality/failed-events/understanding-failed-events">Understanding failed events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/failed-events/accessing-failed-events-in-file-storage">Accessing failed events in file storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/failed-events/failed-events-in-the-ui">Monitoring failed events in the Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/failed-events/setting-up-data-quality-alerts">Setting up data quality alerts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/failed-events/accessing-failed-event-aggregates-via-the-api">Accessing failed event aggregates via the API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/failed-events/failed-events-in-athena-and-bigquery">Querying failed events in Athena and BigQuery</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/managing-data-quality/event-recovery-for-bdp-users">Event Recovery for BDP customers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Event Recovery for BDP customers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/managing-data-quality/snowplow-event-recovery">Event Recovery for Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Event Recovery for Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pipeline-components-and-applications">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/managing-data-quality"><span itemprop="name">Managing data quality</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/managing-data-quality/failed-events"><span itemprop="name">Failed Events</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Understanding failed events</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Understanding failed events</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-failed-event">What is a Failed Event?<a class="hash-link" href="#what-is-a-failed-event" title="Direct link to heading">​</a></h2><p>A Failed Event is simply what we label any event that was not able to be processed through your pipeline. There are multiple points at which an event can fail in the pipeline: collection, validation and enrichment.</p><p>While an event is being processed by the pipeline it is checked to ensure it meets the specific formatting or configuration expectations; these include checks like: does it match the schema it is associated with, were Enrichments successfully applied and was the payload sent by the tracker acceptable.</p><p>Generally, the <a href="/docs/pipeline-components-and-applications/stream-collector">collector</a> tries to write any payload to the raw stream, no matter its content, and no matter whether it is valid. This explains why many of the failure types are filtered out by the <a href="/docs/enriching-your-data/what-is-enrichment">enrichment</a> application, and not any earlier.</p><p>All failed events are routed to storage (AWS S3 or GCP cloud storage).</p><p>Note</p><p>When an error occurs while enriching an event (that is part of a collector payload with several events), the Failed Event will contain <strong>only</strong> this event. The other events of the collector payload can be successfully enriched.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="failure-types">Failure Types<a class="hash-link" href="#failure-types" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-violation"><strong>Schema Violation</strong><a class="hash-link" href="#schema-violation" title="Direct link to heading">​</a></h3><p>This failure type is produced during the process of <a href="/docs/enriching-your-data/what-is-enrichment">validation and enrichment</a>. It concerns the <a href="/docs/understanding-tracking-design/out-of-the-box-vs-custom-events-and-entities">self-describing events and entities</a> which can be attached to your snowplow event.</p><p>In order for an event to be processed successfully:</p><ol><li>There must be a schema in an <a href="/docs/pipeline-components-and-applications/iglu/iglu-repositories">iglu repository</a> corresponding to each self-describing event or entity. The enrichment app must be able to look up the schema in order to validate the event.</li><li>Each self-describing event or entity must conform to the structure described in the schema. For example, all required fields must be present, and all fields must be of the expected type.</li></ol><p>If your pipeline is generating schema violations, it might mean there is a problem with your tracking, or a problem with your <a href="/docs/pipeline-components-and-applications/iglu/iglu-resolver">iglu resolver</a> which lists where schemas should be found. The error details in the schema violation JSON object should give you a hint about what the problem might be.</p><p>Snowplow BDP users should check in the Snowplow BDP Console that all data structures are correct and have been <a href="/docs/understanding-tracking-design/managing-data-structures">promoted to production</a>. Snowplow open source users should check that the Enrichment app is configured with an <a href="/docs/pipeline-components-and-applications/iglu/iglu-resolver">iglu resolver file</a> that points to a repository containing the schemas.</p><p>Next, check the tracking code in your custom application, and make sure the entities you are sending conform the schema definition.</p><p>Once you have fixed your tracking, you might want to also <a href="/docs/managing-data-quality/snowplow-event-recovery">recover the failed events</a>, to avoid any data loss.</p><p>Because this failure is handled during enrichment, events in the real time good stream are free of this violation type.</p><p>Schema violation schema can be found <a href="https://github.com/snowplow/iglu-central/tree/master/schemas/com.snowplowanalytics.snowplow.badrows/schema_violations/jsonschema" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enrichment-failure"><strong>Enrichment failure</strong><a class="hash-link" href="#enrichment-failure" title="Direct link to heading">​</a></h3><p>This failure type is produced by the <a href="/docs/enriching-your-data/what-is-enrichment">enrichment</a> application, and it represents any failure to enrich the event by one of your configured enrichments.</p><p>There are many reasons why an enrichment will fail, but here are some examples:</p><ul><li>You are using the <a href="/docs/enriching-your-data/available-enrichments/custom-sql-enrichment">custom SQL enrichment</a> but the credentials for accessing the database are wrong.</li><li>You are using the <a href="/docs/enriching-your-data/available-enrichments/ip-lookup-enrichment">IP lookup enrichment</a> but have mis-configured the location of the MaxMind database.</li><li>You are using the <a href="/docs/enriching-your-data/available-enrichments/custom-api-request-enrichment">custom API request enrichment</a> but the API server is not responding.</li><li>The raw event contained an unstructured event field or a context field which was not valid JSON.</li><li>An iglu server responded with an unexpected error response, so the event schema could not be resolved.</li></ul><p>If your pipeline is generating enrichment failures, it might mean there is a problem with your enrichment configuration. The error details in the enrichment failure JSON object should give you a hint about what the problem might be.</p><p>Once you have fixed your enrichment configuration, Once you have fixed your tracking, you might want to also <a href="/docs/managing-data-quality/snowplow-event-recovery">recover the failed events</a>, to avoid any data loss.</p><p>Because this failure is handled during enrichment, events in the real time good stream are free of this violation type.</p><p>Enrichment failure schema can be found <a href="https://github.com/snowplow/iglu-central/tree/master/schemas/com.snowplowanalytics.snowplow.badrows/enrichment_failures/jsonschema" target="_blank" rel="noopener noreferrer">here</a>.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collector-payload-format-violation"><strong>Collector Payload Format</strong> <strong>Violation</strong><a class="hash-link" href="#collector-payload-format-violation" title="Direct link to heading">​</a></h3><p>This failure type is produced by the <a href="/docs/enriching-your-data/what-is-enrichment">enrichment</a> application, when collector payloads from the raw stream are deserialized from thrift format. Violations could be:</p><ul><li>Malformed HTTP requests</li><li>Truncation</li><li>Invalid query string encoding in URL</li><li>Path not respecting /vendor/version</li></ul><p>The most likely source of this failure type is bot traffic that has hit the collector with an invalid http request. Bots are prevalent on the web, so do not be surprised if your collector receives some of this traffic. Generally you would ignore not try to recover a collector payload format violation, because it likely did not originate from a tracker or a webhook.</p><p>Because this failure is handled during enrichment, events in the real time good stream are free of this violation type.</p><p>Collector payload format violation schema can be found <a href="https://github.com/snowplow/iglu-central/tree/master/schemas/com.snowplowanalytics.snowplow.badrows/collector_payload_format_violation/jsonschema" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adaptor-failure"><strong>Adaptor</strong> <strong>Failure</strong><a class="hash-link" href="#adaptor-failure" title="Direct link to heading">​</a></h3><p>This failure type is produced by the <a href="/docs/enriching-your-data/what-is-enrichment">enrichment</a> application, when it tries to interpret a collector payload from the raw stream as a http request from a <a href="/docs/collecting-data/collecting-data-from-third-parties">3rd party webhook</a>. The failure could be:</p><ol><li>The vendor/version combination in the collector url is not supported. For example, imagine a http request sent to <code>/com.sandgrod/v3</code> which is a mis-spelling of the <a href="http://sendgrid" target="_blank" rel="noopener noreferrer">sendgrid adaptor</a> endpoint.</li><li>The webhook sent by the 3rd party does not conform to the expected structure and list of fields for this webhook. For example, imagine the 3rd party webhook payload is updated and stops sending a field that it was sending before.</li></ol><p>Many adaptor failures are caused by bot traffic, so do not be surprised to see some of them in your pipeline. However, if you believe you are missing data because of a misconfigured webhook, then you might try to fix the webhook and then <a href="/docs/managing-data-quality/snowplow-event-recovery">recover the failed events</a>.</p><p>Because this failure is handled during enrichment, events in the real time good stream are free of this violation type.</p><p>Adapter failure schema can be found <a href="https://github.com/snowplow/iglu-central/tree/master/schemas/com.snowplowanalytics.snowplow.badrows/adapter_failures/jsonschema" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracker-protocol-violation"><strong>Tracker Protocol</strong> Violation<a class="hash-link" href="#tracker-protocol-violation" title="Direct link to heading">​</a></h3><p>This failure type is produced by the <a href="/docs/enriching-your-data/what-is-enrichment">enrichment</a> application, when a http request does not conform to our <a href="https://github.com/snowplow/snowplow/wiki/snowplow-tracker-protocol" target="_blank" rel="noopener noreferrer">tracker protocol</a>.</p><p>Snowplow trackers send http requests to the <code>/i</code> endpoint or the <code>/com.snowplowanalytics.snowplow/tp2</code> endpoint, and they are expected to conform to this protocol.</p><p>Many tracker protocol violations are caused by bot traffic, so do not be surprised to see some of them in your pipeline.</p><p>Another likely source is misconfigured query parameters if you are using the <a href="/docs/collecting-data/collecting-from-own-applications/pixel-tracker">pixel tracker</a>. In this case you might try to fix your application sending events, and then <a href="/docs/managing-data-quality/snowplow-event-recovery">recover the failed events</a>.</p><p>Because this failure is handled during enrichment, events in the real time good stream are free of this violation type.</p><p>Tracker protocol violation schema can be found <a href="https://github.com/snowplow/iglu-central/tree/master/schemas/com.snowplowanalytics.snowplow.badrows/tracker_protocol_violations/jsonschema" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="size-violation"><strong>Size Violation</strong><a class="hash-link" href="#size-violation" title="Direct link to heading">​</a></h3><p>This failure type can be produced either by the <a href="/docs/pipeline-components-and-applications/stream-collector">collector</a> or by the <a href="/docs/enriching-your-data/what-is-enrichment">enrichment</a> application. It happens when the size of the raw event or enriched event is too big for the output message queue. In this case it will be truncated and wrapped in a size violation failed event instead.</p><p>Failures of this type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>. The best you can do is to fix any application that is sending over-sized events.</p><p>Size violation schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/size_violation/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loader-parsing-error">Loader Parsing Error<a class="hash-link" href="#loader-parsing-error" title="Direct link to heading">​</a></h3><p>This failure type can be produced by <a href="/docs/pipeline-components-and-applications/loaders-storage-targets">any loader</a>, if the enriched event in the real time good stream cannot be parsed as a canonical TSV event format. For example, if line has not enough columns (not 131) or event<!-- -->_<!-- -->id is not UUID.</p><p>This error type is uncommon and unexpected, because it can only be caused by an invalid message in the stream of validated enriched events. This failure type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>.</p><p>Loader parsing error schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/loader_parsing_error/jsonschema/2-0-0" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loader-iglu-error">Loader Iglu Error<a class="hash-link" href="#loader-iglu-error" title="Direct link to heading">​</a></h3><p>This failure type can be produced by <a href="/docs/pipeline-components-and-applications/loaders-storage-targets">any loader</a> and describes an error using the <a href="/docs/pipeline-components-and-applications/iglu">Iglu</a> subsystem. For example:</p><ul><li>A schema is not available in any of the repositories listed in the <a href="/docs/pipeline-components-and-applications/iglu/iglu-resolver">iglu resolver</a>.</li><li>Some loaders (e.g. <a href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-rdb-loader-3-0-0">RDB loader</a> and <a href="/docs/pipeline-components-and-applications/loaders-storage-targets/snowplow-postgres-loader">Postgres loader</a>) make use of the &quot;schema list&quot; api endpoints, which are only implemented for an <a href="/docs/pipeline-components-and-applications/iglu/iglu-repositories/iglu-server">iglu-server</a> repository. A loader iglu error will be generated if the schema is in a <a href="/docs/pipeline-components-and-applications/iglu/iglu-repositories/static-repo">static repo</a> or <a href="/docs/pipeline-components-and-applications/iglu/iglu-repositories/jvm-embedded-repo">embedded repo</a>.</li><li>The loader cannot auto-migrate a database table. If a schema version is incremented from <code>1-0-0</code> to <code>1-0-1</code> then it is expected to be <a href="/docs/pipeline-components-and-applications/iglu/common-architecture/schemaver">a non-breaking change</a>, and many loaders (e.g. RDB loader) attempt to execute a <code>ALTER TABLE</code> statement to facilitate the new schema in the warehouse. But if the schema change is breaking (e.g. string field changed to integer field) then the database migration is not possible.</li></ul><p>This failure type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>.</p><p>Loader iglu error schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/loader_iglu_error/jsonschema/2-0-0" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loader-recovery-error">Loader Recovery Error<a class="hash-link" href="#loader-recovery-error" title="Direct link to heading">​</a></h3><p>Currently only the <a href="/docs/pipeline-components-and-applications/loaders-storage-targets/bigquery-loader#block-8db848d4-0265-4ffa-97db-0211f4e2293d">BigQuery repeater</a> generates this error. We call it &quot;loader recovery error&quot; because the purpose of the repeater is to recover from previously failed inserts. It represents the case when the software could not re-insert the row into the database due to a runtime failure or invalid data in a source.</p><p>This failure type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>.</p><p>Loader recovery error schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/loader_recovery_error/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">here</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loader-runtime-error">Loader Runtime Error<a class="hash-link" href="#loader-runtime-error" title="Direct link to heading">​</a></h3><p>This failure type can be produced by any loader and describes generally any runtime error that we did not catch. For example, a DynamoDB outage, or a null pointer exception.</p><p>This error type is uncommon and unexpected, and it probably indicates a mistake in the configuration or a bug in the software. This failure type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>.</p><p>Loader runtime error schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/loader_runtime_error/jsonschema/1-0-1" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relay-failure">Relay Failure<a class="hash-link" href="#relay-failure" title="Direct link to heading">​</a></h3><p>This failure type is only produced by relay jobs (e.g. the <a href="/docs/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/indicative">Indicative relay</a>), which transfer Snowplow data into a 3rd party platform. This error type is uncommon and unexpected, and it probably indicates a mistake in the configuration or a bug in the software. This failure type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>.</p><p>Relay failure schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/relay_failure/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generic-error">Generic Error<a class="hash-link" href="#generic-error" title="Direct link to heading">​</a></h3><p>This is a failure type for anything that does not fit into the other categories, and is unlikely enough that we have not created a special category. The failure error messages should give you a hint about what has happened.</p><p>This failure type cannot be <a href="/docs/managing-data-quality/snowplow-event-recovery">recovered</a>.</p><p>Generic error schema can be found <a href="https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow.badrows/generic_error/jsonschema/1-0-0" target="_blank" rel="noopener noreferrer">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/managing-data-quality/failed-events/understanding-failed-events/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-29T11:09:02.000Z">Aug 29, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/managing-data-quality/failed-events"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Failed Events</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/managing-data-quality/failed-events/accessing-failed-events-in-file-storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Accessing failed events in file storage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-failed-event" class="table-of-contents__link toc-highlight">What is a Failed Event?</a></li><li><a href="#failure-types" class="table-of-contents__link toc-highlight">Failure Types</a><ul><li><a href="#schema-violation" class="table-of-contents__link toc-highlight"><strong>Schema Violation</strong></a></li><li><a href="#enrichment-failure" class="table-of-contents__link toc-highlight"><strong>Enrichment failure</strong></a></li><li><a href="#collector-payload-format-violation" class="table-of-contents__link toc-highlight"><strong>Collector Payload Format</strong> <strong>Violation</strong></a></li><li><a href="#adaptor-failure" class="table-of-contents__link toc-highlight"><strong>Adaptor</strong> <strong>Failure</strong></a></li><li><a href="#tracker-protocol-violation" class="table-of-contents__link toc-highlight"><strong>Tracker Protocol</strong> Violation</a></li><li><a href="#size-violation" class="table-of-contents__link toc-highlight"><strong>Size Violation</strong></a></li><li><a href="#loader-parsing-error" class="table-of-contents__link toc-highlight">Loader Parsing Error</a></li><li><a href="#loader-iglu-error" class="table-of-contents__link toc-highlight">Loader Iglu Error</a></li><li><a href="#loader-recovery-error" class="table-of-contents__link toc-highlight">Loader Recovery Error</a></li><li><a href="#loader-runtime-error" class="table-of-contents__link toc-highlight">Loader Runtime Error</a></li><li><a href="#relay-failure" class="table-of-contents__link toc-highlight">Relay Failure</a></li><li><a href="#generic-error" class="table-of-contents__link toc-highlight">Generic Error</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/cookie-settings">Change cookie settings</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/terms-and-conditions">Terms and conditions</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.029f753d.js"></script>
<script src="/assets/js/main.f9862780.js"></script>
</body>
</html>