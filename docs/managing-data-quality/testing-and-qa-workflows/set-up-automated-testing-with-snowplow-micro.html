<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159566509-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M24XMJD"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-M24XMJD",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Snowplow Documentation" href="/opensearch.xml"><title data-rh="true">Set up automated testing with Snowplow Micro | Snowplow Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.snowplowanalytics.com/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Set up automated testing with Snowplow Micro | Snowplow Documentation"><meta data-rh="true" name="description" content="Latest Docker image version"><meta data-rh="true" property="og:description" content="Latest Docker image version"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.snowplowanalytics.com/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.snowplowanalytics.com/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9HS3C2MKTH-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6950f247.css">
<link rel="preload" href="/assets/js/runtime~main.029f753d.js" as="script">
<link rel="preload" href="/assets/js/main.f9862780.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/snowplow-logo.svg" alt="Snowplow Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link nav-link__first customized_AOMy navbar__link--active" href="/docs">Docs</a><a href="https://discourse.snowplowanalytics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/snowplow/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link undefined customized_AOMy">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://try.snowplowanalytics.com/?utm_content=hero-cta&amp;utm_campaign=snowplow-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Try Snowplow</a><a href="https://go.snowplowanalytics.com/l/571483/2021-02-19/3sn5nml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link snwpl-nav-button customized_AOMy">Book a demo</a><div class="toggle_vylO extraSpace_k8HL"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG extraPadding_YQbj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-with-snowplow-bdp">Getting started on Snowplow BDP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow BDP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started-on-snowplow-open-source">Getting started on Snowplow Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started on Snowplow Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try-snowplow">Try Snowplow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try Snowplow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-quick-start">Snowplow Open Source Quick Start</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Open Source Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-your-pipeline">Understanding your pipeline</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding your pipeline&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/understanding-tracking-design">Designing tracking</a><button aria-label="Toggle the collapsible sidebar category &#x27;Designing tracking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/collecting-data">Collecting data with Trackers and Webhooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collecting data with Trackers and Webhooks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/enriching-your-data">Enriching your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Enriching your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/modeling-your-data">Modeling your data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modeling your data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/forwarding-events-to-destinations">Forwarding events to Destinations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forwarding events to Destinations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/managing-data-quality">Managing data quality</a><button aria-label="Toggle the collapsible sidebar category &#x27;Managing data quality&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/managing-data-quality/testing-and-qa-workflows">Testing and QA workflows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Testing and QA workflows&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro">Set up automated testing with Snowplow Micro</a><button aria-label="Toggle the collapsible sidebar category &#x27;Set up automated testing with Snowplow Micro&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro/example-of-automated-tests">Example of automated tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro/upgrading-snowplow-micro">Upgrading Snowplow Micro</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/managing-data-quality/testing-and-qa-workflows/using-the-data-structures-ci-tool-for-data-quality">Verify schema dependencies with the Data Structures CI tool</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/managing-data-quality/failed-events">Failed Events</a><button aria-label="Toggle the collapsible sidebar category &#x27;Failed Events&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/managing-data-quality/event-recovery-for-bdp-users">Event Recovery for BDP customers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Event Recovery for BDP customers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/managing-data-quality/snowplow-event-recovery">Event Recovery for Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Event Recovery for Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/using-the-snowplow-console">Snowplow Console</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowplow Console&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pipeline-components-and-applications">Pipeline Components and Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline Components and Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contributing">Community &amp; contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community &amp; contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/managing-data-quality"><span itemprop="name">Managing data quality</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/managing-data-quality/testing-and-qa-workflows"><span itemprop="name">Testing and QA workflows</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Set up automated testing with Snowplow Micro</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Snowplow Micro</h1><p><a href="https://hub.docker.com/r/snowplow/snowplow-micro" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/docker/v/snowplow/snowplow-micro?sort=semver" alt="Latest Docker image version" class="img_ev3q"></a></p><p><a href="https://hub.docker.com/r/snowplow/snowplow-micro" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/docker/pulls/snowplow/snowplow-micro" alt="Latest Docker image version" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-snowplow-micro-for">What is Snowplow Micro for?<a class="hash-link" href="#what-is-snowplow-micro-for" title="Direct link to heading">​</a></h2><p>Snowplow Micro is built to enable users to run automated test suites to ensure that new releases of their websites, mobile apps and server-side applications do not break the tracking setup and Snowplow data collection.</p><p>Snowplow Micro is a very small version of a full Snowplow data collection pipeline: small enough that it can be launched by a test suite. Events can be recorded into Snowplow Micro just as they can a full Snowplow pipeline. Micro then exposes an API that can be queried to understand:</p><ul><li>How many events have been received?</li><li>How many of them were successfully processed vs ended up as &quot;bad&quot; (e.g. because the events failed validation against the corresponding schemas in the <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu</a> Schema Registry)</li><li>For any events that have successfully processed, what type of events they are, what fields have been recorded etc.</li><li>For any events that have not been successfully processed, what errors were generated on processing the events. (So these can be surfaced back via the test suite.)</li></ul><p>This means you can build automated test suites to assert that specific user behaviour in an application generates specific events that are successfully processed by Snowplow.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-run-snowplow-micro">How do I run Snowplow Micro?<a class="hash-link" href="#how-do-i-run-snowplow-micro" title="Direct link to heading">​</a></h2><p>Snowplow Micro is configured at runtime through the <a href="https://github.com/snowplow/stream-collector" target="_blank" rel="noopener noreferrer">Stream Collector</a> configuration and the <a href="https://github.com/snowplow/iglu" target="_blank" rel="noopener noreferrer">Iglu</a> resolver configuration. So, to start Snowplow Micro:</p><ol><li>Update the stream-collector <a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/example/micro.conf" target="_blank" rel="noopener noreferrer">configuration for Snowplow Micro</a></li><li>Update the <a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/example/iglu.json" target="_blank" rel="noopener noreferrer">configuration for Iglu resolvers</a></li><li>Run Micro either using Docker or using Java.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-docker">Using Docker<a class="hash-link" href="#using-docker" title="Direct link to heading">​</a></h4><p>Snowplow Micro is hosted on Docker Hub: <a href="https://hub.docker.com/r/snowplow/snowplow-micro" target="_blank" rel="noopener noreferrer">snowplow/snowplow-micro</a>. (since version <code>1.2</code>, Micro&#x27;s Docker images support <code>amd64</code> devices as well).</p><p>The configuration files must be placed in a folder that is mounted in the Docker container, and the port configured for Micro needs to be exposed. For example, with configuration files in <code>./example</code> directory and to bind port <code>9090</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --mount type=bind,source=$(pwd)/example,destination=/config \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -p 9090:9090 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow/snowplow-micro:1.3.1 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --collector-config /config/micro.conf \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --iglu /config/iglu.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-java">Using Java<a class="hash-link" href="#using-java" title="Direct link to heading">​</a></h4><p>Alternatively, a Snowplow Micro jar file is hosted on the <a href="https://github.com/snowplow-incubator/snowplow-micro/releases" target="_blank" rel="noopener noreferrer">Github release</a> page.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">java -jar snowplow-micro-1.3.1.jar --collector-config example/micro.conf --iglu example/iglu.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rest-api">REST API<a class="hash-link" href="#rest-api" title="Direct link to heading">​</a></h2><p>Snowplow Micro offers the following endpoints to query the data recorded.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microall">/micro/all<a class="hash-link" href="#microall" title="Direct link to heading">​</a></h3><p>This endpoint responds with a summary JSON object of the number of total, good and bad events currently in the cache.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-method"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#http-method" target="_blank" rel="noopener noreferrer"></a>HTTP method<a class="hash-link" href="#http-method" title="Direct link to heading">​</a></h4><p><code>GET</code>, <code>POST</code>, <code>OPTIONS</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="response-format"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#response-format" target="_blank" rel="noopener noreferrer"></a>Response format<a class="hash-link" href="#response-format" title="Direct link to heading">​</a></h4><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;total&quot;: 7,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;good&quot;: 5,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;bad&quot;: 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microgood">/micro/good<a class="hash-link" href="#microgood" title="Direct link to heading">​</a></h3><p>This endpoint queries the good events, which are the events that have been successfully validated.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-method-1"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#http-method-1" target="_blank" rel="noopener noreferrer"></a>HTTP method<a class="hash-link" href="#http-method-1" title="Direct link to heading">​</a></h4><ul><li><code>GET</code>: get <em>all</em> the good events from the cache.</li><li><code>POST</code>: get the good events with the possibility to filter.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="response-format-1"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#response-format-1" target="_blank" rel="noopener noreferrer"></a>Response format<a class="hash-link" href="#response-format-1" title="Direct link to heading">​</a></h4><p>JSON array of <a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/src/main/scala/com.snowplowanalytics.snowplow.micro/model.scala#L19" target="_blank" rel="noopener noreferrer">GoodEvent</a>s. A <code>GoodEvent</code> contains 4 fields:</p><ul><li><code>rawEvent</code>: contains the <a href="https://github.com/snowplow/enrich/blob/master/modules/common/src/main/scala/com.snowplowanalytics.snowplow.enrich/common/adapters/RawEvent.scala#L28" target="_blank" rel="noopener noreferrer">RawEvent</a>. It corresponds to the format of a validated event just before being enriched.</li><li><code>event</code>: contains the <a href="https://github.com/snowplow/snowplow-scala-analytics-sdk/blob/master/src/main/scala/com.snowplowanalytics.snowplow.analytics.scalasdk/Event.scala#L42" target="_blank" rel="noopener noreferrer">canonical snowplow Event</a>. It is in the format of an event after enrichment, even if all the enrichments are deactivated.</li><li><code>eventType</code>: type of the event.</li><li><code>schema</code>: schema of the event in case of an unstructured event.</li><li><code>contexts</code>: contexts of the event.</li></ul><p>An example of a response with one event can be found below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;rawEvent&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;api&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vendor&quot;:&quot;com.snowplowanalytics.snowplow&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;version&quot;:&quot;tp2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;parameters&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;e&quot;:&quot;pv&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;duid&quot;:&quot;36746fd2-8441-4ea2-8ad0-237d6f4c77cf&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vid&quot;:&quot;1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;co&quot;:&quot;{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:[{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:{\&quot;id\&quot;:\&quot;5cea9899-10df-4ccf-bf66-8c36f4a4bba2\&quot;}}]}&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;eid&quot;:&quot;bee0a6d7-fc17-4392-b2bc-2208e8e944f3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;url&quot;:&quot;http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;refr&quot;:&quot;http://localhost:8000/__/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;aid&quot;:&quot;shop&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tna&quot;:&quot;sp1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cs&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cd&quot;:&quot;24&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;stm&quot;:&quot;1630238465752&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tz&quot;:&quot;Europe/London&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tv&quot;:&quot;js-3.1.3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vp&quot;:&quot;1000x660&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ds&quot;:&quot;988x670&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;res&quot;:&quot;1920x1080&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cookie&quot;:&quot;1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;p&quot;:&quot;web&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;dtm&quot;:&quot;1630238465748&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;uid&quot;:&quot;tester&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;lang&quot;:&quot;en-US&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;sid&quot;:&quot;6d15a4fb-9623-4ba1-b876-5240e72e6970&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;contentType&quot;:&quot;application/json&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;source&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;name&quot;:&quot;ssc-2.3.1-stdout$&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;encoding&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;hostname&quot;:&quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;context&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;:&quot;2021-08-29T12:01:05.787Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ipAddress&quot;:&quot;172.17.0.1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;useragent&quot;:&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;refererUri&quot;:&quot;http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;headers&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Timeout-Access: &lt;function1&gt;&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Connection: keep-alive&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Host: 0.0.0.0:9090&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept: */*&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept-Language: en-US, en;q=0.5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept-Encoding: gzip&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Referer: http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Origin: http://localhost:8000&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Cookie: micro=3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;application/json&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;userId&quot;:&quot;3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;eventType&quot;:&quot;page_view&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;schema&quot;:&quot;iglu:com.snowplowanalytics.snowplow/page_view/jsonschema/1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;contexts&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;event&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;app_id&quot;:&quot;shop&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;platform&quot;:&quot;web&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;etl_tstamp&quot;:&quot;2021-08-29T12:01:05.792Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;collector_tstamp&quot;:&quot;2021-08-29T12:01:05.787Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;dvce_created_tstamp&quot;:&quot;2021-08-29T12:01:05.748Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event&quot;:&quot;page_view&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event_id&quot;:&quot;bee0a6d7-fc17-4392-b2bc-2208e8e944f3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;txn_id&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;name_tracker&quot;:&quot;sp1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;v_tracker&quot;:&quot;js-3.1.3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;v_collector&quot;:&quot;ssc-2.3.1-stdout$&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;v_etl&quot;:&quot;snowplow-micro-1.3.1-common-2.0.2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;user_id&quot;:&quot;tester&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;user_ipaddress&quot;:&quot;172.17.0.1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;user_fingerprint&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;domain_userid&quot;:&quot;36746fd2-8441-4ea2-8ad0-237d6f4c77cf&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;domain_sessionidx&quot;:1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;network_userid&quot;:&quot;3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_country&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_region&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_city&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_zipcode&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_latitude&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_longitude&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_region_name&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ip_isp&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ip_organization&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ip_domain&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ip_netspeed&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_url&quot;:&quot;http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_title&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_referrer&quot;:&quot;http://localhost:8000/__/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_urlscheme&quot;:&quot;http&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_urlhost&quot;:&quot;localhost&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_urlport&quot;:8000,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_urlpath&quot;:&quot;/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_urlquery&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;page_urlfragment&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_urlscheme&quot;:&quot;http&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_urlhost&quot;:&quot;localhost&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_urlport&quot;:8000,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_urlpath&quot;:&quot;/__/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_urlquery&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_urlfragment&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_medium&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_source&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_term&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_medium&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_source&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_term&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_content&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_campaign&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;contexts&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;schema&quot;:&quot;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;data&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;schema&quot;:&quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;data&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;id&quot;:&quot;5cea9899-10df-4ccf-bf66-8c36f4a4bba2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;se_category&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;se_action&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;se_label&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;se_property&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;se_value&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;unstruct_event&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_orderid&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_affiliation&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_total&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_tax&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_shipping&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_city&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_state&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_country&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_orderid&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_sku&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_name&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_category&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_price&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_quantity&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;pp_xoffset_min&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;pp_xoffset_max&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;pp_yoffset_min&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;pp_yoffset_max&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;useragent&quot;:&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_name&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_family&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_version&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_type&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_renderengine&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_lang&quot;:&quot;en-US&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_pdf&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_flash&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_java&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_director&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_quicktime&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_realplayer&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_windowsmedia&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_gears&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_features_silverlight&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_cookies&quot;:true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_colordepth&quot;:&quot;24&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_viewwidth&quot;:1000,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;br_viewheight&quot;:660,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;os_name&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;os_family&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;os_manufacturer&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;os_timezone&quot;:&quot;Europe/London&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;dvce_type&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;dvce_ismobile&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;dvce_screenwidth&quot;:1920,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;dvce_screenheight&quot;:1080,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;doc_charset&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;doc_width&quot;:988,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;doc_height&quot;:670,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_currency&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_total_base&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_tax_base&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;tr_shipping_base&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_currency&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;ti_price_base&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;base_currency&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;geo_timezone&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_clickid&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;mkt_network&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;etl_tags&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;dvce_sent_tstamp&quot;:&quot;2021-08-29T12:01:05.752Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_domain_userid&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;refr_dvce_tstamp&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;derived_contexts&quot;:{},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;domain_sessionid&quot;:&quot;6d15a4fb-9623-4ba1-b876-5240e72e6970&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;derived_tstamp&quot;:&quot;2021-08-29T12:01:05.783Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event_vendor&quot;:&quot;com.snowplowanalytics.snowplow&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event_name&quot;:&quot;page_view&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event_format&quot;:&quot;jsonschema&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event_version&quot;:&quot;1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;event_fingerprint&quot;:null,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;true_tstamp&quot;:null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filters"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#filters" target="_blank" rel="noopener noreferrer"></a>Filters<a class="hash-link" href="#filters" title="Direct link to heading">​</a></h4><p>When querying <code>/micro/good</code> with <code>POST</code> (<code>Content-Type: application/json</code> needs to be set in the headers of the request), it&#x27;s possible to specify filters, thanks to a JSON in the data of the HTTP request.</p><p>Example of command to query the good events: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -X POST -H &#x27;Content-Type: application/json&#x27; &lt;IP:PORT&gt;/micro/good -d &#x27;&lt;JSON&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An example of JSON with filters could be:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;schema&quot;: &quot;iglu:com.acme/example/jsonschema/1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;contexts&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;com.snowplowanalytics.mobile/application/jsonschema/1-0-0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;com.snowplowanalytics.mobile/screen/jsonschema/1-0-0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;limit&quot;: 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>List of possible fields for the filters:</p><ul><li><code>event_type</code>: type of the event (in <code>e</code> param);</li><li><code>schema</code>: corresponds to the shema of an <a href="/docs/collecting-data/collecting-from-own-applications/snowplow-tracker-protocol#Custom_unstructured_event_tracking">unstructured event</a> (schema of the self-describing JSON contained in <code>ue_pr</code> or <code>ue_px</code>). It automatically implies <code>event_type</code> = <code>ue</code>.</li><li><code>contexts</code>: list of the schemas contained in the contexts of an event (parameters <code>co</code> or <code>cx</code>). An event must contain <strong>all</strong> the contexts of the list to be returned. It can also contain more contexts than the ones specified in the request.</li><li><code>limit</code>: limit the number of events in the response (most recent events are returned).</li></ul><p>It&#x27;s not necessary to specify all the fields in a request, only the ones that need to be used for filtering.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microbad">/micro/bad<a class="hash-link" href="#microbad" title="Direct link to heading">​</a></h3><p>This endpoint queries the bad events, which are the events that failed validation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-method-2"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#http-method-2" target="_blank" rel="noopener noreferrer"></a>HTTP method<a class="hash-link" href="#http-method-2" title="Direct link to heading">​</a></h4><ul><li><code>GET</code>: get <em>all</em> the bad events from the cache.</li><li><code>POST</code>: get the bad events with the possibility to filter.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="response-format-2"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#response-format-2" target="_blank" rel="noopener noreferrer"></a>Response format<a class="hash-link" href="#response-format-2" title="Direct link to heading">​</a></h4><p>JSON array of <a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/src/main/scala/com.snowplowanalytics.snowplow.micro/model.scala#L28" target="_blank" rel="noopener noreferrer">BadEvent</a>s. A <code>BadEvent</code> contains 3 fields:</p><ul><li><code>collectorPayload</code>: contains the <a href="https://github.com/snowplow/enrich/blob/master/modules/common/src/main/scala/com.snowplowanalytics.snowplow.enrich/common/loaders/CollectorPayload.scala#L107" target="_blank" rel="noopener noreferrer">CollectorPayload</a> with all the raw information of the tracking event. This field can be empty if an error occured before trying to validate a payload.</li><li><code>rawEvent</code>: contains the <a href="https://github.com/snowplow/enrich/blob/master/modules/common/src/main/scala/com.snowplowanalytics.snowplow.enrich/common/adapters/RawEvent.scala#L28" target="_blank" rel="noopener noreferrer">RawEvent</a>. It corresponds to the format of a validated event just before being enriched.</li><li><code>errors</code>: list of errors that occured during the validation of the tracking event.</li></ul><p>An example of a response with one bad event can be found below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;collectorPayload&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;api&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vendor&quot;:&quot;com.snowplowanalytics.snowplow&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;version&quot;:&quot;tp2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;querystring&quot;:[],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;contentType&quot;:&quot;application/json&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;body&quot;:&quot;{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4\&quot;,\&quot;data\&quot;:[{\&quot;e\&quot;:\&quot;ue\&quot;,\&quot;eid\&quot;:\&quot;36c39024-7b1b-4c2c-ae85-e95a8cb8340a\&quot;,\&quot;tv\&quot;:\&quot;js-3.1.3\&quot;,\&quot;tna\&quot;:\&quot;spmicro\&quot;,\&quot;aid\&quot;:\&quot;sh0pspr33\&quot;,\&quot;p\&quot;:\&quot;web\&quot;,\&quot;cookie\&quot;:\&quot;1\&quot;,\&quot;cs\&quot;:\&quot;UTF-8\&quot;,\&quot;lang\&quot;:\&quot;en-US\&quot;,\&quot;res\&quot;:\&quot;1920x1080\&quot;,\&quot;cd\&quot;:\&quot;24\&quot;,\&quot;tz\&quot;:\&quot;Europe/London\&quot;,\&quot;dtm\&quot;:\&quot;1630234190717\&quot;,\&quot;vp\&quot;:\&quot;1000x660\&quot;,\&quot;ds\&quot;:\&quot;1003x2242\&quot;,\&quot;vid\&quot;:\&quot;1\&quot;,\&quot;sid\&quot;:\&quot;13c8f5ac-d999-4923-940d-b39f7b74aa94\&quot;,\&quot;duid\&quot;:\&quot;8a17bb29-e35c-4363-aec3-85b9b363f9bf\&quot;,\&quot;uid\&quot;:\&quot;tester\&quot;,\&quot;refr\&quot;:\&quot;http://localhost:8000/\&quot;,\&quot;url\&quot;:\&quot;http://localhost:8000/shop/\&quot;,\&quot;ue_pr\&quot;:\&quot;{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;schema\\\&quot;:\\\&quot;iglu:test.example.iglu/cart_action_event/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;type\\\&quot;:\\\&quot;add\\\&quot;}}}\&quot;,\&quot;co\&quot;:\&quot;{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:[{\\\&quot;schema\\\&quot;:\\\&quot;iglu:test.example.iglu/product_entity/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;sku\\\&quot;:\\\&quot;hh456\\\&quot;,\\\&quot;name\\\&quot;:\\\&quot;One-size bucket hat\\\&quot;,\\\&quot;price\\\&quot;:24.49,\\\&quot;quantity\\\&quot;:\\\&quot;2\\\&quot;}},{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;id\\\&quot;:\\\&quot;fe0dd7c7-fb0b-43a2-b299-75d20baa94ec\\\&quot;}}]}\&quot;,\&quot;stm\&quot;:\&quot;1630234190719\&quot;}]}&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;source&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;name&quot;:&quot;ssc-2.3.1-stdout$&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;encoding&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;hostname&quot;:&quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;context&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;:&quot;2021-08-29T10:49:50.727Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ipAddress&quot;:&quot;172.17.0.1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;useragent&quot;:&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;refererUri&quot;:&quot;http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;headers&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Timeout-Access: &lt;function1&gt;&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Connection: keep-alive&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Host: 0.0.0.0:9090&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept: */*&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept-Language: en-US, en;q=0.5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept-Encoding: gzip&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Referer: http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Origin: http://localhost:8000&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Cookie: micro=3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;application/json&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;userId&quot;:&quot;3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;rawEvent&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;api&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vendor&quot;:&quot;com.snowplowanalytics.snowplow&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;version&quot;:&quot;tp2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;parameters&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;e&quot;:&quot;ue&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;duid&quot;:&quot;8a17bb29-e35c-4363-aec3-85b9b363f9bf&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vid&quot;:&quot;1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;co&quot;:&quot;{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:[{\&quot;schema\&quot;:\&quot;iglu:test.example.iglu/product_entity/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:{\&quot;sku\&quot;:\&quot;hh456\&quot;,\&quot;name\&quot;:\&quot;One-size bucket hat\&quot;,\&quot;price\&quot;:24.49,\&quot;quantity\&quot;:\&quot;2\&quot;}},{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:{\&quot;id\&quot;:\&quot;fe0dd7c7-fb0b-43a2-b299-75d20baa94ec\&quot;}}]}&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;eid&quot;:&quot;36c39024-7b1b-4c2c-ae85-e95a8cb8340a&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;url&quot;:&quot;http://localhost:8000/shop/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;refr&quot;:&quot;http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;aid&quot;:&quot;sh0pspr33&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tna&quot;:&quot;spmicro&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cs&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cd&quot;:&quot;24&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;stm&quot;:&quot;1630234190719&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tz&quot;:&quot;Europe/London&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tv&quot;:&quot;js-3.1.3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;vp&quot;:&quot;1000x660&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ds&quot;:&quot;1003x2242&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ue_pr&quot;:&quot;{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:{\&quot;schema\&quot;:\&quot;iglu:test.example.iglu/cart_action_event/jsonschema/1-0-0\&quot;,\&quot;data\&quot;:{\&quot;type\&quot;:\&quot;add\&quot;}}}&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;res&quot;:&quot;1920x1080&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;cookie&quot;:&quot;1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;p&quot;:&quot;web&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;dtm&quot;:&quot;1630234190717&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;uid&quot;:&quot;tester&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;lang&quot;:&quot;en-US&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;sid&quot;:&quot;13c8f5ac-d999-4923-940d-b39f7b74aa94&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;contentType&quot;:&quot;application/json&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;source&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;name&quot;:&quot;ssc-2.3.1-stdout$&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;encoding&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;hostname&quot;:&quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;context&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;:&quot;2021-08-29T10:49:50.727Z&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;ipAddress&quot;:&quot;172.17.0.1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;useragent&quot;:&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;refererUri&quot;:&quot;http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;headers&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Timeout-Access: &lt;function1&gt;&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Connection: keep-alive&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Host: 0.0.0.0:9090&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept: */*&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept-Language: en-US, en;q=0.5&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Accept-Encoding: gzip&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Referer: http://localhost:8000/&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Origin: http://localhost:8000&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;Cookie: micro=3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &quot;application/json&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;userId&quot;:&quot;3734601f-5c3d-47c5-b367-0883e1ed74e6&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;errors&quot;:[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;Error while validating the event&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;{\&quot;schema\&quot;:\&quot;iglu:com.snowplowanalytics.snowplow.badrows/schema_violations/jsonschema/2-0-0\&quot;,\&quot;data\&quot;:{\&quot;processor\&quot;:{\&quot;artifact\&quot;:\&quot;snowplow-micro\&quot;,\&quot;version\&quot;:\&quot;1.2.1\&quot;},\&quot;failure\&quot;:{\&quot;timestamp\&quot;:\&quot;2021-08-29T10:49:50.739178Z\&quot;,\&quot;messages\&quot;:[{\&quot;schemaKey\&quot;:\&quot;iglu:test.example.iglu/product_entity/jsonschema/1-0-0\&quot;,\&quot;error\&quot;:{\&quot;error\&quot;:\&quot;ValidationError\&quot;,\&quot;dataReports\&quot;:[{\&quot;message\&quot;:\&quot;$.quantity: string found, integer expected\&quot;,\&quot;path\&quot;:\&quot;$.quantity\&quot;,\&quot;keyword\&quot;:\&quot;type\&quot;,\&quot;targets\&quot;:[\&quot;string\&quot;,\&quot;integer\&quot;]}]}}]},\&quot;payload\&quot;:{\&quot;enriched\&quot;:{\&quot;app_id\&quot;:\&quot;sh0pspr33\&quot;,\&quot;platform\&quot;:\&quot;web\&quot;,\&quot;etl_tstamp\&quot;:\&quot;2021-08-29 10:49:50.731\&quot;,\&quot;collector_tstamp\&quot;:\&quot;2021-08-29 10:49:50.727\&quot;,\&quot;dvce_created_tstamp\&quot;:\&quot;2021-08-29 10:49:50.717\&quot;,\&quot;event\&quot;:\&quot;unstruct\&quot;,\&quot;event_id\&quot;:\&quot;36c39024-7b1b-4c2c-ae85-e95a8cb8340a\&quot;,\&quot;txn_id\&quot;:null,\&quot;name_tracker\&quot;:\&quot;spmicro\&quot;,\&quot;v_tracker\&quot;:\&quot;js-3.1.3\&quot;,\&quot;v_collector\&quot;:\&quot;ssc-2.3.1-stdout$\&quot;,\&quot;v_etl\&quot;:\&quot;snowplow-micro-1.2.1-common-2.0.2\&quot;,\&quot;user_id\&quot;:\&quot;tester\&quot;,\&quot;user_ipaddress\&quot;:\&quot;172.17.0.1\&quot;,\&quot;user_fingerprint\&quot;:null,\&quot;domain_userid\&quot;:\&quot;8a17bb29-e35c-4363-aec3-85b9b363f9bf\&quot;,\&quot;domain_sessionidx\&quot;:1,\&quot;network_userid\&quot;:\&quot;3734601f-5c3d-47c5-b367-0883e1ed74e6\&quot;,\&quot;geo_country\&quot;:null,\&quot;geo_region\&quot;:null,\&quot;geo_city\&quot;:null,\&quot;geo_zipcode\&quot;:null,\&quot;geo_latitude\&quot;:null,\&quot;geo_longitude\&quot;:null,\&quot;geo_region_name\&quot;:null,\&quot;ip_isp\&quot;:null,\&quot;ip_organization\&quot;:null,\&quot;ip_domain\&quot;:null,\&quot;ip_netspeed\&quot;:null,\&quot;page_url\&quot;:\&quot;http://localhost:8000/shop/\&quot;,\&quot;page_title\&quot;:null,\&quot;page_referrer\&quot;:\&quot;http://localhost:8000/\&quot;,\&quot;page_urlscheme\&quot;:null,\&quot;page_urlhost\&quot;:null,\&quot;page_urlport\&quot;:null,\&quot;page_urlpath\&quot;:null,\&quot;page_urlquery\&quot;:null,\&quot;page_urlfragment\&quot;:null,\&quot;refr_urlscheme\&quot;:null,\&quot;refr_urlhost\&quot;:null,\&quot;refr_urlport\&quot;:null,\&quot;refr_urlpath\&quot;:null,\&quot;refr_urlquery\&quot;:null,\&quot;refr_urlfragment\&quot;:null,\&quot;refr_medium\&quot;:null,\&quot;refr_source\&quot;:null,\&quot;refr_term\&quot;:null,\&quot;mkt_medium\&quot;:null,\&quot;mkt_source\&quot;:null,\&quot;mkt_term\&quot;:null,\&quot;mkt_content\&quot;:null,\&quot;mkt_campaign\&quot;:null,\&quot;contexts\&quot;:\&quot;{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:[{\\\&quot;schema\\\&quot;:\\\&quot;iglu:test.example.iglu/product_entity/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;sku\\\&quot;:\\\&quot;hh456\\\&quot;,\\\&quot;name\\\&quot;:\\\&quot;One-size bucket hat\\\&quot;,\\\&quot;price\\\&quot;:24.49,\\\&quot;quantity\\\&quot;:\\\&quot;2\\\&quot;}},{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;id\\\&quot;:\\\&quot;fe0dd7c7-fb0b-43a2-b299-75d20baa94ec\\\&quot;}}]}\&quot;,\&quot;se_category\&quot;:null,\&quot;se_action\&quot;:null,\&quot;se_label\&quot;:null,\&quot;se_property\&quot;:null,\&quot;se_value\&quot;:null,\&quot;unstruct_event\&quot;:\&quot;{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;schema\\\&quot;:\\\&quot;iglu:test.example.iglu/cart_action_event/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;type\\\&quot;:\\\&quot;add\\\&quot;}}}\&quot;,\&quot;tr_orderid\&quot;:null,\&quot;tr_affiliation\&quot;:null,\&quot;tr_total\&quot;:null,\&quot;tr_tax\&quot;:null,\&quot;tr_shipping\&quot;:null,\&quot;tr_city\&quot;:null,\&quot;tr_state\&quot;:null,\&quot;tr_country\&quot;:null,\&quot;ti_orderid\&quot;:null,\&quot;ti_sku\&quot;:null,\&quot;ti_name\&quot;:null,\&quot;ti_category\&quot;:null,\&quot;ti_price\&quot;:null,\&quot;ti_quantity\&quot;:null,\&quot;pp_xoffset_min\&quot;:null,\&quot;pp_xoffset_max\&quot;:null,\&quot;pp_yoffset_min\&quot;:null,\&quot;pp_yoffset_max\&quot;:null,\&quot;useragent\&quot;:\&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0\&quot;,\&quot;br_name\&quot;:null,\&quot;br_family\&quot;:null,\&quot;br_version\&quot;:null,\&quot;br_type\&quot;:null,\&quot;br_renderengine\&quot;:null,\&quot;br_lang\&quot;:\&quot;en-US\&quot;,\&quot;br_features_pdf\&quot;:null,\&quot;br_features_flash\&quot;:null,\&quot;br_features_java\&quot;:null,\&quot;br_features_director\&quot;:null,\&quot;br_features_quicktime\&quot;:null,\&quot;br_features_realplayer\&quot;:null,\&quot;br_features_windowsmedia\&quot;:null,\&quot;br_features_gears\&quot;:null,\&quot;br_features_silverlight\&quot;:null,\&quot;br_cookies\&quot;:1,\&quot;br_colordepth\&quot;:\&quot;24\&quot;,\&quot;br_viewwidth\&quot;:1000,\&quot;br_viewheight\&quot;:660,\&quot;os_name\&quot;:null,\&quot;os_family\&quot;:null,\&quot;os_manufacturer\&quot;:null,\&quot;os_timezone\&quot;:\&quot;Europe/London\&quot;,\&quot;dvce_type\&quot;:null,\&quot;dvce_ismobile\&quot;:null,\&quot;dvce_screenwidth\&quot;:1920,\&quot;dvce_screenheight\&quot;:1080,\&quot;doc_charset\&quot;:\&quot;UTF-8\&quot;,\&quot;doc_width\&quot;:1003,\&quot;doc_height\&quot;:2242,\&quot;tr_currency\&quot;:null,\&quot;tr_total_base\&quot;:null,\&quot;tr_tax_base\&quot;:null,\&quot;tr_shipping_base\&quot;:null,\&quot;ti_currency\&quot;:null,\&quot;ti_price_base\&quot;:null,\&quot;base_currency\&quot;:null,\&quot;geo_timezone\&quot;:null,\&quot;mkt_clickid\&quot;:null,\&quot;mkt_network\&quot;:null,\&quot;etl_tags\&quot;:null,\&quot;dvce_sent_tstamp\&quot;:\&quot;2021-08-29 10:49:50.719\&quot;,\&quot;refr_domain_userid\&quot;:null,\&quot;refr_dvce_tstamp\&quot;:null,\&quot;derived_contexts\&quot;:null,\&quot;domain_sessionid\&quot;:\&quot;13c8f5ac-d999-4923-940d-b39f7b74aa94\&quot;,\&quot;derived_tstamp\&quot;:null,\&quot;event_vendor\&quot;:null,\&quot;event_name\&quot;:null,\&quot;event_format\&quot;:null,\&quot;event_version\&quot;:null,\&quot;event_fingerprint\&quot;:null,\&quot;true_tstamp\&quot;:null},\&quot;raw\&quot;:{\&quot;vendor\&quot;:\&quot;com.snowplowanalytics.snowplow\&quot;,\&quot;version\&quot;:\&quot;tp2\&quot;,\&quot;parameters\&quot;:[{\&quot;name\&quot;:\&quot;e\&quot;,\&quot;value\&quot;:\&quot;ue\&quot;},{\&quot;name\&quot;:\&quot;duid\&quot;,\&quot;value\&quot;:\&quot;8a17bb29-e35c-4363-aec3-85b9b363f9bf\&quot;},{\&quot;name\&quot;:\&quot;vid\&quot;,\&quot;value\&quot;:\&quot;1\&quot;},{\&quot;name\&quot;:\&quot;co\&quot;,\&quot;value\&quot;:\&quot;{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:[{\\\&quot;schema\\\&quot;:\\\&quot;iglu:test.example.iglu/product_entity/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;sku\\\&quot;:\\\&quot;hh456\\\&quot;,\\\&quot;name\\\&quot;:\\\&quot;One-size bucket hat\\\&quot;,\\\&quot;price\\\&quot;:24.49,\\\&quot;quantity\\\&quot;:\\\&quot;2\\\&quot;}},{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;id\\\&quot;:\\\&quot;fe0dd7c7-fb0b-43a2-b299-75d20baa94ec\\\&quot;}}]}\&quot;},{\&quot;name\&quot;:\&quot;eid\&quot;,\&quot;value\&quot;:\&quot;36c39024-7b1b-4c2c-ae85-e95a8cb8340a\&quot;},{\&quot;name\&quot;:\&quot;url\&quot;,\&quot;value\&quot;:\&quot;http://localhost:8000/shop/\&quot;},{\&quot;name\&quot;:\&quot;refr\&quot;,\&quot;value\&quot;:\&quot;http://localhost:8000/\&quot;},{\&quot;name\&quot;:\&quot;aid\&quot;,\&quot;value\&quot;:\&quot;sh0pspr33\&quot;},{\&quot;name\&quot;:\&quot;tna\&quot;,\&quot;value\&quot;:\&quot;spmicro\&quot;},{\&quot;name\&quot;:\&quot;cs\&quot;,\&quot;value\&quot;:\&quot;UTF-8\&quot;},{\&quot;name\&quot;:\&quot;cd\&quot;,\&quot;value\&quot;:\&quot;24\&quot;},{\&quot;name\&quot;:\&quot;stm\&quot;,\&quot;value\&quot;:\&quot;1630234190719\&quot;},{\&quot;name\&quot;:\&quot;tz\&quot;,\&quot;value\&quot;:\&quot;Europe/London\&quot;},{\&quot;name\&quot;:\&quot;tv\&quot;,\&quot;value\&quot;:\&quot;js-3.1.3\&quot;},{\&quot;name\&quot;:\&quot;vp\&quot;,\&quot;value\&quot;:\&quot;1000x660\&quot;},{\&quot;name\&quot;:\&quot;ds\&quot;,\&quot;value\&quot;:\&quot;1003x2242\&quot;},{\&quot;name\&quot;:\&quot;ue_pr\&quot;,\&quot;value\&quot;:\&quot;{\\\&quot;schema\\\&quot;:\\\&quot;iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;schema\\\&quot;:\\\&quot;iglu:test.example.iglu/cart_action_event/jsonschema/1-0-0\\\&quot;,\\\&quot;data\\\&quot;:{\\\&quot;type\\\&quot;:\\\&quot;add\\\&quot;}}}\&quot;},{\&quot;name\&quot;:\&quot;res\&quot;,\&quot;value\&quot;:\&quot;1920x1080\&quot;},{\&quot;name\&quot;:\&quot;cookie\&quot;,\&quot;value\&quot;:\&quot;1\&quot;},{\&quot;name\&quot;:\&quot;p\&quot;,\&quot;value\&quot;:\&quot;web\&quot;},{\&quot;name\&quot;:\&quot;dtm\&quot;,\&quot;value\&quot;:\&quot;1630234190717\&quot;},{\&quot;name\&quot;:\&quot;uid\&quot;,\&quot;value\&quot;:\&quot;tester\&quot;},{\&quot;name\&quot;:\&quot;lang\&quot;,\&quot;value\&quot;:\&quot;en-US\&quot;},{\&quot;name\&quot;:\&quot;sid\&quot;,\&quot;value\&quot;:\&quot;13c8f5ac-d999-4923-940d-b39f7b74aa94\&quot;}],\&quot;contentType\&quot;:\&quot;application/json\&quot;,\&quot;loaderName\&quot;:\&quot;ssc-2.3.1-stdout$\&quot;,\&quot;encoding\&quot;:\&quot;UTF-8\&quot;,\&quot;hostname\&quot;:\&quot;0.0.0.0\&quot;,\&quot;timestamp\&quot;:\&quot;2021-08-29T10:49:50.727Z\&quot;,\&quot;ipAddress\&quot;:\&quot;172.17.0.1\&quot;,\&quot;useragent\&quot;:\&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0\&quot;,\&quot;refererUri\&quot;:\&quot;http://localhost:8000/\&quot;,\&quot;headers\&quot;:[\&quot;Timeout-Access: &lt;function1&gt;\&quot;,\&quot;Connection: keep-alive\&quot;,\&quot;Host: 0.0.0.0:9090\&quot;,\&quot;User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0\&quot;,\&quot;Accept: */*\&quot;,\&quot;Accept-Language: en-US, en;q=0.5\&quot;,\&quot;Accept-Encoding: gzip\&quot;,\&quot;Referer: http://localhost:8000/\&quot;,\&quot;Origin: http://localhost:8000\&quot;,\&quot;Cookie: micro=3734601f-5c3d-47c5-b367-0883e1ed74e6\&quot;,\&quot;application/json\&quot;],\&quot;userId\&quot;:\&quot;3734601f-5c3d-47c5-b367-0883e1ed74e6\&quot;}}}}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filters-1"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#filters-1" target="_blank" rel="noopener noreferrer"></a>Filters<a class="hash-link" href="#filters-1" title="Direct link to heading">​</a></h4><p>When querying <code>/micro/bad</code> with <code>POST</code> (<code>Content-Type: application/json</code> needs to be set in the headers of the request), it&#x27;s possible to specify filters, thanks to a JSON in the data of the HTTP request.</p><p>Example of command to query the bad events: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -X POST -H &#x27;Content-Type: application/json&#x27; &lt;IP:PORT&gt;/micro/bad -d &#x27;&lt;JSON&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An example of JSON with filters could be:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;vendor&quot;:&quot;com.snowplowanalytics.snowplow&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;version&quot;:&quot;tp2&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;limit&quot;: 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>List of possible fields for the filters:</p><ul><li><code>vendor</code>: vendor for the tracking event.</li><li><code>version</code>: version of the vendor for the tracking event.</li><li><code>limit</code>: limit the number of events in the response (most recent events are returned).</li></ul><p>It&#x27;s not necessary to specify all the fields in each request, only the ones that need to be used for filtering.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microreset">/micro/reset<a class="hash-link" href="#microreset" title="Direct link to heading">​</a></h3><p>Sending a request to this endpoint resets Micro&#x27;s cache.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-method-3"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#http-method-3" target="_blank" rel="noopener noreferrer"></a>HTTP method<a class="hash-link" href="#http-method-3" title="Direct link to heading">​</a></h4><p><code>GET</code>, <code>POST</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="response-format-3"><a href="https://github.com/snowplow-incubator/snowplow-micro/blob/master/README.md#response-format-3" target="_blank" rel="noopener noreferrer"></a>Response format<a class="hash-link" href="#response-format-3" title="Direct link to heading">​</a></h4><p>Expected:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;total&quot;: 0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;good&quot;: 0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;bad&quot;: 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microiglu">/micro/iglu<a class="hash-link" href="#microiglu" title="Direct link to heading">​</a></h3><p><strong>*<!-- -->*<!-- -->New in v1.2<!-- -->*<!-- -->*</strong></p><p>The <code>/micro/iglu</code> endpoint can be used in order to check whether a schema can be resolved.</p><p>Schema lookup should be in format:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/micro/iglu/{vendor}/{schemaName}/jsonschema/{schemaVersion}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or more specifically:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/micro/iglu/{vendor}/{schemaName}/jsonschema/{model}-{revision}-{addition}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, assuming Micro running on localhost port <code>9090</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -X GET http://localhost:9090/micro/iglu/com.myvendor/myschema/jsonschema/1-0-0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-method-4">HTTP Method<a class="hash-link" href="#http-method-4" title="Direct link to heading">​</a></h4><p>GET</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="response-format-4">Response format<a class="hash-link" href="#response-format-4" title="Direct link to heading">​</a></h4><p>The JSON schema itself, if resolved:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;$schema&quot;:&quot;http://iglucentral.com/schemas/com.snowplowanalytics.self-desc/schema/jsonschema/1-0-0#&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;description&quot;:&quot;A template for a self-describing JSON Schema for use with Iglu&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;self&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;vendor&quot;:&quot;com.myvendor&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;name&quot;:&quot;myschema&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;format&quot;:&quot;jsonschema&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;version&quot;:&quot;1-0-0&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;type&quot;:&quot;object&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;myStringProperty&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;type&quot;:&quot;string&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;myNumberProperty&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;type&quot;:&quot;number&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;required&quot;: [&quot;myStringProperty&quot;,&quot;myNumberProperty&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;additionalProperties&quot;:false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If a schema cannot be resolved, a JSON indicating the Iglu repositories searched:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;value&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Iglu Central&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;errors&quot;: [{&quot;error&quot;:&quot;NotFound&quot;}],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;attempts&quot;:1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;lastAttempt&quot;:&quot;2021-08-26T13:41:06.905Z&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Iglu Client Embedded&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;errors&quot;: [{&quot;error&quot;:&quot;NotFound&quot;}],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;attempts&quot;:1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;lastAttempt&quot;:&quot;2021-08-26T13:41:06.677Z&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-usage-embedded-iglu">Advanced usage: Embedded Iglu<a class="hash-link" href="#advanced-usage-embedded-iglu" title="Direct link to heading">​</a></h2><p><strong>*<!-- -->*<!-- -->New in v1.2<!-- -->*<!-- -->*</strong></p><p>In order to support a broader range of test workflows, it is possible to use an embedded Iglu with Snowplow Micro. Users can now choose to embed their custom schemas inside Micro to be resolved during their test worflows.</p><p>In order to do so, they simply need an <code>iglu-client-embedded</code> directory (templated as an Iglu repository) under the same directory that is mounted when starting Micro.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">example</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── iglu-client-embedded</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── schemas</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       └── com.myvendor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│           └── myschema</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│               └── jsonschema</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│                   └── 1-0-0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── iglu.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── micro.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-docker-1">Using Docker<a class="hash-link" href="#using-docker-1" title="Direct link to heading">​</a></h4><p>Using Docker, in order to use the embedded Iglu capabilities, the command remains the same:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --mount type=bind,source=$(pwd)/example,destination=/config \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -p 9090:9090 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  snowplow/snowplow-micro:1.3.1 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --collector-config /config/micro.conf \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --iglu /config/iglu.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-java-1">Using Java<a class="hash-link" href="#using-java-1" title="Direct link to heading">​</a></h4><p>If you cannot use Docker and you also want an embedded Iglu, apply the same directory structure as shown above and run for this example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Unix</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">java -cp snowplow-micro-1.3.1.jar:example com.snowplowanalytics.snowplow.micro.Main --collector-config example/micro.conf --iglu example/iglu.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Windows</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">java -cp snowplow-micro-1.3.1.jar;example com.snowplowanalytics.snowplow.micro.Main --collector-config example/micro.conf --iglu example/iglu.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you can also check that your embedded schemas can be resolved by using the <code>/micro/iglu</code> endpoint.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/snowplow/snowplow.github.io/tree/main/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-29T11:09:02.000Z">Aug 29, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/managing-data-quality/testing-and-qa-workflows"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Testing and QA workflows</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/managing-data-quality/testing-and-qa-workflows/set-up-automated-testing-with-snowplow-micro/example-of-automated-tests"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Example of automated tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-snowplow-micro-for" class="table-of-contents__link toc-highlight">What is Snowplow Micro for?</a></li><li><a href="#how-do-i-run-snowplow-micro" class="table-of-contents__link toc-highlight">How do I run Snowplow Micro?</a></li><li><a href="#rest-api" class="table-of-contents__link toc-highlight">REST API</a><ul><li><a href="#microall" class="table-of-contents__link toc-highlight">/micro/all</a></li><li><a href="#microgood" class="table-of-contents__link toc-highlight">/micro/good</a></li><li><a href="#microbad" class="table-of-contents__link toc-highlight">/micro/bad</a></li><li><a href="#microreset" class="table-of-contents__link toc-highlight">/micro/reset</a></li><li><a href="#microiglu" class="table-of-contents__link toc-highlight">/micro/iglu</a></li></ul></li><li><a href="#advanced-usage-embedded-iglu" class="table-of-contents__link toc-highlight">Advanced usage: Embedded Iglu</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/cookie-settings">Change cookie settings</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/terms-and-conditions">Terms and conditions</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Snowplow Analytics Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.029f753d.js"></script>
<script src="/assets/js/main.f9862780.js"></script>
</body>
</html>