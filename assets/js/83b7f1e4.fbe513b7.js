"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[65001],{3905:(e,t,o)=>{o.d(t,{Zo:()=>s,kt:()=>h});var n=o(67294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var c=n.createContext({}),p=function(e){var t=n.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},s=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(o),h=a,m=d["".concat(c,".").concat(h)]||d[h]||u[h]||r;return o?n.createElement(m,i(i({ref:t},s),{},{components:o})):n.createElement(m,i({ref:t},s))}));function h(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=o[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},14397:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>s});var n=o(87462),a=(o(67294),o(3905)),r=o(87758);const i={title:"Pixel Tracker",date:"2020-02-26",sidebar_position:160},l=void 0,c={unversionedId:"collecting-data/collecting-from-own-applications/pixel-tracker/index",id:"collecting-data/collecting-from-own-applications/pixel-tracker/index",title:"Pixel Tracker",description:"What is the Pixel tracker?",source:"@site/docs/collecting-data/collecting-from-own-applications/pixel-tracker/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/pixel-tracker",slug:"/collecting-data/collecting-from-own-applications/pixel-tracker/",permalink:"/docs/collecting-data/collecting-from-own-applications/pixel-tracker/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/pixel-tracker/index.md",tags:[],version:"current",lastUpdatedAt:1661339328,formattedLastUpdatedAt:"Aug 24, 2022",sidebarPosition:160,frontMatter:{title:"Pixel Tracker",date:"2020-02-26",sidebar_position:160},sidebar:"tutorialSidebar",previous:{title:"Google AMP (0.1.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/google-amp-tracker/google-amp-1-0-0/"},next:{title:"Golang Tracker",permalink:"/docs/collecting-data/collecting-from-own-applications/golang-tracker/"}},p={},s=[{value:"What is the Pixel tracker?",id:"what-is-the-pixel-tracker",level:2},{value:"Anatomy of a Pixel tracking tag",id:"anatomy-of-a-pixel-tracking-tag",level:2},{value:"A warning about using the Pixel tracker on domains you do not own",id:"a-warning-about-using-the-pixel-tracker-on-domains-you-do-not-own",level:2},{value:"Setting up the pixel tracker",id:"setting-up-the-pixel-tracker",level:2},{value:"Identify the event you wish to track",id:"identify-the-event-you-wish-to-track",level:3},{value:"Use the pixel tag generator",id:"use-the-pixel-tag-generator",level:3},{value:"<strong>Choose your collector domain</strong>",id:"choose-your-collector-domain",level:4},{value:"<strong>Choose the platform</strong>",id:"choose-the-platform",level:4},{value:"<strong>Structured event fields</strong>",id:"structured-event-fields",level:4},{value:"<strong>Select the `Generate Pixel tracking tag button</strong>.",id:"select-the-generate-pixel-tracking-tag-button",level:4},{value:"Insert the tracking code into the page or ad you wish to track",id:"insert-the-tracking-code-into-the-page-or-ad-you-wish-to-track",level:3},{value:"Click tracking",id:"click-tracking",level:2},{value:"Further sources of information",id:"further-sources-of-information",level:2}],u={toc:s};function d(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(r.ZP,{mdxType:"Block2901"}),(0,a.kt)("h2",{id:"what-is-the-pixel-tracker"},"What is the Pixel tracker?"),(0,a.kt)("p",null,"The Pixel tracker is an HTML-only tracking tag (no JavaScript) to track opens / views of HTML content that does not support JavaScript. Examples of use cases include HTML emails."),(0,a.kt)("p",null,"In a normal JavaScript tag, the name-value pairs of data that are sent through to the Snowplow collector via the querystring are calculated on the fly by the JavaScript. (Examples of data points that are calculated on the fly include\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"user_id"),", or\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"browser_features"),".)"),(0,a.kt)("p",null,"In an environment where JavaScript is not permitted, these values need to be set in advance and hardcoded into the tracking tag. As a result, if you want to record a different\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"page_title"),", for example, for several different HTML-only web pages using the tracking code, you will need to generate a different tracking tag for each of those different web pages, with the right\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"page_title"),"\xa0set for each."),(0,a.kt)("h2",{id:"anatomy-of-a-pixel-tracking-tag"},"Anatomy of a Pixel tracking tag"),(0,a.kt)("p",null,"An example tag is shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\x3c!--Snowplow start plowing--\x3e\n<img src="http://collector.acme.com/i?&e=pv&page=Root%20README&url=http%3A%2F%2Fgithub.com%2Fsnowplow%2Fsnowplow&aid=snowplow&p=web&tv=no-js-0.1.0" />\n\x3c!--Snowplow stop plowing--\x3e\n')),(0,a.kt)("p",null,"Some things to note about the tag:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"It is a straightforward\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"<img ...>"),"\xa0tag, that results in the GET request to the Snowplow tracking pixel"),(0,a.kt)("li",{parentName:"ol"},"The endpoint is set to a Snowplow collector that we are running at\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"collector.snplow.com"),"."),(0,a.kt)("li",{parentName:"ol"},"Five data points are passed on the query string: the event type (",(0,a.kt)("inlineCode",{parentName:"li"},"pageview"),"), the page name (",(0,a.kt)("inlineCode",{parentName:"li"},"Root README"),"), the URL (",(0,a.kt)("inlineCode",{parentName:"li"},"http://github.com/snowplow/snowplow"),"), the application id (",(0,a.kt)("inlineCode",{parentName:"li"},"snowplow"),"), the platform (",(0,a.kt)("inlineCode",{parentName:"li"},"web"),") and the tracker version (",(0,a.kt)("inlineCode",{parentName:"li"},"no-js-0.1.0"),")")),(0,a.kt)("h2",{id:"a-warning-about-using-the-pixel-tracker-on-domains-you-do-not-own"},"A warning about using the Pixel tracker on domains you do not own"),(0,a.kt)("p",null,"The snowplow collector sets a\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"network_userid"),"\xa0and drops this on a browser cookie."),(0,a.kt)("p",null,"Care must therefore be exercised when using the Pixel tracker on domains that you do not own.\xa0",(0,a.kt)("strong",{parentName:"p"},"It is your responsibility to abide by the terms and conditions of any domain owner for domains where you post content including uploading Pixel tracking tags."),"\xa0Some domain owners forbid 3rd parties from dropping cookies on their domains. It is your responsibility to ensure you do not violate the terms and conditions of any domain owners that you work with."),(0,a.kt)("h2",{id:"setting-up-the-pixel-tracker"},"Setting up the pixel tracker"),(0,a.kt)("h3",{id:"identify-the-event-you-wish-to-track"},"Identify the event you wish to track"),(0,a.kt)("p",null,"Identify the event you wish to track. This may be opening a particular email that is sent out via your email marketing system, or viewing a product you are selling on a 3rd party marketplace."),(0,a.kt)("h3",{id:"use-the-pixel-tag-generator"},"Use the pixel tag generator"),(0,a.kt)("p",null,"Snowplow BDP customers can generate a pixel tracker aimed at structured events via the ",(0,a.kt)("a",{parentName:"p",href:"https://console.snowplowanalytics.com/pixel-tracker"},"Snowplow BDP Console"),"."),(0,a.kt)("h4",{id:"choose-your-collector-domain"},(0,a.kt)("strong",{parentName:"h4"},"Choose your collector domain")),(0,a.kt)("p",null,"Select the collector you'd like events sent to via the dropdown."),(0,a.kt)("h4",{id:"choose-the-platform"},(0,a.kt)("strong",{parentName:"h4"},"Choose the platform")),(0,a.kt)("p",null,"Choose the value for the platform the tag will be run on."),(0,a.kt)("h4",{id:"structured-event-fields"},(0,a.kt)("strong",{parentName:"h4"},"Structured event fields")),(0,a.kt)("p",null,"The generator is currently built for quickly outputting a pixel tag related to campaign oriented events."),(0,a.kt)("p",null,"Category, action, label, property and value are all available to input relevant information about your campaign."),(0,a.kt)("h4",{id:"select-the-generate-pixel-tracking-tag-button"},(0,a.kt)("strong",{parentName:"h4"},"Select the ","`","Generate Pixel tracking tag button"),"."),(0,a.kt)("p",null,"The tracking code will be displayed. Copy this to the clipboard."),(0,a.kt)("h3",{id:"insert-the-tracking-code-into-the-page-or-ad-you-wish-to-track"},"Insert the tracking code into the page or ad you wish to track"),(0,a.kt)("p",null,"If this is an HTML email, you will need to insert it in the email. If it is a webpage hosted on a third party site, you will need to add it to the source code."),(0,a.kt)("h2",{id:"click-tracking"},"Click tracking"),(0,a.kt)("p",null,"You can use the Pixel tracker for click tracking aka URI redirects:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Set your collector path to\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"{{collector-domain}}/r/tp2?{{name-value-pairs}}"),"\xa0- the\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"/r/tp2"),"\xa0tells Snowplow that you are attempting a URI redirect"),(0,a.kt)("li",{parentName:"ul"},"Add a\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"&u={{uri}}"),"\xa0argument to your collector URI, where\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"{{uri}}"),"\xa0is the URL-encoded URI that you want to redirect to"),(0,a.kt)("li",{parentName:"ul"},"On clicking this link, the collector will register the link and then do a 302 redirect to the supplied\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"{{uri}}")),(0,a.kt)("li",{parentName:"ul"},"As well as the\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"&u={{uri}}"),"\xa0parameter, you can populate the collector URI with any other fields from the\xa0",(0,a.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Snowplow-Tracker-Protocol"},"Snowplow Tracker Protocol"))),(0,a.kt)("p",null,"Redirect tracking is usually disabled by default, and is disabled by default for all Snowplow BDP users. To use this feature, you need to enable this in your collector configuration. Snowplow BDP customers can enable this from within the Pipeline Configuration screen of the Snowplow BDP Console."),(0,a.kt)("p",null,"You should also restrict values which are allowed within the ",(0,a.kt)("inlineCode",{parentName:"p"},"u")," parameter to prevent phising attacks using this redirect endpoint. One option is to use ",(0,a.kt)("a",{parentName:"p",href:"https://aws.amazon.com/waf/"},"AWS WAF")," or ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/armor"},"Google Cloud Armor")," (depending on your cloud). They let you block traffic that matches rules you define, such as a regex that the value of the ",(0,a.kt)("inlineCode",{parentName:"p"},"u")," parameter must match."),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'Check out <a href="http://collector.acme.com/r/tp2?u=https%3A%2F%2Fgithub.com%2Fsnowplow%2Fhuskimo">Huskimo</a>\n')),(0,a.kt)("p",null,"Snowplow converts the\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"&u={{uri}}"),"\xa0argument into a\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"com.snowplowanalytics.snowplow/uri_direct"),"\xa0self-describing JSON."),(0,a.kt)("p",null,"How Snowplow attaches the\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"uri_redirect"),"\xa0to the event depends on what other Tracker Protocol fields you attached to the event:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"If you attached an\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"&e={{event type}}"),"\xa0to your event, then the\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"uri_redirect"),"\xa0will be added to the contexts array of your event"),(0,a.kt)("li",{parentName:"ol"},"If you did not attach an\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"&e={{event type}}"),"\xa0to your event, then this event will be treated as an unstructured event and the\xa0",(0,a.kt)("inlineCode",{parentName:"li"},"uri_redirect"),"\xa0will be attached as the event itself")),(0,a.kt)("h2",{id:"further-sources-of-information"},(0,a.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/pixel-tracker-setup#further-sources-of-information"}),"Further sources of information"),(0,a.kt)("p",null,"For further information on the Pixel tracker, see this\xa0",(0,a.kt)("a",{parentName:"p",href:"http://snowplowanalytics.com/blog/2013/01/29/introducing-the-pixel-tracker/"},"introductory blog post"),"."))}d.isMDXComponent=!0},87758:(e,t,o)=>{o.d(t,{ZP:()=>i});var n=o(87462),a=(o(67294),o(3905));const r={toc:[]};function i(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},r,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/docs/collecting-data/collecting-from-own-applications/tracker-maintenance-classification/"},(0,a.kt)("img",{parentName:"a",src:"https://img.shields.io/static/v1?style=flat&label=Snowplow&message=Maintained&color=9e62dd&labelColor=9ba0aa&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAeFBMVEVMaXGXANeYANeXANZbAJmXANeUANSQAM+XANeMAMpaAJhZAJeZANiXANaXANaOAM2WANVnAKWXANZ9ALtmAKVaAJmXANZaAJlXAJZdAJxaAJlZAJdbAJlbAJmQAM+UANKZANhhAJ+EAL+BAL9oAKZnAKVjAKF1ALNBd8J1AAAAKHRSTlMAa1hWXyteBTQJIEwRgUh2JjJon21wcBgNfmc+JlOBQjwezWF2l5dXzkW3/wAAAHpJREFUeNokhQOCA1EAxTL85hi7dXv/E5YPCYBq5DeN4pcqV1XbtW/xTVMIMAZE0cBHEaZhBmIQwCFofeprPUHqjmD/+7peztd62dWQRkvrQayXkn01f/gWp2CrxfjY7rcZ5V7DEMDQgmEozFpZqLUYDsNwOqbnMLwPAJEwCopZxKttAAAAAElFTkSuQmCC",alt:"Maintained"}))))}i.isMDXComponent=!0}}]);