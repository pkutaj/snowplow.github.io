"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[94803],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),l=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=l(a),u=r,v=d["".concat(p,".").concat(u)]||d[u]||m[u]||i;return a?n.createElement(v,o(o({ref:t},s),{},{components:a})):n.createElement(v,o({ref:t},s))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},12158:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var n=a(87462),r=(a(67294),a(3905));const i={title:"Optional timestamp argument",date:"2021-03-24",sidebar_position:-10},o=void 0,c={unversionedId:"collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument/index",id:"collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument/index",title:"Optional timestamp argument",description:"Documentation for latest release",source:"@site/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument",slug:"/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument/",permalink:"/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/optional-timestamp-argument/index.md",tags:[],version:"current",lastUpdatedAt:1661536087,formattedLastUpdatedAt:"Aug 26, 2022",sidebarPosition:-10,frontMatter:{title:"Optional timestamp argument",date:"2021-03-24",sidebar_position:-10},sidebar:"tutorialSidebar",previous:{title:"Advanced Usage",permalink:"/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/"},next:{title:"Tracker Callbacks",permalink:"/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/advanced-usage/callbacks/"}},p={},l=[],s={toc:l};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Documentation for latest release"),(0,r.kt)("p",null,"The documentation listed here is for Version 2 of the JavaScript Tracker. Version 3 is now available and upgrading is recommended."),(0,r.kt)("p",null,"-"," ",(0,r.kt)("a",{parentName:"p",href:"/docs/collecting-data/collecting-from-own-applications/javascript-trackers/"},"Documentation for Version 3")),(0,r.kt)("p",null,"-"," ",(0,r.kt)("a",{parentName:"p",href:"/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/v2-to-v3-migration-guide/"},"v2 to v3 Migration Guide")),(0,r.kt)("p",null,"Since 2.7.0 each\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track...()"),"\xa0method supports an optional timestamp as its final argument; this allows you to manually override the timestamp attached to this event. The timestamp should be in milliseconds since the Unix epoch."),(0,r.kt)("p",null,"If you do not pass this timestamp in as an argument, then the JavaScript Tracker will use the current time to be the timestamp for the event."),(0,r.kt)("p",null,"Here is an example tracking a structured event and supplying the optional timestamp argument."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'window.snowplow("trackSelfDescribingEvent", {\n    schema: "iglu:com.acme/event/jsonschema/1-0-0", \n    data: {"type": "user_action"}\n  }, \n  [], \n  1368725287000\n);\n')),(0,r.kt)("p",null,"Timestamp is counted in milliseconds since the Unix epoch \u2013 the same format as generated by\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"new Date().getTime()"),"."),(0,r.kt)("p",null,"Also you can attach a true timestamp to the event, replacing the device timestamp. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'window.snowplow("trackSelfDescribingEvent", {\n    schema: "iglu:com.acme/event/jsonschema/1-0-0", \n    data: {"type": "user_action"}\n  }, \n  [], \n  { type: \'ttm\', value: 1368725287000 }\n);\n')),(0,r.kt)("p",null,"Above will attach\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"ttm"),"\xa0(",(0,r.kt)("a",{parentName:"p",href:"/docs/understanding-your-pipeline/canonical-event/#212_Date_time_fields"},(0,r.kt)("inlineCode",{parentName:"a"},"true_tstamp")),") parameter instead of default\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"dtm"),". You can also use, plain number or\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"{ type: 'dtm', value: tstamp }"),"\xa0to send\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"`dvce_created_tstamp`"),"."))}m.isMDXComponent=!0}}]);