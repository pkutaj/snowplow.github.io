"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[62147],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,s=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),c=u(n),m=o,h=c["".concat(l,".").concat(m)]||c[m]||d[m]||s;return n?r.createElement(h,i(i({ref:t},p),{},{components:n})):r.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=n.length,i=new Array(s);i[0]=c;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:o,i[1]=a;for(var u=2;u<s;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},46404:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>u});var r=n(87462),o=(n(67294),n(3905));const s={title:"Schedule EmrEtlRunner",date:"2020-02-26",sidebar_position:30},i=void 0,a={unversionedId:"migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner/index",id:"migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner/index",title:"Schedule EmrEtlRunner",description:"1\\. Overview",source:"@site/docs/migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner/index.md",sourceDirName:"migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner",slug:"/migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner/",permalink:"/docs/migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/schedule-emretlrunner/index.md",tags:[],version:"current",lastUpdatedAt:1660570896,formattedLastUpdatedAt:"Aug 15, 2022",sidebarPosition:30,frontMatter:{title:"Schedule EmrEtlRunner",date:"2020-02-26",sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Run EmrEtlRunner",permalink:"/docs/migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/setup-emretlrunner/run-emretlrunner/"},next:{title:"Load event and entity types that you have defined",permalink:"/docs/migrated/getting-started-on-snowplow-open-source/setup-snowplow-on-aws/setup-destinations/setup-redshift/load-event-and-entity-types-that-you-have-defined/"}},l={},u=[{value:"1. Overview",id:"1-overview",level:2},{value:"2. cron",id:"2-cron",level:2},{value:"3. Jenkins",id:"3-jenkins",level:2}],p={toc:u};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"1-overview"},"1","."," Overview"),(0,o.kt)("p",null,"Once you have the EmrEtlRunner process working smoothly, you can schedule it to automate the regular load shredding and loading of data into Redshift."),(0,o.kt)("p",null,"We run our daily ETL jobs at 3 AM UTC so that we are sure that we have processed all of the events from the day before (CloudFront logs can take some time to arrive)."),(0,o.kt)("p",null,"To consider your different scheduling options in turn:"),(0,o.kt)("h2",{id:"2-cron"},"2","."," cron"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null},"Running EmrEtlRunner as ",(0,o.kt)("em",{parentName:"th"},"Ruby")," (rather than ",(0,o.kt)("em",{parentName:"th"},"JRuby")," apps) is no longer actively supported. The latest version of the EmrEtlRunner is available from our Bintray ",(0,o.kt)("a",{parentName:"th",href:"http://dl.bintray.com/snowplow/snowplow-generic/snowplow_emr_r91_stonehenge.zip"},"here"),".")))),(0,o.kt)("p",null,"The recommended way of scheduling the ETL process is as a daily cronjob."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"0 4   * * *   root    cronic /path/to/eer/snowplow-emr-etl-runner run -c config.yml\n")),(0,o.kt)("p",null,"This will run the ETL job daily at 4 AM, emailing any failures to you via cronic."),(0,o.kt)("h2",{id:"3-jenkins"},"3","."," Jenkins"),(0,o.kt)("p",null,"Some developers use the ",(0,o.kt)("a",{parentName:"p",href:"http://jenkins-ci.org/"},"Jenkins")," continuous integration server (or ",(0,o.kt)("a",{parentName:"p",href:"http://hudson-ci.org/"},"Hudson"),", which is very similar) to schedule their Hadoop and Hive jobs."),(0,o.kt)("p",null,"Describing how to do this is out of scope for this guide, but the blog post ",(0,o.kt)("a",{parentName:"p",href:"http://blog.lusis.org/blog/2012/01/23/lowtech-monitoring-with-jenkins/"},"Lowtech Monitoring with Jenkins")," is a great tutorial on using Jenkins for non-CI-related tasks, and could be easily adapted to schedule EmrEtlRunner."))}d.isMDXComponent=!0}}]);