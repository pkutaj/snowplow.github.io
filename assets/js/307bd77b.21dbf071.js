"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[73689],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=p(n),u=r,k=c["".concat(s,".").concat(u)]||c[u]||m[u]||i;return n?a.createElement(k,l(l({ref:t},d),{},{components:n})):a.createElement(k,l({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},23189:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const i={title:"Android (0.5.0)",date:"2020-03-02",sidebar_position:960},l=void 0,o={unversionedId:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0/index",id:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0/index",title:"Android (0.5.0)",description:"Tracker",source:"@site/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0",slug:"/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0/",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-5-0/index.md",tags:[],version:"current",lastUpdatedAt:1661352356,formattedLastUpdatedAt:"Aug 24, 2022",sidebarPosition:960,frontMatter:{title:"Android (0.5.0)",date:"2020-03-02",sidebar_position:960},sidebar:"tutorialSidebar",previous:{title:"Android (0.6.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-6-0/"},next:{title:"Android (0.4.0)",permalink:"/docs/collecting-data/collecting-from-own-applications/mobile-trackers/previous-versions/android-tracker/android-0-4-0/"}},s={},p=[{value:"Tracker",id:"tracker",level:2},{value:"1. Overview",id:"1-overview",level:2},{value:"1.1. Demo App",id:"11-demo-app",level:3},{value:"1.2. Client Sessions",id:"12-client-sessions",level:3},{value:"2 Initialization",id:"2-initialization",level:2},{value:"2.1 Importing the module",id:"21-importing-the-module",level:4},{value:"2.2 Creating a Tracker",id:"22-creating-a-tracker",level:4},{value:"2.2.1 Constructor Options Explained",id:"221-constructor-options-explained",level:4},{value:"Required",id:"required",level:4},{value:"Event Decoration",id:"event-decoration",level:4},{value:"Session Parameters",id:"session-parameters",level:4},{value:"Functional Settings",id:"functional-settings",level:4},{value:"2.3 Tracker Functions",id:"23-tracker-functions",level:3},{value:"2.3.1\xa0<code>getEmitter</code>",id:"231getemitter",level:4},{value:"2.3.2\xa0<code>getSubject</code>",id:"232getsubject",level:4},{value:"2.3.3\xa0<code>getNamespace</code>",id:"233getnamespace",level:4},{value:"2.3.4\xa0<code>getAppId</code>",id:"234getappid",level:4},{value:"2.3.5\xa0<code>getBase64Encoded</code>",id:"235getbase64encoded",level:4},{value:"2.3.6\xa0<code>getPlatform</code>",id:"236getplatform",level:4},{value:"2.3.7\xa0<code>getSession</code>",id:"237getsession",level:4},{value:"2.3.8\xa0<code>getDataCollection</code>",id:"238getdatacollection",level:4},{value:"2.3.9\xa0<code>getLogLevel</code>",id:"239getloglevel",level:4},{value:"2.3.10\xa0<code>getThreadCount</code>",id:"2310getthreadcount",level:4},{value:"2.3.11\xa0<code>getTrackerVersion</code>",id:"2311gettrackerversion",level:4},{value:"2.3.12 Change the tracker&#39;s platform with\xa0<code>setPlatform</code>",id:"2312-change-the-trackers-platform-withsetplatform",level:4},{value:"2.3.13 Change the tracker&#39;s subject with\xa0<code>setSubject</code>",id:"2313-change-the-trackers-subject-withsetsubject",level:4},{value:"2.3.14 Change the tracker&#39;s emitter with\xa0<code>setEmitter</code>",id:"2314-change-the-trackers-emitter-withsetemitter",level:4},{value:"2.4 Extra Tracker Functions",id:"24-extra-tracker-functions",level:3},{value:"2.4.1\xa0<code>resumeSessionChecking</code>",id:"241resumesessionchecking",level:4},{value:"2.4.2\xa0<code>pauseSessionChecking</code>",id:"242pausesessionchecking",level:4},{value:"2.4.3\xa0<code>resumeEventTracking</code>",id:"243resumeeventtracking",level:4},{value:"2.4.4\xa0<code>pauseEventTracking</code>",id:"244pauseeventtracking",level:4},{value:"3. Adding extra data: the Subject class",id:"3-adding-extra-data-the-subject-class",level:2},{value:"3.1 Subject setter functions",id:"31-subject-setter-functions",level:3},{value:"3.1.1 Set user ID with\xa0<code>setUserId</code>",id:"311-set-user-id-withsetuserid",level:4},{value:"3.1.2 Set screen resolution with\xa0<code>setScreenResolution</code>",id:"312-set-screen-resolution-withsetscreenresolution",level:4},{value:"3.1.3 Set viewport dimensions with\xa0<code>setViewport</code>",id:"313-set-viewport-dimensions-withsetviewport",level:4},{value:"3.1.4 Set color depth with\xa0<code>setColorDepth</code>",id:"314-set-color-depth-withsetcolordepth",level:4},{value:"3.1.5 Set timezone with\xa0<code>setTimezone</code>",id:"315-set-timezone-withsettimezone",level:4},{value:"3.1.6 Set the language with\xa0<code>setLanguage</code>",id:"316-set-the-language-withsetlanguage",level:4},{value:"3.1.7\xa0<code>setIpAddress</code>",id:"317setipaddress",level:3},{value:"3.1.8\xa0<code>setUseragent</code>",id:"318setuseragent",level:3},{value:"3.1.9\xa0<code>setNetworkUserId</code>",id:"319setnetworkuserid",level:3},{value:"3.1.10\xa0<code>setDomainUserId</code>",id:"3110setdomainuserid",level:3},{value:"3.1.11\xa0<code>setAdvertisingID</code>",id:"3111setadvertisingid",level:3},{value:"3.1.12\xa0<code>setCarrier</code>",id:"3112setcarrier",level:3},{value:"3.1.13\xa0<code>setLocation</code>",id:"3113setlocation",level:3},{value:"3.1.14\xa0<code>setDefaultScreenResolution</code>",id:"3114setdefaultscreenresolution",level:3},{value:"3.2 Additional contexts sent by this tracker",id:"32-additional-contexts-sent-by-this-tracker",level:3},{value:"3.2.1\xa0<code>mobile_context</code>",id:"321mobile_context",level:3},{value:"3.2.2\xa0<code>geolocation_context</code>",id:"322geolocation_context",level:3},{value:"3.3 Getting the Android Idfa Code",id:"33-getting-the-android-idfa-code",level:2},{value:"4. Tracking specific events",id:"4-tracking-specific-events",level:2},{value:"4.1 Common",id:"41-common",level:4},{value:"4.1.1 SelfDescribingJson",id:"411-selfdescribingjson",level:4},{value:"4.1.2 Custom contexts",id:"412-custom-contexts",level:4},{value:"4.1.3 Timestamp override",id:"413-timestamp-override",level:4},{value:"4.2 Track screen views with\xa0<code>track(ScreenView event)</code>",id:"42-track-screen-views-withtrackscreenview-event",level:4},{value:"4.3 Track pageviews with\xa0<code>track(PageView event)</code>",id:"43-track-pageviews-withtrackpageview-event",level:4},{value:"4.4 Track ecommerce transactions with\xa0<code>track(EcommerceTransaction event)</code>",id:"44-track-ecommerce-transactions-withtrackecommercetransaction-event",level:4},{value:"4.4.1\xa0<code>EcommerceTransactionItem</code>",id:"441ecommercetransactionitem",level:4},{value:"4.5 Track structured events with\xa0<code>track(Structured event)</code>",id:"45-track-structured-events-withtrackstructured-event",level:4},{value:"4.6 Track unstructured events with\xa0<code>track(Unstructured event)</code>",id:"46-track-unstructured-events-withtrackunstructured-event",level:4},{value:"4.7 Track timing events with\xa0<code>track(TimingWithCategory event)</code>",id:"47-track-timing-events-withtracktimingwithcategory-event",level:4},{value:"5. Sending event:\xa0<code>Emitter</code>",id:"5-sending-eventemitter",level:2},{value:"5.1 Emitter Constructor Explained",id:"51-emitter-constructor-explained",level:3},{value:"Required",id:"required-1",level:4},{value:"Sending",id:"sending",level:4},{value:"Functional Settings",id:"functional-settings-1",level:4},{value:"5.2 How the Emitter works",id:"52-how-the-emitter-works",level:3},{value:"5.3 Using a buffer",id:"53-using-a-buffer",level:3},{value:"5.4 Choosing the HTTP method",id:"54-choosing-the-http-method",level:3},{value:"5.5 Emitter callback",id:"55-emitter-callback",level:3},{value:"5.6 Emitter Flush",id:"56-emitter-flush",level:3},{value:"6. Logging",id:"6-logging",level:2},{value:"Integration",id:"integration",level:2},{value:"1. Classic Tracker",id:"1-classic-tracker",level:2},{value:"2. RxJava tracker",id:"2-rxjava-tracker",level:2},{value:"3. Tracking Events",id:"3-tracking-events",level:2},{value:"4. Application Focus",id:"4-application-focus",level:2},{value:"Testing locally",id:"testing-locally",level:2},{value:"1. Testing Locally",id:"1-testing-locally",level:2},{value:"2. Common Issues",id:"2-common-issues",level:2},{value:"2.1 Port Conflicts",id:"21-port-conflicts",level:3},{value:"2.2 Sending failures",id:"22-sending-failures",level:3}],d={toc:p};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"tracker"},"Tracker"),(0,r.kt)("h2",{id:"1-overview"},"1","."," Overview"),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow-android-tracker"},"Snowplow Android Tracker"),"\xa0allows you to track Snowplow events from your Android applications and games. It supports applications using the Android SDK 11 and above."),(0,r.kt)("p",null,"The tracker should be straightforward to use if you are comfortable with Java development; its API is modelled after Snowplow's\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Python-Tracker"},"Python Tracker"),"\xa0so any prior experience with that tracker is helpful but not necessary. If you haven't already, have a look at the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-Setup"},"Android Tracker Setup"),"\xa0guide before continuing."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": The Tracker should only ever be setup as a singleton object. Due to the way it stores and reads information and the creation of persistent background services, creating more than one Tracker can cause a plethora of race conditions."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Double (or more) sending of events."),(0,r.kt)("li",{parentName:"ol"},"Constant session expiration (as old Tracker services continually fail to see any new events being created).")),(0,r.kt)("h3",{id:"11-demo-app"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#11-demo-app"}),"1.1. Demo App"),(0,r.kt)("p",null,"If you would like to see the Tracker in action you can download our demonstration android app\xa0",(0,r.kt)("a",{parentName:"p",href:"http://dl.bintray.com/snowplow/snowplow-generic/snowplow-demo-app-release-0.2.1.apk"},"here"),". You will need to enable installation of applications from\xa0",(0,r.kt)("a",{parentName:"p",href:"http://developer.android.com/distribute/tools/open-distribution.html"},"unknown sources"),"."),(0,r.kt)("p",null,"Within the app you will simply need to supply an endpoint and hit start! The application will then send all types of events available to the tracker to this endpoint."),(0,r.kt)("p",null,"For a walkthrough go\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-app-walkthrough"},"here"),"."),(0,r.kt)("h3",{id:"12-client-sessions"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#12-client-sessions"}),"1.2. Client Sessions"),(0,r.kt)("p",null,"To activate client sessionization please enter the following builder arguments to your tracker:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Tracker tracker = new Tracker.TrackerBuilder( ... )\n    .sessionContext(true)     // To use the session context\n    .sessionCheckInterval(10) // Checks every 10 seconds (default is 15)\n    .foregroundTimeout(300)   // Timeout after 5 minutes (default is 10)\n    .backgroundTimeout(120)   // Timeout after 2 minutes (default is 5)\n    .build();\n")),(0,r.kt)("p",null,"Once sessionization has been turned on several things will begin to happen:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A client","_","session context will be appended to each event that is sent"),(0,r.kt)("li",{parentName:"ul"},"A polling check will be started to check whether or not the session has timed out",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"You can configure how often to check with the sessionCheckInterval method"),(0,r.kt)("li",{parentName:"ul"},"If your app is in the foreground and no events have been sent for the foregroundTimeout period, the session will be updated and a new session started"),(0,r.kt)("li",{parentName:"ul"},"There is a separate timeout if your application is detected to be in the background"))),(0,r.kt)("li",{parentName:"ul"},"Each time the session information is updated it is stored locally in a private file which should persist for the life of the application"),(0,r.kt)("li",{parentName:"ul"},"Each time an event is sent from the Tracker, both timeouts for the session are reset"),(0,r.kt)("li",{parentName:"ul"},"Session information will survive for the life of the application, i.e. until it is uninstalled from the Android device.")),(0,r.kt)("p",null,"An important note here is that the tracker does not automatically detect if the application is in the background or not from a library standpoint. You will have to update your applications onPause() and onResume() functions to manually flag this change. The following samples can be copied into an application activity to set the background state of the application for the session checker:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"@Override\nprotected void onPause() {\n    super.onPause();\n    tracker.getSession().setIsBackground(true);\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    tracker.getSession().setIsBackground(false);\n}\n")),(0,r.kt)("h2",{id:"2-initialization"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#2-initialization"}),"2 Initialization"),(0,r.kt)("p",null,"Assuming you have completed the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-Setup"},"Android Tracker Setup"),"\xa0for your project, you are now ready to initialize the Android Tracker."),(0,r.kt)("h4",{id:"21-importing-the-module"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#21-importing-the-module"}),"2.1 Importing the module"),(0,r.kt)("p",null,"Import the Android Tracker's classes into your Android code like so:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"import com.snowplowanalytics.snowplow.tracker.*;\n")),(0,r.kt)("p",null,"That's it - you are now ready to initialize a Tracker instance."),(0,r.kt)("h4",{id:"22-creating-a-tracker"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#22-creating-a-tracker"}),"2.2 Creating a Tracker"),(0,r.kt)("p",null,"To instantiate a tracker in your code (can be global or local to the process being tracked) simply instantiate the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Tracker"),"\xa0interface with one of the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Create an Emitter\nEmitter e1 = new Emitter\n        .EmitterBuilder("com.collector.acme", getContext())\n        .build();\n\n// Make and return the Tracker object\nTracker t1 = new Tracker\n        .TrackerBuilder(e1, "myNamespace", "myAppId", getContext())\n        .build();\n')),(0,r.kt)("p",null,"This is the most basic Tracker creation possible. Note that\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"getContext()"),"\xa0is an Android global function. You can expand on this creation with the following builder options:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Create an Emitter\nEmitter e2 = new Emitter\n        .EmitterBuilder("com.collector.acme", getContext())\n        .build();\n\n// Create a Tracker with all options\nTracker t2 = new Tracker\n        .TrackerBuilder(e2, "myNamespace", "myAppId", getContext())\n        .base64(false) // Optional - defines if we use base64 encoding\n        .platform(DevicePlatforms.Mobile) // Optional - defines what platform the event will report to be on\n        .subject(new Subject.SubjectBuilder().build()) // Optional - a subject which contains values appended to every event\n        .build();\n')),(0,r.kt)("p",null,"As you can see there is a fair amount of modularity to the Trackers creation."),(0,r.kt)("p",null,"The below are required arguments for the 'TrackerBuilder({{ ... }})' segment of the constructor:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument Name")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"emitter")),(0,r.kt)("td",{parentName:"tr",align:null},"The emitter which sends the events"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"namespace")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the tracker instance"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"appId")),(0,r.kt)("td",{parentName:"tr",align:null},"The application ID"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"The application context"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,r.kt)("p",null,"We also have several extra builder options:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Function")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Options")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Default")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"subject")),(0,r.kt)("td",{parentName:"tr",align:null},"The subject that defines a user"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Subject, null")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"platform")),(0,r.kt)("td",{parentName:"tr",align:null},"The platform that the Tracker is running on"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DevicePlatforms.{{ Enum Option }}")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DevicePlatforms.Mobile"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"base64")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable\xa0",(0,r.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/Base64"},"Base64 encoding")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"True, False")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"True"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"level")),(0,r.kt)("td",{parentName:"tr",align:null},"The level of logging to do"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"LogLevel.{{ Enum Option }}")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"LogLevel.OFF"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sessionContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable sessionization"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"True, False")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"False"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"foregroundTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"The session foreground timeout"),(0,r.kt)("td",{parentName:"tr",align:null},"Any valid\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"Long")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"600"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"backgroundTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"The session background timeout"),(0,r.kt)("td",{parentName:"tr",align:null},"Any valid\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"Long")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"300"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sessionCheckInterval")),(0,r.kt)("td",{parentName:"tr",align:null},"The session check interval"),(0,r.kt)("td",{parentName:"tr",align:null},"Any valid\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"Long")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"15"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"threadCount")),(0,r.kt)("td",{parentName:"tr",align:null},"The amount of threads to use"),(0,r.kt)("td",{parentName:"tr",align:null},"Any valid\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"Integer")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"10"),"\xa0threads")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timeUnit")),(0,r.kt)("td",{parentName:"tr",align:null},"The TimeUnit that time measurements are in"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TimeUnit.{{ Enum Option }}")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TimeUnit.SECONDS"))))),(0,r.kt)("h4",{id:"221-constructor-options-explained"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#221-constructor-options-explained"}),"2.2.1 Constructor Options Explained"),(0,r.kt)("h4",{id:"required"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#required"}),"Required"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"emitter"),"\xa0: The pre created Emitter object which is required for all sending and storing of events by the Tracker. See\xa0",(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#emitter"},"Emitters"),"\xa0for information."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"namespace"),"\xa0: The name of this Tracker instance to include with events sent to the collector."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"appId"),"\xa0: The ID of this application to include with events sent to the collector."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"context"),"\xa0: The Android Application context object.")),(0,r.kt)("h4",{id:"event-decoration"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#event-decoration"}),"Event Decoration"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"subject"),"\xa0: An optional Subject object which will add extra decoration to events sent from the Tracker."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"platform"),"\xa0: The platform that the Tracker is running on (defaults to\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"MOBILE"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"base64"),"\xa0: Whether to encode\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"unstructured"),"\xa0events and\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"custom contexts"),"\xa0in base64 formatting.")),(0,r.kt)("h4",{id:"session-parameters"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#session-parameters"}),"Session Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sessionContext"),"\xa0: Needs to be set to\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"True"),"\xa0if you wish to activate any of the Trackers Sessionization functionality."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"foregroundTimeout"),"\xa0: The amount of time that needs to elapse without any events being tracked before the session is incremented (while application is in the foreground)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"backgroundTimeout"),"\xa0: The amount of time that needs to elapse without any events being tracked before the session is incremented (while application is in the background)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sessionCheckInterval"),"\xa0: How often the Tracker queries the session object to see if it needs to be incremented. It is currently set to 15 seconds."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timeUnit"),"\xa0: The unit of time that the previous three options are computed on. By default it is in\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"SECONDS"),", as such to set a\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"sessionCheckInterval"),"\xa0of 2 minutes you would need to put in\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"120"),"\xa0for that option. Or you could change the\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"timeUnit"),"\xa0to be\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"MINUTES"),"\xa0and put a\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"2"),"\xa0instead.")),(0,r.kt)("h4",{id:"functional-settings"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#functional-settings"}),"Functional Settings"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"threadCount"),"\xa0: The amount of threads that the Tracker will have available to it to process information in. By default we use 10 Threads, however it is recommended to figure out the optimal amount of Threads on a device by device basis as more Threads will have a direct correlation with performance."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"level"),"\xa0: The amount of logging done by the Tracker.")),(0,r.kt)("h3",{id:"23-tracker-functions"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#23-tracker-functions"}),"2.3 Tracker Functions"),(0,r.kt)("h4",{id:"231getemitter"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#231-getemitter"}),"2.3.1\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getEmitter")),(0,r.kt)("p",null,"Returns the emitter to which the tracker will send events. See\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#emitter"},"Emitters"),"\xa0for more on emitter configuration."),(0,r.kt)("h4",{id:"232getsubject"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#232-getsubject"}),"2.3.2\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getSubject")),(0,r.kt)("p",null,"Returns the user which the Tracker will track. This must be an instance of the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#subject"},"Subject"),"\xa0class. You don't need to set this during Tracker construction; you can use the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Tracker.setSubject"),"\xa0method afterwards. In fact, you don't need to create a subject at all. If you don't, though, your events won't contain user-specific data such as timezone and language."),(0,r.kt)("h4",{id:"233getnamespace"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#233-getnamespace"}),"2.3.3\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getNamespace")),(0,r.kt)("p",null,"Returns the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"namespace"),"\xa0argument attached to every event fired by the new tracker. This allows you to later identify which tracker fired which event if you have multiple trackers running."),(0,r.kt)("h4",{id:"234getappid"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#234-getappid"}),"2.3.4\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getAppId")),(0,r.kt)("p",null,"Returns the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"appId"),"\xa0argument that you passed in Tracker construction."),(0,r.kt)("h4",{id:"235getbase64encoded"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#235-getbase64encoded"}),"2.3.5\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getBase64Encoded")),(0,r.kt)("p",null,"By default, unstructured events and custom contexts are encoded into Base64 to ensure that no data is lost or corrupted. You can turn encoding on or off using the Boolean\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"base64Encoded"),"\xa0builder option."),(0,r.kt)("h4",{id:"236getplatform"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#236-getplatform"}),"2.3.6\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getPlatform")),(0,r.kt)("p",null,"Returns the 'platform' that was set in Tracker construction, the builder allows you to pick from a list of allowed platforms which define what type of device/service the event is being sent from."),(0,r.kt)("h4",{id:"237getsession"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#237-getsession"}),"2.3.7\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getSession")),(0,r.kt)("p",null,"Returns the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"session"),"\xa0object created for the Tracker (if\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"sessionContext"),"\xa0was enabled)."),(0,r.kt)("h4",{id:"238getdatacollection"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#238-getdatacollection"}),"2.3.8\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getDataCollection")),(0,r.kt)("p",null,"Returns the state of data collection in the Tracker; either\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"True"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"False"),"."),(0,r.kt)("h4",{id:"239getloglevel"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#239-getloglevel"}),"2.3.9\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getLogLevel")),(0,r.kt)("p",null,"Returns the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"LogLevel"),"\xa0being used by the Tracker."),(0,r.kt)("h4",{id:"2310getthreadcount"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#2310-getthreadcount"}),"2.3.10\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getThreadCount")),(0,r.kt)("p",null,"Returns the amount of threads that the tracker is consuming."),(0,r.kt)("h4",{id:"2311gettrackerversion"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#2311-gettrackerversion"}),"2.3.11\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"getTrackerVersion")),(0,r.kt)("p",null,"Returns this Trackers version as a String."),(0,r.kt)("h4",{id:"2312-change-the-trackers-platform-withsetplatform"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#2312-change-the-trackers-platform-with-setplatform"}),"2.3.12 Change the tracker's platform with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setPlatform")),(0,r.kt)("p",null,"You can change the platform by calling:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.setPlatform(DevicePlatforms.Mobile);\n// OR\ntracker.setPlatform(DevicePlatforms.Desktop);\n// OR\ntracker.setPlatform(DevicePlatforms.{{ Valid Enum Option }})\n")),(0,r.kt)("p",null,"There are several different DevicePlatforms options to choose from."),(0,r.kt)("p",null,"For a full list of supported platforms, please see the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Snowplow-Tracker-Protocol"},"Snowplow Tracker Protocol"),"."),(0,r.kt)("h4",{id:"2313-change-the-trackers-subject-withsetsubject"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#2313-change-the-trackers-subject-with-setsubject"}),"2.3.13 Change the tracker's subject with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setSubject")),(0,r.kt)("p",null,"You can change the subject by creating a new\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Subject"),"\xa0object and then calling:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.setSubject(newSubject);\n")),(0,r.kt)("p",null,"See\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#add-data-subject"},"Adding extra data: the Subject class"),"\xa0for more information on the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Subject"),"."),(0,r.kt)("h4",{id:"2314-change-the-trackers-emitter-withsetemitter"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#2314-change-the-trackers-emitter-with-setemitter"}),"2.3.14 Change the tracker's emitter with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setEmitter")),(0,r.kt)("p",null,"You can change the emitter by creating a new\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Emitter"),"\xa0object and then calling:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.setEmitter(newEmitter);\n")),(0,r.kt)("h3",{id:"24-extra-tracker-functions"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#24-extra-tracker-functions"}),"2.4 Extra Tracker Functions"),(0,r.kt)("p",null,"These are extra functions for controlling the Tracker. The Tracker is designed to be run without ever using any of these functions however they are there for any special use cases where you need to shutdown or otherwise control the Tracker."),(0,r.kt)("p",null,"For example if you wish to artificially extend the time a session is active you can simply\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"pauseSessionChecking"),"\xa0for an undetermined amount of time. To resume automatic session checking and updating simply run\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"resumeSessionChecking"),"."),(0,r.kt)("h4",{id:"241resumesessionchecking"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#241-resumesessionchecking"}),"2.4.1\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"resumeSessionChecking")),(0,r.kt)("p",null,"This function resumes a polling session checker service. This will query the Trackers session object at pre-configured intervals to see whether or not the session needs to be updated if it has not been accessed within a certain amount of time."),(0,r.kt)("p",null,"This function is started if the argument to\xa0",(0,r.kt)("inlineCode",{parentName:"p"},".sessionContext"),"\xa0is\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"True"),", and will only ever be able to run if this argument is\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"True"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.resumeSessionChecking();\n")),(0,r.kt)("h4",{id:"242pausesessionchecking"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#242-pausesessionchecking"}),"2.4.2\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"pauseSessionChecking")),(0,r.kt)("p",null,"This functions stops the session checker from running. Essentially preventing the current session from ever timing out. Please note that if the application is restarted this paused state will not persist and checking will begin again."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.pauseSessionChecking();\n")),(0,r.kt)("h4",{id:"243resumeeventtracking"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#243-resumeeventtracking"}),"2.4.3\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"resumeEventTracking")),(0,r.kt)("p",null,"If event tracking has been switched off this will reinstate the Tracker back to full operation. This means that:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Events will start being stored in the database again."),(0,r.kt)("li",{parentName:"ul"},"Events will be sent to the collector."),(0,r.kt)("li",{parentName:"ul"},"Session checking will begin to occur again (if enabled)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.resumeEventTracking();\n")),(0,r.kt)("h4",{id:"244pauseeventtracking"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#244-pauseeventtracking"}),"2.4.4\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"pauseEventTracking")),(0,r.kt)("p",null,"If event tracking is switched on (it is by default), then the Tracker will have all event tracking paused. What this means is that:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"No events will be stored in the database or tracked at all."),(0,r.kt)("li",{parentName:"ul"},"No events will be sent to the collector."),(0,r.kt)("li",{parentName:"ul"},"No session checks will occur.")),(0,r.kt)("p",null,"Essentially the entire Tracker will halt operation until event tracking is turned back on."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.pauseEventTracking();\n")),(0,r.kt)("h2",{id:"3-adding-extra-data-the-subject-class"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#3-adding-extra-data-the-subject-class"}),"3","."," Adding extra data: the Subject class"),(0,r.kt)("p",null,"You may have additional information about your application's environment, current user and so on, which you want to send to Snowplow with each event. The Subject appended to the Tracker allows you to easily add information to each event that is sent from the Tracker."),(0,r.kt)("h3",{id:"31-subject-setter-functions"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#31-subject-setter-functions"}),"3.1 Subject setter functions"),(0,r.kt)("p",null,"The Subject class has a set of\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"set...()"),"\xa0methods to attach extra data relating to the user to all tracked events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-user-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-screen-resolution"},(0,r.kt)("inlineCode",{parentName:"a"},"setScreenResolution"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-viewport-dimensions"},(0,r.kt)("inlineCode",{parentName:"a"},"setViewport"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-color-depth"},(0,r.kt)("inlineCode",{parentName:"a"},"setColorDepth"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-timezone"},(0,r.kt)("inlineCode",{parentName:"a"},"setTimezone"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-lang"},(0,r.kt)("inlineCode",{parentName:"a"},"setLanguage"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-ip-address"},(0,r.kt)("inlineCode",{parentName:"a"},"setIpAddress"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-user-agent"},(0,r.kt)("inlineCode",{parentName:"a"},"setUseragent"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-network-user-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setNetworkUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-domain-user-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setDomainUserId"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-advertising-id"},(0,r.kt)("inlineCode",{parentName:"a"},"setAdvertisingID"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-carrier"},(0,r.kt)("inlineCode",{parentName:"a"},"setCarrier"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-location"},(0,r.kt)("inlineCode",{parentName:"a"},"setLocation"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#set-default-screen-res"},(0,r.kt)("inlineCode",{parentName:"a"},"setDefaultScreenResolution")))),(0,r.kt)("p",null,"Here are some examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Subject s1 = new Subject.SubjectBuilder().build();\n\ns1.setUserID("Kevin Gleason");\ns1.setLanguage("en-gb");\ns1.setScreenResolution(1920, 1080);\n')),(0,r.kt)("p",null,"After that, you can add your Subject to your Tracker like so:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Tracker t1 = new Tracker\n        .TrackerBuilder(emitter, "myNamespace", "myAppId")\n        .subject(s1) // Include your subject here!\n        .build();\n\n// Or you can set the subject after creation\n// This will also override any currently set Subject object\n\nt1.setSubject(s1);\n')),(0,r.kt)("p",null,"To update the Trackers subject without changing the subject attached already you can use the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'t1.getSubject().setUserId("Gleason Kevin"); // Because object references are passed by value in Java\n')),(0,r.kt)("h4",{id:"311-set-user-id-withsetuserid"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#311-set-user-id-with-setuserid"}),"3.1.1 Set user ID with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setUserId")),(0,r.kt)("p",null,"You can set the user ID to any string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setUserId(String userId)\n")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setUserId("alexd");\n')),(0,r.kt)("h4",{id:"312-set-screen-resolution-withsetscreenresolution"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#312-set-screen-resolution-with-setscreenresolution"}),"3.1.2 Set screen resolution with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setScreenResolution")),(0,r.kt)("p",null,"If your Java code has access to the device's screen resolution, then you can pass this in to Snowplow too:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setScreenResolution(int width, int height)\n")),(0,r.kt)("p",null,"Both numbers should be positive integers; note the order is width followed by height. Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setScreenResolution(1366, 768);\n")),(0,r.kt)("h4",{id:"313-set-viewport-dimensions-withsetviewport"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#313-set-viewport-dimensions-with-setviewport"}),"3.1.3 Set viewport dimensions with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setViewport")),(0,r.kt)("p",null,"If your Java code has access to the viewport dimensions, then you can pass this in to Snowplow too:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setViewport(int width, int height)\n")),(0,r.kt)("p",null,"Both numbers should be positive integers; note the order is width followed by height. Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setViewport(300, 200);\n")),(0,r.kt)("h4",{id:"314-set-color-depth-withsetcolordepth"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#314-set-color-depth-with-setcolordepth"}),"3.1.4 Set color depth with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setColorDepth")),(0,r.kt)("p",null,"If your Java code has access to the bit depth of the device's color palette for displaying images, then you can pass this in to Snowplow too:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setColorDepth(int depth)\n")),(0,r.kt)("p",null,"The number should be a positive integer, measured in bits per pixel. Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setColorDepth(32);\n")),(0,r.kt)("h4",{id:"315-set-timezone-withsettimezone"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#315-set-timezone-with-settimezone"}),"3.1.5 Set timezone with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setTimezone")),(0,r.kt)("p",null,"This method lets you pass a user's timezone in to Snowplow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setTimezone(String timezone)\n")),(0,r.kt)("p",null,"The timezone should be a string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setTimezone("Europe/London");\n')),(0,r.kt)("h4",{id:"316-set-the-language-withsetlanguage"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#316-set-the-language-with-setlanguage"}),"3.1.6 Set the language with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"setLanguage")),(0,r.kt)("p",null,"This method lets you pass a user's language in to Snowplow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setLanguage(String language)\n")),(0,r.kt)("p",null,"The language should be a string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setLanguage("en");\n')),(0,r.kt)("h3",{id:"317setipaddress"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#317-setipaddress"}),"3.1.7\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setIpAddress")),(0,r.kt)("p",null,"This method lets you pass a user's IP Address in to Snowplow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setIpAddress(String ipAddress)\n")),(0,r.kt)("p",null,"The IP address should be a string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setIpAddress("127.0.0.1");\n')),(0,r.kt)("h3",{id:"318setuseragent"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#318-setuseragent"}),"3.1.8\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setUseragent")),(0,r.kt)("p",null,"This method lets you pass a useragent in to Snowplow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setUseragent(String useragent)\n")),(0,r.kt)("p",null,"The useragent should be a string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setUseragent("Agent Smith");\n')),(0,r.kt)("h3",{id:"319setnetworkuserid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#319-setnetworkuserid"}),"3.1.9\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setNetworkUserId")),(0,r.kt)("p",null,"This method lets you pass a Network User ID in to Snowplow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setNetworkUserId(String networkUserId)\n")),(0,r.kt)("p",null,"The network user id should be a string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setNetworkUserId("network-id");\n')),(0,r.kt)("h3",{id:"3110setdomainuserid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#3110-setdomainuserid"}),"3.1.10\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setDomainUserId")),(0,r.kt)("p",null,"This method lets you pass a Domain User ID in to Snowplow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setDomainUserId(String domainUserId)\n")),(0,r.kt)("p",null,"The domain user id should be a string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'subj.setDomainUserId("domain-id");\n')),(0,r.kt)("h3",{id:"3111setadvertisingid"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#3111-setadvertisingid"}),"3.1.11\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setAdvertisingID")),(0,r.kt)("p",null,"This method lets you set the Advertising ID"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setAdvertisingID(Context context)\n")),(0,r.kt)("p",null,"You will need to pass in the application's context as a parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setAdvertisingID(context);\n")),(0,r.kt)("h3",{id:"3112setcarrier"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#3112-setcarrier"}),"3.1.12\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setCarrier")),(0,r.kt)("p",null,"This method lets you set the mobile carrier."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setCarrier(Context context)\n")),(0,r.kt)("p",null,"You will need to pass in the application's context as a parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setCarrier(context);\n")),(0,r.kt)("h3",{id:"3113setlocation"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#3113-setlocation"}),"3.1.13\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setLocation")),(0,r.kt)("p",null,"This method lets you set the mobile location."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setLocation(Context context)\n")),(0,r.kt)("p",null,"You will need to pass in the application's context as a parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setLocation(context);\n")),(0,r.kt)("h3",{id:"3114setdefaultscreenresolution"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#3114-setdefaultscreenresolution"}),"3.1.14\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"setDefaultScreenResolution")),(0,r.kt)("p",null,"This method lets you set the default screen resolution using the application context."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setDefaultScreenResolution(Context context)\n")),(0,r.kt)("p",null,"You will need to pass in the application's context as a parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"subj.setDefaultScreenResolution(context);\n")),(0,r.kt)("h3",{id:"32-additional-contexts-sent-by-this-tracker"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#32-additional-contexts-sent-by-this-tracker"}),"3.2 Additional contexts sent by this tracker"),(0,r.kt)("p",null,"This Tracker not only appends the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#subject-setters"},"generic"),"\xa0subject information to each event; it will also attempt to gather more specific information about the mobile it is hosted on."),(0,r.kt)("h3",{id:"321mobile_context"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#321-mobile_context"}),"3.2.1\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"mobile_context")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"mobile_context"),"\xa0is comprised of the following fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"androidIdfa"),"\xa0-> The host phones unique AdvertisingId"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"carrier"),"\xa0-> The host phones phones network carrier"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deviceModel"),"\xa0-> The host phones phones model"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deviceManufacturer"),"\xa0-> The host phones phones manufacturer"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"osVersion"),"\xa0-> The host phones phones operating system version"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"osType"),"\xa0-> The host phones phones operating system type")),(0,r.kt)("p",null,"To ensure you gather all of this information you will need to create your Subject with the following argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Subject subject = new Subject.SubjectBuilder().context(getContext()).build();\n")),(0,r.kt)("p",null,"Note that\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"getContext()"),"\xa0is an Android global function. It is needed to grab information that is related to the client specifically."),(0,r.kt)("h3",{id:"322geolocation_context"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#322-geolocation_context"}),"3.2.2\xa0",(0,r.kt)("inlineCode",{parentName:"h3"},"geolocation_context")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"geolocation_context"),"\xa0is comprised of the following fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"latitude"),"\xa0-> The host phones latitude measure"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"longitude"),"\xa0-> The host phones longitude measure"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"altitude"),"\xa0-> The host phones altitude measure"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"latitudeLongitudeAccuracy"),"\xa0-> The host phones position accuracy"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"speed"),"\xa0-> The host phones speed"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"bearing"),"\xa0-> The host phones current bearing")),(0,r.kt)("p",null,"To ensure you gather all of this information you will need to create your Subject with the following argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Subject subject = new Subject.SubjectBuilder().context(getContext()).build();\n")),(0,r.kt)("p",null,"Note that\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"getContext()"),"\xa0is an Android global function."),(0,r.kt)("p",null,"You will also need to include the following in your\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"AndroidManifest.xml"),"\xa0file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />\n<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />\n')),(0,r.kt)("p",null,"This will make the functions for checking these metrics available for the tracker to use."),(0,r.kt)("h2",{id:"33-getting-the-android-idfa-code"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#33-getting-the-android-idfa-code"}),"3.3 Getting the Android Idfa Code"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": For this code to be available you must include the following library dependency:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"`","compile 'com.google.android.gms:play-services-analytics:7.5.0'")),(0,r.kt)("p",null,"The Android Idfa code is a unique identifier for google advertising. You can get this code using this library in two ways:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Use the utility function available:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"import com.snowplowanalytics.snowplow.tracker.utils.Util;\n\n// Context is your application context object\nString androidIdfa = Util.getAdvertisingId(context);\n")),(0,r.kt)("p",null,"Please note that this function will only work when run from a different thread than the UI/Main thread of your application."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Get it from the Subject class:")),(0,r.kt)("p",null,"If you created a Tracker Subject with your application's context then the ID will have already been populated."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'String androidIdfa = tracker.getSubject().getSubjectMobile().get("androidIdfa");\n')),(0,r.kt)("h2",{id:"4-tracking-specific-events"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#4-tracking-specific-events"}),"4","."," Tracking specific events"),(0,r.kt)("p",null,"Snowplow has been built to enable you to track a wide range of events that occur when users interact with your websites and apps. We are constantly growing the range of functions available in order to capture that data more richly."),(0,r.kt)("p",null,"Tracking methods supported by the Android Tracker at a glance:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Function")),(0,r.kt)("th",{parentName:"tr",align:null},"*",(0,r.kt)("em",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#screen-view"},(0,r.kt)("inlineCode",{parentName:"a"},"track(ScreenView event)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track the user viewing a screen within the application")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#page-view"},(0,r.kt)("inlineCode",{parentName:"a"},"track(PageView event)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track and record views of web pages")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#ecommerce-transaction"},(0,r.kt)("inlineCode",{parentName:"a"},"track(EcommerceTransaction event)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track an ecommerce transaction and its items")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#struct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"track(Structured event)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom structured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#unstruct-event"},(0,r.kt)("inlineCode",{parentName:"a"},"track(Unstructured event)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Snowplow custom unstructured event")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#timing"},(0,r.kt)("inlineCode",{parentName:"a"},"track(TimingWithCategory event)"))),(0,r.kt)("td",{parentName:"tr",align:null},"Track a Timing with Category event")))),(0,r.kt)("h4",{id:"41-common"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#41-common"}),"4.1 Common"),(0,r.kt)("p",null,"All events are tracked with specific methods on the tracker instance, of the form\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(XXX)"),", where\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"XXX"),"\xa0is the type of event to track."),(0,r.kt)("h4",{id:"411-selfdescribingjson"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#411-selfdescribingjson"}),"4.1.1 SelfDescribingJson"),(0,r.kt)("p",null,"A\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SelfDescribingJson"),"\xa0is used as a wrapper around either a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"TrackerPayload"),", another\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SelfDescribingJson"),"\xa0or a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Map"),"\xa0object. After creating the object you want to wrap, you can create a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SelfDescribingJson"),"\xa0using the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// This is the Map we have created\nMap<String, String> eventData = new HashMap<>();\neventData.put("Event", "Data")\n\n// We wrap that map in a SelfDescribingJson before sending it\nSelfDescribingJson json = new SelfDescribingJson("iglu:com.acme/example/jsonschema/1-0-0", eventData);\n')),(0,r.kt)("p",null,"You can create a SelfDescribingJson with the following arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"schema")),(0,r.kt)("td",{parentName:"tr",align:null},"JsonSchema that describes the data"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:null},"Data that will be validated by the schema"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Map<String, String>, Map<String, Object>, TrackerPayload, SelfDescribingJson"))))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SelfDescribingJson"),"\xa0is used for recording\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#custom-contexts"},"custom contexts"),"\xa0and\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#unstruct-event"},"unstructured events"),"."),(0,r.kt)("h4",{id:"412-custom-contexts"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#412-custom-contexts"}),"4.1.2 Custom contexts"),(0,r.kt)("p",null,"In short, custom contexts let you add additional information about the circumstances surrounding an event in the form of a Map object. Each tracking method accepts an additional optional contexts parameter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"t1.track(PageView.builder().( ... ).customContext(List<SelfDescribingJson> context).build());\n")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"customContext"),"\xa0argument should consist of a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"List"),"\xa0of\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SelfDescribingJson"),"\xa0representing an array of one or more contexts. The format of each individual context element is the same as for an\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#unstruct-event"},"unstructured event"),"."),(0,r.kt)("p",null,"If a visitor arrives on a page advertising a movie, the context dictionary might look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "schema": "iglu:com.acme_company/movie_poster/jsonschema/2.1.1",\n  "data": {\n    "movie_name": "Solaris",\n    "poster_country": "JP",\n    "poster_year": "1978"\n  }\n}\n')),(0,r.kt)("p",null,"To construct this as a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"SelfDescribingJson"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Create a Map of the data you want to include...\nMap<String, String> dataMap = new HashMap<>();\ndataMap.put("movie_name", "solaris");\ndataMap.put("poster_country", "JP");\ndataMap.put("poster_year", "1978");\n\n// Now create your SelfDescribingJson object...\nSelfDescribingJson context1 = new SelfDescribingJson("iglu:com.acme/movie_poster/jsonschema/2.1.1", dataMap);\n\n// Now add this JSON into a list of SelfDescribingJsons...\nList<SelfDescribingJson> contexts = new ArrayList<>();\ncontexts.add(context1);\n')),(0,r.kt)("p",null,"Note that even if there is only one custom context attached to the event, it still needs to be placed in an array."),(0,r.kt)("h4",{id:"413-timestamp-override"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#413-timestamp-override"}),"4.1.3 Timestamp override"),(0,r.kt)("p",null,"In all the trackers, we offer a way to override the timestamp if you want the event to show as tracked at a specific time. If you don't, we create a timestamp while the event is being tracked."),(0,r.kt)("p",null,"Here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"t1.track(PageView.builder().( ... ).timestamp(1423583655000).build());\n")),(0,r.kt)("h4",{id:"42-track-screen-views-withtrackscreenview-event"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#42-track-screen-views-with-trackscreenview-event"}),"4.2 Track screen views with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"track(ScreenView event)")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(ScreenView event)"),"\xa0to track a user viewing a screen (or equivalent) within your app. You must use either\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"name"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"id"),". Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"Human-readable name for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"id")),(0,r.kt)("td",{parentName:"tr",align:null},"Unique identifier for this screen"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'t1.track(ScreenView.builder()\n    .name("HUD > Save Game")\n    .id("screen23")\n    .build());\n\nt1.track(ScreenView.builder()\n    .name("HUD > Save Game")\n    .id("screen23")\n    .customContext(contextList)\n    .timestamp(1423583655000)\n    .eventId("uid-1")\n    .build());\n')),(0,r.kt)("h4",{id:"43-track-pageviews-withtrackpageview-event"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#43-track-pageviews-with-trackpageview-event"}),"4.3 Track pageviews with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"track(PageView event)")),(0,r.kt)("p",null,"You can use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(PageView event)"),"\xa0to track a user viewing a web page within your app."),(0,r.kt)("p",null,"Arguments are:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pageUrl")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pageTitle")),(0,r.kt)("td",{parentName:"tr",align:null},"The title of the page"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"referrer")),(0,r.kt)("td",{parentName:"tr",align:null},"The address which linked to the page"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'t1.track(PageView.builder()\n    .pageUrl("www.example.com")\n    .pageTitle("example")\n    .referrer("www.referrer.com")\n    .build());\n\nt1.track(PageView.builder()\n    .pageUrl("www.example.com")\n    .pageTitle("example")\n    .referrer("www.referrer.com")\n    .customContext(contextList)\n    .timestamp(1423583655000)\n    .eventId("uid-1")\n    .build());\n')),(0,r.kt)("h4",{id:"44-track-ecommerce-transactions-withtrackecommercetransaction-event"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#44-track-ecommerce-transactions-with-trackecommercetransaction-event"}),"4.4 Track ecommerce transactions with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"track(EcommerceTransaction event)")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(EcommerceTransaction event)"),"\xa0to track an ecommerce transaction."),(0,r.kt)("p",null,"Arguments:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"orderId")),(0,r.kt)("td",{parentName:"tr",align:null},"ID of the eCommerce transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"totalValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Total transaction value"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Double"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"affiliation")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction affiliation"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"taxValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction tax value"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Double"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"shipping")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery cost charged"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Double"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"city")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address city"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"state")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address state"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"country")),(0,r.kt)("td",{parentName:"tr",align:null},"Delivery address country"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Transaction currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"items")),(0,r.kt)("td",{parentName:"tr",align:null},"Items in the transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<EcommerceTransactionItem>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"items")),(0,r.kt)("td",{parentName:"tr",align:null},"Items in the transaction"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"EcommerceTransactionItem..."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0argument is a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"List"),"\xa0of individual\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"EcommerceTransactionItem"),"\xa0elements representing the items in the e-commerce transaction or it can be a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"varargs"),"\xa0argument of many individual items. Note that\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(EcommerceTransaction event)"),"\xa0fires multiple events: one transaction event for the transaction as a whole, and one transaction item event for each element of the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"items"),"\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"List"),". Each transaction item event will have the same timestamp, order","_","id, and currency as the main transaction event."),(0,r.kt)("h4",{id:"441ecommercetransactionitem"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#441-ecommercetransactionitem"}),"4.4.1\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"EcommerceTransactionItem")),(0,r.kt)("p",null,"To instantiate a\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"EcommerceTransactionItem"),"\xa0in your code, simply use the following constructor signature:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'EcommerceTransactionItem item = EcommerceTransactionItem.builder()\n    .itemId("item_id")\n    .sku("item_sku")\n    .price(1.00)\n    .quantity(1)\n    .name("item_name")\n    .category("item_category")\n    .currency("currency")\n    .build();\n')),(0,r.kt)("p",null,"These are the fields that can appear as elements in each\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"EcommerceTransactionItem"),"\xa0element of the transaction item's\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"List"),":"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Field")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"itemId")),(0,r.kt)("td",{parentName:"tr",align:null},"Item ID"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sku")),(0,r.kt)("td",{parentName:"tr",align:null},"Item SKU"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"price")),(0,r.kt)("td",{parentName:"tr",align:null},"Item price"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Double"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"quantity")),(0,r.kt)("td",{parentName:"tr",align:null},"Item quantity"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Integer"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"Item name"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"Item category"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"currency")),(0,r.kt)("td",{parentName:"tr",align:null},"Item currency"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"Example of tracking a transaction containing two items:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Create some Transaction Items\nEcommerceTransactionItem item1 = EcommerceTransactionItem.builder()\n    .itemId("item_id_1")\n    .sku("item_sku_1")\n    .price(1.00)\n    .quantity(1)\n    .name("item_name")\n    .category("item_category")\n    .currency("currency")\n    .build();\n\nEcommerceTransactionItem item2 = EcommerceTransactionItem.builder()\n    .itemId("item_id_2")\n    .sku("item_sku_2")\n    .price(1.00)\n    .quantity(1)\n    .name("item_name")\n    .category("item_category")\n    .currency("currency")\n    .build();\n\n// Add these items to a List\nList<EcommerceTransactionItem> items = new ArrayList<>();\nitems.add(item1);\nitems.add(item2);\n\n// Now Track the Transaction by using this list of items as an argument\ntracker.track(EcommerceTransaction.builder()\n    .orderId("6a8078be")\n    .totalValue(300.00)\n    .affiliation("my_affiliate")\n    .taxValue(30.00)\n    .shipping(10.00)\n    .city("Boston")\n    .state("Massachusetts")\n    .country("USA")\n    .currency("USD")\n    .items(items)\n    .build());\n\n// Or include the items as varargs in the items section\ntracker.track(EcommerceTransaction.builder()\n    .orderId("6a8078be")\n    .totalValue(300.00)\n    .affiliation("my_affiliate")\n    .taxValue(30.00)\n    .shipping(10.00)\n    .city("Boston")\n    .state("Massachusetts")\n    .country("USA")\n    .currency("USD")\n    .items(item1, item2)\n    .build());\n')),(0,r.kt)("h4",{id:"45-track-structured-events-withtrackstructured-event"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#45-track-structured-events-with-trackstructured-event"}),"4.5 Track structured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"track(Structured event)")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(Structured event)"),"\xa0to track a custom event happening in your app which fits the Google Analytics-style structure of having up to five fields (with only the first two required):"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"The grouping of structured events which this\xa0",(0,r.kt)("inlineCode",{parentName:"td"},"action"),"\xa0belongs to"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"action")),(0,r.kt)("td",{parentName:"tr",align:null},"Defines the type of user interaction which this event involves"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"A string to provide additional dimensions to the event data"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"property")),(0,r.kt)("td",{parentName:"tr",align:null},"A string describing the object or the action performed on it"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:null},"A value to provide numerical data about the event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Double"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'t1.track(Structured.builder()\n    .category("shop")\n    .action("add-to-basket")\n    .label("Add To Basket")\n    .property("pcs")\n    .value(2.00)\n    .build());\n\nt1.track(Structured.builder()\n    .category("shop")\n    .action("add-to-basket")\n    .label("Add To Basket")\n    .property("pcs")\n    .value(2.00)\n    .customContext(contextList)\n    .timestamp(1423583655000)\n    .eventId("uid-1")\n    .build());\n')),(0,r.kt)("h4",{id:"46-track-unstructured-events-withtrackunstructured-event"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#46-track-unstructured-events-with-trackunstructured-event"}),"4.6 Track unstructured events with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"track(Unstructured event)")),(0,r.kt)("p",null,"Custom unstructured events are a flexible tool that enable Snowplow users to define their own event types and send them into Snowplow."),(0,r.kt)("p",null,"When a user sends in a custom unstructured event, they do so as a JSON of name-value properties, that conforms to a JSON schema defined for the event earlier."),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(Unstructured event)"),"\xa0to track a custom event which consists of a name and an unstructured set of properties. This is useful when:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You want to track event types which are proprietary/specific to your business (i.e. not already part of Snowplow), or"),(0,r.kt)("li",{parentName:"ul"},"You want to track events which have unpredictable or frequently changing properties")),(0,r.kt)("p",null,"The arguments are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventData")),(0,r.kt)("td",{parentName:"tr",align:null},"The properties of the event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SelfDescribingJson"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"Example event json to track:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n  "schema": "iglu:com.acme/save_game/jsonschema/1-0-0",\n  "data": {\n    "levelName": "Barrels o\' Fun",\n    "levelIndex": 23\n  }\n}\n')),(0,r.kt)("p",null,"How to set it up?"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'// Create a Map of your event data\nMap<String, Object> eventMap = new HashMap<>();\neventMap.put("levelName", "Barrels o\' Fun")\neventMap.put("levelIndex", 23);\n\n// Create your event data\nSelfDescribingJson eventData = new SelfDescribingJson("iglu:com.acme/save_game/jsonschema/1-0-0", eventMap);\n\n// Track your event with your custom event data\nt1.track(Unstructured.builder()\n    .eventData(eventData)\n    .build();\n\n// OR\n\nt1.track(Unstructured.builder()\n    .eventData(eventData)\n    .customContext(contextList)\n    .timestamp(1423583655000)\n    .eventId("uid-1")\n    .build();\n')),(0,r.kt)("p",null,"For more on JSON schema, see the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://snowplowanalytics.com/blog/2014/05/15/introducing-self-describing-jsons/"},"blog post"),"."),(0,r.kt)("h4",{id:"47-track-timing-events-withtracktimingwithcategory-event"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#47-track-timing-events-with-tracktimingwithcategory-event"}),"4.7 Track timing events with\xa0",(0,r.kt)("inlineCode",{parentName:"h4"},"track(TimingWithCategory event)")),(0,r.kt)("p",null,"Use\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"track(TimingWithCategory event)"),"\xa0to track an event related to a custom timing."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"category")),(0,r.kt)("td",{parentName:"tr",align:null},"The category of the timed event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"The label of the timed event"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timing")),(0,r.kt)("td",{parentName:"tr",align:null},"The timing measurement in milliseconds"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Integer"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"variable")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the timed event"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"customContext")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom context"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"List<SelfDescribingJson>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timestamp")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Long"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"eventId")),(0,r.kt)("td",{parentName:"tr",align:null},"Optional custom event id"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"String"))))),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'t1.track(TimingWithCategory.builder()\n    .category("category")\n    .variable("variable")\n    .timing(1)\n    .label("label")\n    .build());\n\nt1.track(TimingWithCategory.builder()\n    .category("category")\n    .variable("variable")\n    .timing(1)\n    .label("label")\n    .customContext(contextList)\n    .timestamp(1423583655000)\n    .eventId("uid-1")\n    .build());\n')),(0,r.kt)("h2",{id:"5-sending-eventemitter"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#5-sending-event-emitter"}),"5","."," Sending event:\xa0",(0,r.kt)("inlineCode",{parentName:"h2"},"Emitter")),(0,r.kt)("p",null,"Events are sent using an\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Emitter"),"\xa0class. You can initialize a class with a collector endpoint URL with various options to choose how these events should be sent. Here are the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Emitter"),"\xa0interfaces that can be used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Emitter e2 = new Emitter\n        .EmitterBuilder("com.collector.acme", Context context) // Required\n        .method(HttpMethod.GET) // Optional - Defines how we send the request\n        .option(BufferOption.Single) // Optional - Defines how many events we bundle in a POST\n        .security(RequestSecurity.HTTPS) // Optional - Defines what protocol used to send events\n        .callback(new EmitterCallback() {...})\n        .build();\n')),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Context"),"\xa0is used for caching events in a\xa0",(0,r.kt)("a",{parentName:"p",href:"http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html"},"SQLite database"),"\xa0in order to avoid losing events to network related issues."),(0,r.kt)("p",null,"Don't confuse the Android context with Snowplow's own custom contexts - they are completely separate things."),(0,r.kt)("p",null,"The below are required arguments for the 'EmitterBuilder({{ ... }})' segment of the constructor:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Argument Name")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Required?")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uri")),(0,r.kt)("td",{parentName:"tr",align:null},"The collector endpoint URI events will be sent to"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"context")),(0,r.kt)("td",{parentName:"tr",align:null},"Used to use to open or create an SQLite database"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,r.kt)("p",null,"We also have several extra builder options such as:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Function")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Options")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Default")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"method")),(0,r.kt)("td",{parentName:"tr",align:null},"The request method to use"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpMethod.GET, .POST")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpMethod.POST"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"option")),(0,r.kt)("td",{parentName:"tr",align:null},"The amount of events sent in a POST request"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BufferOption.{{ Enum Option}}")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BufferOption.DefaultGroup"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"security")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to send over HTTP or HTTPS"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"RequestSecurity.HTTP, .HTTPS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"RequestSecurity.HTTP"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"callback")),(0,r.kt)("td",{parentName:"tr",align:null},"A callback to output successes and failures"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"new RequestCallback{ ... }")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tick")),(0,r.kt)("td",{parentName:"tr",align:null},"The time between emitter ticks"),(0,r.kt)("td",{parentName:"tr",align:null},"Any positive int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"5"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sendLimit")),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum amount of events to get from the DB"),(0,r.kt)("td",{parentName:"tr",align:null},"Any positive int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"250"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"emptyLimit")),(0,r.kt)("td",{parentName:"tr",align:null},"The amount of times the emitter can be empty"),(0,r.kt)("td",{parentName:"tr",align:null},"Any positive int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"5"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"byteLimitGet")),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum amount of bytes to send in a GET"),(0,r.kt)("td",{parentName:"tr",align:null},"Any positive int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"40000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"byteLimitPost")),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum amount of bytes to send in a POST"),(0,r.kt)("td",{parentName:"tr",align:null},"Any positive int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"40000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"timeUnit")),(0,r.kt)("td",{parentName:"tr",align:null},"The TimeUnit that time measurements are in"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TimeUnit.{{ Enum Option }}")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TimeUnit.SECONDS"))))),(0,r.kt)("h3",{id:"51-emitter-constructor-explained"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#51-emitter-constructor-explained"}),"5.1 Emitter Constructor Explained"),(0,r.kt)("h4",{id:"required-1"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#required-1"}),"Required"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"uri"),"\xa0: The collector endpoint that all events will be sent to. Needs to be the raw path in the sense that you will not include any\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"http://"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"https://"),"\xa0with the address. Rather something like:\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"www.fake.io"),"\xa0in place of\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"http://www.fake.io"),". The http security setting is configured in a seperate option."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"context"),"\xa0: The Android Application context object.")),(0,r.kt)("h4",{id:"sending"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#sending"}),"Sending"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"method"),"\xa0: Whether to send requests via\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"GET"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"POST"),"; essentially whether to send each event individually or to send many events together in a\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"POST"),". The default\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"POST"),"\xa0setting is recommended as it has huge performance gains over sending individually as a\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"GET"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"option"),"\xa0: How many events can be parcelled together in a\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"POST"),", this can be increased to a maximum of\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"25"),"\xa0per event. If you require larger volumes please raise a ticket to have this limit increased!"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"security"),"\xa0: Whether to send events via\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"HTTP"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"HTTPS"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),"\xa0: A custom callback method that will be called after each emitter send loop, currently the only variables included are the count of successfully and unsuccessfully sent events."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"byteLimitGet"),"\xa0: Allows you to set an upper limit for the maximal size of a single\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"GET"),"\xa0request. Meaning that if an event exceeds this size we will attempt to send it but will then delete it from the database regardless of success to send."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"byteLimitPost"),"\xa0: Allows you to set an upper limit for the maximal size of a single\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"POST"),"\xa0request. Meaning that if an event exceeds this size we will attempt to send it but will then delete it from the database regardless of success to send.")),(0,r.kt)("h4",{id:"functional-settings-1"},(0,r.kt)("a",{parentName:"h4",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#functional-settings-1"}),"Functional Settings"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tick"),"\xa0: The interval at which the emitter will check for more events."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timeUnit"),"\xa0: The timeunit that the aforementioned\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"tick"),"\xa0is measured in. By default we measure this in seconds."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sendLimit"),"\xa0: The upper limit of events that can be grabbed from the database per sending session, this in place to avoid consuming overt amounts of memory in case of huge event ingress. On weaker devices this can be tuned down to and on beefier devices can be greatly increased."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"emptyLimit"),"\xa0: The amount of times that the emitter is allowed to fail a check before it will release its Thread back to the pool.")),(0,r.kt)("h3",{id:"52-how-the-emitter-works"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#52-how-the-emitter-works"}),"5.2 How the Emitter works"),(0,r.kt)("p",null,"The Emitter is configured and setup to run as a background process so it never blocks on the Main Thread or on the UI Thread of the device it is on."),(0,r.kt)("p",null,"The current Emitter flow goes as follows:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Emitter is created"),(0,r.kt)("li",{parentName:"ol"},"Emitter will check if it has access to the internet"),(0,r.kt)("li",{parentName:"ol"},"If it is it will begin a recurring check for events to send to the configured collector",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"This defaults to every 5 seconds"))),(0,r.kt)("li",{parentName:"ol"},"If there are events in the SQlite database the emitter will grab up to 250 (default) events from the database and begin sending."),(0,r.kt)("li",{parentName:"ol"},"Once it has finished sending it will again check for events"),(0,r.kt)("li",{parentName:"ol"},"If there are no events to be sent 5 (default) times in a row, it will shut itself down"),(0,r.kt)("li",{parentName:"ol"},"On receiving a new event the Emitter checks again if it is online and will then begin sending again"),(0,r.kt)("li",{parentName:"ol"},"If there are only errors in sending, the events will not be deleted from the database and the emitter will then be shutdown",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If there are some successes it will not shutdown.")))),(0,r.kt)("h3",{id:"53-using-a-buffer"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#53-using-a-buffer"}),"5.3 Using a buffer"),(0,r.kt)("p",null,"A buffer is used to group events together in bulk before sending them. This is especially handy to reduce network usage. By default, the Emitter buffers up to 10 events together before sending them; only available if you are using POST as your request type."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"e1.setBufferOption(BufferOption.Single); // 1\n// OR\ne1.setBufferOption(BufferOption.DefaultGroup); // 10\n// OR For heavier event sending...\ne1.setBufferOption(BufferOption.HeavyGroup); // 25\n")),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Single")),(0,r.kt)("td",{parentName:"tr",align:null},"Events are sent individually")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DefaultGroup")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events in groups of 10 events or less")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HeavyGroup")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events in groups of 25 events or less")))),(0,r.kt)("p",null,"Buffer options will only ever influence how POST request are sent however. All GET requests will be sent individually."),(0,r.kt)("h3",{id:"54-choosing-the-http-method"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#54-choosing-the-http-method"}),"5.4 Choosing the HTTP method"),(0,r.kt)("p",null,"Snowplow supports receiving events via both GET and POST requests. In a GET request, each event is sent in individual request. With POST requests, events are bundled together in one request."),(0,r.kt)("p",null,"You can set the HTTP method in the Emitter constructor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Emitter e2 = new Emitter\n        .EmitterBuilder("com.collector.acme", Context context)\n        .method(HttpMethod.GET)\n        .build();\n')),(0,r.kt)("p",null,"Here are all the posibile options that you can use:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Option")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GET")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events as GET requests")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"POST")),(0,r.kt)("td",{parentName:"tr",align:null},"Sends events as POST requests")))),(0,r.kt)("h3",{id:"55-emitter-callback"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#55-emitter-callback"}),"5.5 Emitter callback"),(0,r.kt)("p",null,"If an event fails to send because of a network issue, you can choose to handle the failure case with a callback class to react accordingly. The callback class needs to implement the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"EmitterCallback"),"\xa0interface in order to do so. Here is a sample bit of code to show how it could work:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'RequestCallback callback = new RequestCallback() {\n  @Override\n  public void onSuccess(int successCount) {\n    Log.d("Tracker", "Buffer length for POST/GET:" + successCount);\n  }\n  @Override\n  public void onFailure(int successCount, int failureCount) {\n    Log.d("Tracker", "Failures: " + failureCount + "; Successes: " + successCount);\n  }\n});\n\nEmitter emitter = new Emitter\n        .EmitterBuilder("com.collector.acme", Context context)\n        .callback(callback)\n        .build();\n')),(0,r.kt)("h3",{id:"56-emitter-flush"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#56-emitter-flush"}),"5.6 Emitter Flush"),(0,r.kt)("p",null,"If you want to ensure that there are no events left in the local database for sending simply run the emitter\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"flush()"),"\xa0function like so:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracker.getEmitter().flush();\n")),(0,r.kt)("p",null,"This will attempt to start the emitter process; however it will fail if the emitter is already running or if the application is offline."),(0,r.kt)("h2",{id:"6-logging"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Tracker-0.5.0#6-logging"}),"6","."," Logging"),(0,r.kt)("p",null,"Logging in the Tracker is done using our own Logger class: '/utils/Logger.java'. All logging is actioned based on what\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"LogLevel"),"\xa0was set in the Tracker creation. This level can be configured to\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"VERBOSE"),",\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"DEBUG"),",\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"ERROR"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"OFF"),". By default logging is not enabled."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"integration"},"Integration"),(0,r.kt)("h2",{id:"1-classic-tracker"},"1","."," Classic Tracker"),(0,r.kt)("p",null,"You will need to have imported the following library into your project:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"dependencies {\n    ...\n    // Snowplow Android Tracker Classic\n    compile 'com.snowplowanalytics:snowplow-android-tracker-classic:0.5.4'\n}\n")),(0,r.kt)("p",null,"Example class to return an Android Classic Tracker:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import com.snowplowanalytics.snowplow.tracker.*;\nimport android.content.Context;\n\npublic class TrackerBuilderClassic {\n\n    public static Tracker getClassicTracker(Context context) {\n        Emitter emitter = getClassicEmitter(context);\n        Subject subject = getSubject(context);  // Optional\n\n        return new Tracker\n            .TrackerBuilder(emitter, "your-namespace", "your-appid", context,\n                com.snowplowanalytics.snowplow.tracker.classic.Tracker.class)\n            .subject(subject) // Optional\n            .build();\n    }\n\n    private static Emitter getClassicEmitter(Context context) {\n        return new Emitter\n            .EmitterBuilder("notarealuri.fake.io", context,\n                com.snowplowanalytics.snowplow.tracker.classic.Emitter.class)\n            .build();\n    }\n\n    private static Subject getSubject(Context context) {\n        return new Subject\n            .SubjectBuilder()\n            .context(context)\n            .build();\n    }\n}\n')),(0,r.kt)("h2",{id:"2-rxjava-tracker"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Integration-0.5.0#2-rxjava-tracker"}),"2","."," RxJava tracker"),(0,r.kt)("p",null,"You will need to have imported the following library into your project:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"dependencies {\n    ...\n    // Snowplow Android Tracker Rx\n    compile 'com.snowplowanalytics:snowplow-android-tracker-rx:0.5.4'\n}\n")),(0,r.kt)("p",null,"Example class to return an Android RxJava Tracker:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'import com.snowplowanalytics.snowplow.tracker.*;\nimport android.content.Context;\n\npublic class TrackerBuilderRx {\n\n    public static Tracker getRxTracker(Context context) {\n        Emitter emitter = getRxEmitter(context);\n        Subject subject = getSubject(context); // Optional\n\n        return new Tracker\n            .TrackerBuilder(emitter, "your-namespace", "your-appid", context,\n                com.snowplowanalytics.snowplow.tracker.rx.Tracker.class)\n            .subject(subject) // Optional\n            .build();\n    }\n\n    private static Emitter getRxEmitter(Context context) {\n        return new Emitter\n            .EmitterBuilder("notarealuri.fake.io", context,\n                com.snowplowanalytics.snowplow.tracker.rx.Emitter.class)\n            .build();\n    }\n\n    private static Subject getSubject(Context context) {\n        return new Subject\n            .SubjectBuilder()\n            .context(context)\n            .build();\n    }\n}\n')),(0,r.kt)("h2",{id:"3-tracking-events"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Integration-0.5.0#3-tracking-events"}),"3","."," Tracking Events"),(0,r.kt)("p",null,"Once you have successfully built your Tracker object you can track events with calls like the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Tracker tracker = getClassicTracker(context);\ntracker.track(ScreenView.builder().name("screenName").id("screenId").build());\n')),(0,r.kt)("p",null,"For an outline of all available tracking combinations have a look\xa0",(0,r.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/snowplow/snowplow-android-tracker/master/snowplow-demo-app/src/main/java/com/snowplowanalytics/snowplowtrackerdemo/utils/TrackerEvents.java"},"here"),"."),(0,r.kt)("h2",{id:"4-application-focus"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Integration-0.5.0#4-application-focus"}),"4","."," Application Focus"),(0,r.kt)("p",null,"The Tracker Session object can be tuned to timeout in\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"foreground"),"\xa0and\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"background"),"\xa0scenarios, but you are required to tell us when your application is in these states. Unfortunately it is not possible to do so from a library standpoint."),(0,r.kt)("p",null,"The current implementation we are using is to override the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"onPause()"),"\xa0and\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"onResume()"),"\xa0functions of an application activity to notify the session when we change states."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"@Override\nprotected void onPause() {\n    super.onPause();\n    tracker.getSession().setIsBackground(true);\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    tracker.getSession().setIsBackground(false);\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"testing-locally"},"Testing locally"),(0,r.kt)("h2",{id:"1-testing-locally"},"1","."," Testing Locally"),(0,r.kt)("p",null,"To test the Android Tracker locally we use a combination of two softwares:\xa0",(0,r.kt)("a",{parentName:"p",href:"http://www.mbtest.org/"},"Mountebank"),"\xa0and\xa0",(0,r.kt)("a",{parentName:"p",href:"https://ngrok.com/"},"Ngrok"),"."),(0,r.kt)("p",null,"Mountebank provides a local webserver which we can apply\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"imposters"),"\xa0to run on different ports. An\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"imposter"),"\xa0in this context is just a mock which, for our purposes, does some light validation to ensure that the event it receives is indeed a valid Snowplow Event. This is the\xa0",(0,r.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/snowplow/snowplow-android-tracker/0.5.0/testing/imposter.json"},"imposter"),"\xa0that we use for validating our events."),(0,r.kt)("p",null,"We then get Ngrok to listen on the same port as the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"imposter"),"\xa0port. This provides two things:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A clean easy to use Web Interface with details about each event.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Found at\xa0",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:4040/")))),(0,r.kt)("li",{parentName:"ul"},"An endpoint that you can send to from anywhere.")),(0,r.kt)("p",null,"When you visit the Ngrok Web Interface you will see the tunnel URL that you can use to send events to."),(0,r.kt)("p",null,"To actually set this up you will need to follow these steps:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," host$ git clone https://github.com/snowplow/snowplow-android-tracker.git\n host$ cd snowplow-android-tracker\n host$ vagrant up && vagrant ssh\nguest$ cd /vagrant\nguest$ chmod +x ./testing/setup.bash\nguest$ ./testing/setup.bash\n")),(0,r.kt)("p",null,"The\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"setup.bash"),"\xa0script starts Mountebank and starts the imposter we want and then starts Ngrok listening on the imposter port."),(0,r.kt)("p",null,"Once you have it running you can supply the tunnel URL for all logging of events until you are ready to switch to a collector!"),(0,r.kt)("h2",{id:"2-common-issues"},(0,r.kt)("a",{parentName:"h2",href:"https://github.com/snowplow/snowplow/wiki/Android-Testing-locally-and-Debugging-0.5.0#2-common-issues"}),"2","."," Common Issues"),(0,r.kt)("p",null,"This section will detail how to handle common problems with running the local testing setup."),(0,r.kt)("h3",{id:"21-port-conflicts"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Testing-locally-and-Debugging-0.5.0#21-port-conflicts"}),"2.1 Port Conflicts"),(0,r.kt)("p",null,"If you are already using ports\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"2525"),"\xa0or\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"4040"),"\xa0your vagrant up will fail. Easiest way to resolve this is to stop any services running on these ports and then attempt to vagrant up again."),(0,r.kt)("p",null,"However if this is not an option you will need to edit the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Vagrantfile"),"\xa0in the root of the project:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'config.vm.network "forwarded_port", guest: 4040, host: 4040 ## Change the host to something free\nconfig.vm.network "forwarded_port", guest: 2525, host: 2525 ## Change the host to something free\n')),(0,r.kt)("h3",{id:"22-sending-failures"},(0,r.kt)("a",{parentName:"h3",href:"https://github.com/snowplow/snowplow/wiki/Android-Testing-locally-and-Debugging-0.5.0#22-sending-failures"}),"2.2 Sending failures"),(0,r.kt)("p",null,"If you have successfully started Ngrok and you have an endpoint but your events are not getting there chances are that Mountebank as failed to start properly."),(0,r.kt)("p",null,"To resolve:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"guest$ curl -X DELETE http://localhost:2525/imposters/4545\nguest$ curl -i -X POST -H 'Content-Type: application/json' -d@/vagrant/testing/imposter.json http://localhost:2525/imposters\n")),(0,r.kt)("p",null,"This will delete the imposter and create a new one in its place."),(0,r.kt)("p",null,"If you you cannot get to the Ngrok Web Interface at all the best way to resolve is the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"host$ cd snowplow-android-tracker\nhost$ vagrant halt\nhost$ vagrant up && vagrant ssh\nguest$ cd /vagrant\nguest$ ./testing/setup.bash\n")),(0,r.kt)("p",null,"This simply stops the VM and restarts it."))}m.isMDXComponent=!0}}]);