"use strict";(self.webpackChunkdocsite_poc_github_io=self.webpackChunkdocsite_poc_github_io||[]).push([[31216],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,h=m["".concat(l,".").concat(u)]||m[u]||p[u]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var d=2;d<o;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},33282:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var a=n(87462),r=(n(67294),n(3905));const o={title:"Sessions and data model",date:"2022-01-31",sidebar_position:5e3},i=void 0,s={unversionedId:"collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model/index",id:"collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model/index",title:"Sessions and data model",description:"The Flutter tracker gives you the option to adopt the\xa0Snowplow mobile data model\xa0across all supported platforms \u2013 Android, iOS, and Web. In contrast with the\xa0web data model\xa0which builds on page view and page ping events, the mobile data model uses screen view events. The mobile data model was chosen in order to make event tracking consistent across all supported Flutter platforms.",source:"@site/docs/collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model/index.md",sourceDirName:"collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model",slug:"/collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model/",permalink:"/docs/collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model/",draft:!1,editUrl:"https://github.com/snowplow/snowplow.github.io/tree/main/docs/collecting-data/collecting-from-own-applications/flutter-tracker/sessions-and-data-model/index.md",tags:[],version:"current",lastUpdatedAt:1661183915,formattedLastUpdatedAt:"Aug 22, 2022",sidebarPosition:5e3,frontMatter:{title:"Sessions and data model",date:"2022-01-31",sidebar_position:5e3},sidebar:"tutorialSidebar",previous:{title:"Adding data to your events: context and more",permalink:"/docs/collecting-data/collecting-from-own-applications/flutter-tracker/adding-data/"},next:{title:"Roku Tracker",permalink:"/docs/collecting-data/collecting-from-own-applications/roku-tracker/"}},l={},d=[],c={toc:d};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Flutter tracker gives you the option to adopt the\xa0",(0,r.kt)("a",{parentName:"p",href:"/docs/modeling-your-data/the-snowplow-mobile-model/"},"Snowplow mobile data model"),"\xa0across all supported platforms \u2013 Android, iOS, and Web. In contrast with the\xa0",(0,r.kt)("a",{parentName:"p",href:"/docs/modeling-your-data/the-snowplow-web-data-model/"},"web data model"),"\xa0which builds on page view and page ping events, the mobile data model uses screen view events. The mobile data model was chosen in order to make event tracking consistent across all supported Flutter platforms."),(0,r.kt)("p",null,"In addition to adopting screen view events, the mobile data model defines that sessions are represented using a\xa0",(0,r.kt)("a",{parentName:"p",href:"https://github.com/snowplow/iglu-central/blob/master/schemas/com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-1"},"context entity"),". Concretely, the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"client_session"),"\xa0context entity is added to all tracked events if session tracking is enabled in the tracker configuration (through the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"sessionContext"),"\xa0property). This entity consists of the following properties:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"userId")),(0,r.kt)("td",{parentName:"tr",align:null},"An identifier for the user of the session."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sessionId")),(0,r.kt)("td",{parentName:"tr",align:null},"An identifier (UUID) for the session."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sessionIndex")),(0,r.kt)("td",{parentName:"tr",align:null},"The index of the current session for this user."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"previousSessionId")),(0,r.kt)("td",{parentName:"tr",align:null},"The previous session identifier (UUID) for this user."),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"storageMechanism")),(0,r.kt)("td",{parentName:"tr",align:null},"The mechanism that the session information has been stored on the device."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"firstEventId")),(0,r.kt)("td",{parentName:"tr",align:null},"The optional identifier (UUID) of the first event id for this session."),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,"Behind the scenes, the Flutter tracker uses the default configuration for session management on the Android, iOS, and Web trackers."),(0,r.kt)("p",null,"On Android and iOS, session data is maintained for the life of the application being installed on a device. Essentially it will update if it is not accessed within a configurable timeout. There are two inactivity timeouts that result in updates to the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"sessionId"),": foreground inactivity, and background inactivity timeout. The default 30 minutes setting is used for both."),(0,r.kt)("p",null,"On the Web, the tracker uses domain (",(0,r.kt)("inlineCode",{parentName:"p"},"duid"),") and session cookies (",(0,r.kt)("inlineCode",{parentName:"p"},"sid"),") as implemented by the JavaScript tracker. The session cookie expires after 30 minutes of inactivity. This means that a user leaving the site and returning in under 30 minutes does not change the session. In contrast with the JavaScript tracker, the Flutter tracker also adds the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"client_session"),"\xa0context entity that wraps the domain and session IDs."))}p.isMDXComponent=!0}}]);